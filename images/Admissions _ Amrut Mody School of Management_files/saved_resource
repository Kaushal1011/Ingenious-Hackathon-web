(function(){var a,b,c,d,e,f,g=function(a,b){return function(){return a.apply(b,arguments)}};b=function(){function a(){this.update=g(this.update,this)}return a.prototype.update=function(a){var b,c,e;for(c in a)e=a[c],"items"!==c&&(this[c]=e);return this.items=function(){var c,e,f,g;for(f=a.items,g=[],c=0,e=f.length;e>c;c++)b=f[c],g.push(new d(b));return g}()},a}(),d=function(){function a(a){this.propertyArray=g(this.propertyArray,this),this.update=g(this.update,this),this.update(a)}return a.prototype.update=function(a){var b,d;for(b in a)d=a[b],"properties"!==b&&(this[b]=d);return this.properties=c.Utils.extend({},a.properties)},a.prototype.propertyArray=function(){var a,b,c,d;c=this.properties,d=[];for(a in c)b=c[a],d.push({name:a,value:b});return d},a}(),c={settings:{debug:!1,dataAPI:!0,requestBodyClass:null,rivetsModels:{},currency:null,moneyFormat:null,moneyWithCurrencyFormat:null,weightUnit:"g",weightPrecision:0},cart:new b},c.init=function(a,b){return null==b&&(b={}),c.configure(b),c.Utils.log("Initialising CartJS."),c.cart.update(a),c.settings.dataAPI&&(c.Utils.log('"dataAPI" setting is true, initialising Data API.'),c.Data.init()),c.settings.requestBodyClass&&(c.Utils.log('"requestBodyClass" set, adding event listeners.'),jQuery(document).on("cart.requestStarted",function(){return jQuery("body").addClass(c.settings.requestBodyClass)}),jQuery(document).on("cart.requestComplete",function(){return jQuery("body").removeClass(c.settings.requestBodyClass)})),c.Rivets.init(),jQuery(document).trigger("cart.ready",[c.cart])},c.configure=function(a){return null==a&&(a={}),c.Utils.extend(c.settings,a)},null==window.console&&(window.console={},window.console.log=function(){}),c.Utils={log:function(){return c.Utils.console(console.log,arguments)},error:function(){return c.Utils.console(console.error,arguments)},console:function(a,b){return c.settings.debug&&"undefined"!=typeof console&&null!==console?(b=Array.prototype.slice.call(b),b.unshift("[CartJS]:"),a.apply(console,b)):void 0},wrapKeys:function(a,b,c){var d,e,f;null==b&&(b="properties"),f={};for(d in a)e=a[d],f[""+b+"["+d+"]"]=null!=c?c:e;return f},unwrapKeys:function(a,b,c){var d,e,f,g;null==b&&(b="properties"),e={};for(d in a)g=a[d],f=d.replace(""+b+"[","").replace("]",""),e[f]=null!=c?c:g;return e},extend:function(a,b){var c,d;for(c in b)d=b[c],a[c]=d;return a},clone:function(a){var b,c;if(null==a||"object"!=typeof a)return a;c=new a.constructor;for(b in a)c[b]=clone(a[b]);return c},isArray:Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},ensureArray:function(a){return c.Utils.isArray(a)?a:null!=a?[a]:[]},formatMoney:function(a,b,d,e){var f,g;return null==e&&(e=""),e||(e=c.settings.currency),null!=window.Currency&&e!==c.settings.currency&&(a=Currency.convert(a,c.settings.currency,e),null!=(null!=(f=window.Currency)?f.moneyFormats:void 0)&&e in window.Currency.moneyFormats&&(b=window.Currency.moneyFormats[e][d])),null!=(null!=(g=window.Shopify)?g.formatMoney:void 0)?Shopify.formatMoney(a,b):a},getSizedImageUrl:function(a,b){var c,d;return null!=(null!=(c=window.Shopify)&&null!=(d=c.Image)?d.getSizedImageUrl:void 0)?a?Shopify.Image.getSizedImageUrl(a,b):Shopify.Image.getSizedImageUrl("https://cdn.shopify.com/s/images/admin/no-image-.gif",b).replace("-_","-"):a?a:"https://cdn.shopify.com/s/images/admin/no-image-large.gif"}},f=[],e=!1,c.Queue={add:function(a,b,d){var g;return null==d&&(d={}),g={url:a,data:b,type:d.type||"POST",dataType:d.dataType||"json",success:c.Utils.ensureArray(d.success),error:c.Utils.ensureArray(d.error),complete:c.Utils.ensureArray(d.complete)},d.updateCart&&g.success.push(c.cart.update),f.push(g),e?void 0:(jQuery(document).trigger("cart.requestStarted",[c.cart]),c.Queue.process())},process:function(){var a;return f.length?(e=!0,a=f.shift(),a.complete=c.Queue.process,jQuery.ajax(a)):(e=!1,void jQuery(document).trigger("cart.requestComplete",[c.cart]))}},c.Core={getCart:function(a){return null==a&&(a={}),a.type="GET",a.updateCart=!0,c.Queue.add("/cart.js",{},a)},addItem:function(a,b,d,e){var f;return null==b&&(b=1),null==d&&(d={}),null==e&&(e={}),f=c.Utils.wrapKeys(d),f.id=a,f.quantity=b,c.Queue.add("/cart/add.js",f,e),c.Core.getCart()},updateItem:function(a,b,d,e){var f;return null==d&&(d={}),null==e&&(e={}),f=c.Utils.wrapKeys(d),f.line=a,null!=b&&(f.quantity=b),e.updateCart=!0,c.Queue.add("/cart/change.js",f,e)},removeItem:function(a,b){return null==b&&(b={}),c.Core.updateItem(a,0,{},b)},updateItemById:function(a,b,d,e){var f;return null==d&&(d={}),null==e&&(e={}),f=c.Utils.wrapKeys(d),f.id=a,null!=b&&(f.quantity=b),e.updateCart=!0,c.Queue.add("/cart/change.js",f,e)},updateItemQuantitiesById:function(a,b){return null==a&&(a={}),null==b&&(b={}),b.updateCart=!0,c.Queue.add("/cart/update.js",{updates:a},b)},removeItemById:function(a,b){var d;return null==b&&(b={}),d={id:a,quantity:0},b.updateCart=!0,c.Queue.add("/cart/change.js",d,b)},clear:function(a){return null==a&&(a={}),a.updateCart=!0,c.Queue.add("/cart/clear.js",{},a)},getAttribute:function(a,b){return a in c.cart.attributes?c.cart.attributes[a]:b},setAttribute:function(a,b,d){var e;return null==d&&(d={}),e={},e[a]=b,c.Core.setAttributes(e,d)},getAttributes:function(){return c.cart.attributes},setAttributes:function(a,b){return null==a&&(a={}),null==b&&(b={}),b.updateCart=!0,c.Queue.add("/cart/update.js",c.Utils.wrapKeys(a,"attributes"),b)},clearAttributes:function(a){return null==a&&(a={}),a.updateCart=!0,c.Queue.add("/cart/update.js",c.Utils.wrapKeys(c.Core.getAttributes(),"attributes",""),a)},getNote:function(){return c.cart.note},setNote:function(a,b){return null==b&&(b={}),b.updateCart=!0,c.Queue.add("/cart/update.js",{note:a},b)}},a=null,c.Data={init:function(){return a=jQuery(document),c.Data.setEventListeners("on"),c.Data.render(null,c.cart)},destroy:function(){return c.Data.setEventListeners("off")},setEventListeners:function(b){return a[b]("click","[data-cart-add]",c.Data.add),a[b]("click","[data-cart-remove]",c.Data.remove),a[b]("click","[data-cart-remove-id]",c.Data.removeById),a[b]("click","[data-cart-update]",c.Data.update),a[b]("click","[data-cart-update-id]",c.Data.updateById),a[b]("click","[data-cart-clear]",c.Data.clear),a[b]("change","[data-cart-toggle]",c.Data.toggle),a[b]("change","[data-cart-toggle-attribute]",c.Data.toggleAttribute),a[b]("submit","[data-cart-submit]",c.Data.submit),a[b]("cart.requestComplete",c.Data.render)},add:function(a){var b;return a.preventDefault(),b=jQuery(this),c.Core.addItem(b.attr("data-cart-add"),b.attr("data-cart-quantity"))},remove:function(a){var b;return a.preventDefault(),b=jQuery(this),c.Core.removeItem(b.attr("data-cart-remove"))},removeById:function(a){var b;return a.preventDefault(),b=jQuery(this),c.Core.removeItemById(b.attr("data-cart-remove-id"))},update:function(a){var b;return a.preventDefault(),b=jQuery(this),c.Core.updateItem(b.attr("data-cart-update"),b.attr("data-cart-quantity"))},updateById:function(a){var b;return a.preventDefault(),b=jQuery(this),c.Core.updateItemById(b.attr("data-cart-update-id"),b.attr("data-cart-quantity"))},clear:function(a){return a.preventDefault(),c.Core.clear()},toggle:function(){var a,b;return a=jQuery(this),b=a.attr("data-cart-toggle"),a.is(":checked")?c.Core.addItem(b):c.Core.removeItemById(b)},toggleAttribute:function(){var a,b;return a=jQuery(this),b=a.attr("data-cart-toggle-attribute"),c.Core.setAttribute(b,a.is(":checked")?"Yes":"")},submit:function(a){var b,d,e,f;return a.preventDefault(),b=jQuery(this).serializeArray(),d=void 0,f=void 0,e={},jQuery.each(b,function(a,b){return"id"===b.name?d=b.value:"quantity"===b.name?f=b.value:b.name.match(/^properties\[\w+\]$/)?e[b.name]=b.value:void 0}),c.Core.addItem(d,f,c.Utils.unwrapKeys(e))},render:function(a,b){var d;return d={item_count:b.item_count,total_price:b.total_price,total_price_money:c.Utils.formatMoney(b.total_price,c.settings.moneyFormat,"money_format",null!=("undefined"!=typeof Currency&&null!==Currency?Currency.currentCurrency:void 0)?Currency.currentCurrency:void 0),total_price_money_with_currency:c.Utils.formatMoney(b.total_price,c.settings.moneyWithCurrencyFormat,"money_with_currency_format",null!=("undefined"!=typeof Currency&&null!==Currency?Currency.currentCurrency:void 0)?Currency.currentCurrency:void 0)},jQuery("[data-cart-render]").each(function(){var a;return a=jQuery(this),a.html(d[a.attr("data-cart-render")])})}},"rivets"in window?(c.Rivets={model:null,boundViews:[],init:function(){return c.Rivets.bindViews()},destroy:function(){return c.Rivets.unbindViews()},bindViews:function(){return c.Utils.log("Rivets.js is present, binding views."),c.Rivets.unbindViews(),c.Rivets.model=c.Utils.extend({cart:c.cart},c.settings.rivetsModels),null!=window.Currency&&(c.Rivets.model.Currency=window.Currency),jQuery("[data-cart-view]").each(function(){var a;return a=rivets.bind(jQuery(this),c.Rivets.model),c.Rivets.boundViews.push(a)})},unbindViews:function(){var a,b,d,e;for(e=c.Rivets.boundViews,b=0,d=e.length;d>b;b++)a=e[b],a.unbind();return c.Rivets.boundViews=[]}},rivets.formatters.eq=function(a,b){return a===b},rivets.formatters.includes=function(a,b){return a.indexOf(b)>=0},rivets.formatters.match=function(a,b,c){return a.match(new RegExp(b,c))},rivets.formatters.lt=function(a,b){return b>a},rivets.formatters.gt=function(a,b){return a>b},rivets.formatters.not=function(a){return!a},rivets.formatters.empty=function(a){return!a.length},rivets.formatters.plus=function(a,b){return parseInt(a)+parseInt(b)},rivets.formatters.minus=function(a,b){return parseInt(a)-parseInt(b)},rivets.formatters.times=function(a,b){return a*b},rivets.formatters.divided_by=function(a,b){return a/b},rivets.formatters.modulo=function(a,b){return a%b},rivets.formatters.prepend=function(a,b){return b+a},rivets.formatters.append=function(a,b){return a+b},rivets.formatters.slice=function(a,b,c){return a.slice(b,c)},rivets.formatters.pluralize=function(a,b,d){return null==d&&(d=b+"s"),c.Utils.isArray(a)&&(a=a.length),1===a?b:d},rivets.formatters.array_element=function(a,b){return a[b]},rivets.formatters.array_first=function(a){return a[0]},rivets.formatters.array_last=function(a){return a[a.length-1]},rivets.formatters.money=function(a,b){return c.Utils.formatMoney(a,c.settings.moneyFormat,"money_format",b)},rivets.formatters.money_with_currency=function(a,b){return c.Utils.formatMoney(a,c.settings.moneyWithCurrencyFormat,"money_with_currency_format",b)},rivets.formatters.weight=function(a){switch(c.settings.weightUnit){case"kg":return(a/1e3).toFixed(c.settings.weightPrecision);case"oz":return(.035274*a).toFixed(c.settings.weightPrecision);case"lb":return(.00220462*a).toFixed(c.settings.weightPrecision);default:return a.toFixed(c.settings.weightPrecision)}},rivets.formatters.weight_with_unit=function(a){return rivets.formatters.weight(a)+c.settings.weightUnit},rivets.formatters.product_image_size=function(a,b){return c.Utils.getSizedImageUrl(a,b)},rivets.formatters.moneyWithCurrency=rivets.formatters.money_with_currency,rivets.formatters.weightWithUnit=rivets.formatters.weight_with_unit,rivets.formatters.productImageSize=rivets.formatters.product_image_size):c.Rivets={init:function(){},destroy:function(){}},c.factory=function(a){return a.init=c.init,a.configure=c.configure,a.cart=c.cart,a.settings=c.settings,a.getCart=c.Core.getCart,a.addItem=c.Core.addItem,a.updateItem=c.Core.updateItem,a.updateItemById=c.Core.updateItemById,a.updateItemQuantitiesById=c.Core.updateItemQuantitiesById,a.removeItem=c.Core.removeItem,a.removeItemById=c.Core.removeItemById,a.clear=c.Core.clear,a.getAttribute=c.Core.getAttribute,a.setAttribute=c.Core.setAttribute,a.getAttributes=c.Core.getAttributes,a.setAttributes=c.Core.setAttributes,a.clearAttributes=c.Core.clearAttributes,a.getNote=c.Core.getNote,a.setNote=c.Core.setNote,a.render=c.Data.render},"object"==typeof exports?c.factory(exports):"function"==typeof define&&define.amd?define(["exports"],function(a){return c.factory(this.CartJS=a),a}):c.factory(this.CartJS={})}).call(this);
!function(e,t,r){"use strict";"function"==typeof window.define&&window.define.amd?window.define(r):"undefined"!=typeof module&&module.exports?module.exports=r():t.exports?t.exports=r():t.Fingerprint2=r()}(0,this,function(){"use strict";var e=function(t){if(!(this instanceof e))return new e(t);this.options=this.extend(t,{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:!0,sortPluginsFor:[/palemoon/i],userDefinedFonts:[],excludeDoNotTrack:!0,excludePixelRatio:!0}),this.nativeForEach=Array.prototype.forEach,this.nativeMap=Array.prototype.map};return e.prototype={extend:function(e,t){if(null==e)return t;for(var r in e)null!=e[r]&&t[r]!==e[r]&&(t[r]=e[r]);return t},get:function(e){var t=this,r={data:[],addPreprocessedComponent:function(e){var n=e.value;"function"==typeof t.options.preprocessor&&(n=t.options.preprocessor(e.key,n)),r.data.push({key:e.key,value:n})}};r=this.userAgentKey(r),r=this.languageKey(r),r=this.colorDepthKey(r),r=this.deviceMemoryKey(r),r=this.pixelRatioKey(r),r=this.hardwareConcurrencyKey(r),r=this.screenResolutionKey(r),r=this.availableScreenResolutionKey(r),r=this.timezoneOffsetKey(r),r=this.sessionStorageKey(r),r=this.localStorageKey(r),r=this.indexedDbKey(r),r=this.addBehaviorKey(r),r=this.openDatabaseKey(r),r=this.cpuClassKey(r),r=this.platformKey(r),r=this.doNotTrackKey(r),r=this.pluginsKey(r),r=this.canvasKey(r),r=this.webglKey(r),r=this.webglVendorAndRendererKey(r),r=this.adBlockKey(r),r=this.hasLiedLanguagesKey(r),r=this.hasLiedResolutionKey(r),r=this.hasLiedOsKey(r),r=this.hasLiedBrowserKey(r),r=this.touchSupportKey(r),r=this.customEntropyFunction(r),this.fontsKey(r,function(r){var n=[];t.each(r.data,function(e){var t=e.value;t&&"function"==typeof t.join&&(t=t.join(";")),n.push(t)});var i=t.x64hash128(n.join("~~~"),31);return e(i,r.data)})},customEntropyFunction:function(e){return"function"==typeof this.options.customFunction&&e.addPreprocessedComponent({key:"custom",value:this.options.customFunction()}),e},userAgentKey:function(e){return this.options.excludeUserAgent||e.addPreprocessedComponent({key:"user_agent",value:this.getUserAgent()}),e},getUserAgent:function(){return navigator.userAgent},languageKey:function(e){return this.options.excludeLanguage||e.addPreprocessedComponent({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||""}),e},colorDepthKey:function(e){return this.options.excludeColorDepth||e.addPreprocessedComponent({key:"color_depth",value:window.screen.colorDepth||-1}),e},deviceMemoryKey:function(e){return this.options.excludeDeviceMemory||e.addPreprocessedComponent({key:"device_memory",value:this.getDeviceMemory()}),e},getDeviceMemory:function(){return navigator.deviceMemory||-1},pixelRatioKey:function(e){return this.options.excludePixelRatio||e.addPreprocessedComponent({key:"pixel_ratio",value:this.getPixelRatio()}),e},getPixelRatio:function(){return window.devicePixelRatio||""},screenResolutionKey:function(e){return this.options.excludeScreenResolution?e:this.getScreenResolution(e)},getScreenResolution:function(e){var t;return t=this.options.detectScreenOrientation&&window.screen.height>window.screen.width?[window.screen.height,window.screen.width]:[window.screen.width,window.screen.height],e.addPreprocessedComponent({key:"resolution",value:t}),e},availableScreenResolutionKey:function(e){return this.options.excludeAvailableScreenResolution?e:this.getAvailableScreenResolution(e)},getAvailableScreenResolution:function(e){var t;return window.screen.availWidth&&window.screen.availHeight&&(t=this.options.detectScreenOrientation?window.screen.availHeight>window.screen.availWidth?[window.screen.availHeight,window.screen.availWidth]:[window.screen.availWidth,window.screen.availHeight]:[window.screen.availHeight,window.screen.availWidth]),void 0!==t&&e.addPreprocessedComponent({key:"available_resolution",value:t}),e},timezoneOffsetKey:function(e){return this.options.excludeTimezoneOffset||e.addPreprocessedComponent({key:"timezone_offset",value:(new Date).getTimezoneOffset()}),e},sessionStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&e.addPreprocessedComponent({key:"session_storage",value:1}),e},localStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&e.addPreprocessedComponent({key:"local_storage",value:1}),e},indexedDbKey:function(e){return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&e.addPreprocessedComponent({key:"indexed_db",value:1}),e},addBehaviorKey:function(e){return!this.options.excludeAddBehavior&&document.body&&document.body.addBehavior&&e.addPreprocessedComponent({key:"add_behavior",value:1}),e},openDatabaseKey:function(e){return!this.options.excludeOpenDatabase&&window.openDatabase&&e.addPreprocessedComponent({key:"open_database",value:1}),e},cpuClassKey:function(e){return this.options.excludeCpuClass||e.addPreprocessedComponent({key:"cpu_class",value:this.getNavigatorCpuClass()}),e},platformKey:function(e){return this.options.excludePlatform||e.addPreprocessedComponent({key:"navigator_platform",value:this.getNavigatorPlatform()}),e},doNotTrackKey:function(e){return this.options.excludeDoNotTrack||e.addPreprocessedComponent({key:"do_not_track",value:this.getDoNotTrack()}),e},canvasKey:function(e){return!this.options.excludeCanvas&&this.isCanvasSupported()&&e.addPreprocessedComponent({key:"canvas",value:this.getCanvasFp()}),e},webglKey:function(e){return!this.options.excludeWebGL&&this.isWebGlSupported()&&e.addPreprocessedComponent({key:"webgl",value:this.getWebglFp()}),e},webglVendorAndRendererKey:function(e){return!this.options.excludeWebGLVendorAndRenderer&&this.isWebGlSupported()&&e.addPreprocessedComponent({key:"webgl_vendor",value:this.getWebglVendorAndRenderer()}),e},adBlockKey:function(e){return this.options.excludeAdBlock||e.addPreprocessedComponent({key:"adblock",value:this.getAdBlock()}),e},hasLiedLanguagesKey:function(e){return this.options.excludeHasLiedLanguages||e.addPreprocessedComponent({key:"has_lied_languages",value:this.getHasLiedLanguages()}),e},hasLiedResolutionKey:function(e){return this.options.excludeHasLiedResolution||e.addPreprocessedComponent({key:"has_lied_resolution",value:this.getHasLiedResolution()}),e},hasLiedOsKey:function(e){return this.options.excludeHasLiedOs||e.addPreprocessedComponent({key:"has_lied_os",value:this.getHasLiedOs()}),e},hasLiedBrowserKey:function(e){return this.options.excludeHasLiedBrowser||e.addPreprocessedComponent({key:"has_lied_browser",value:this.getHasLiedBrowser()}),e},fontsKey:function(e,t){return this.options.excludeJsFonts?this.flashFontsKey(e,t):this.jsFontsKey(e,t)},flashFontsKey:function(e,t){return this.options.excludeFlashFonts?t(e):this.hasSwfObjectLoaded()&&this.hasMinFlashInstalled()?void 0===this.options.swfPath?t(e):void this.loadSwfAndDetectFonts(function(r){e.addPreprocessedComponent({key:"swf_fonts",value:r.join(";")}),t(e)}):t(e)},jsFontsKey:function(e,t){var r=this;return setTimeout(function(){var n=["monospace","sans-serif","serif"],i=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];r.options.extendedJsFonts&&(i=i.concat(["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"])),i=(i=i.concat(r.options.userDefinedFonts)).filter(function(e,t){return i.indexOf(e)===t});var a=document.getElementsByTagName("body")[0],o=document.createElement("div"),s=document.createElement("div"),l={},d={},h=function(){var e=document.createElement("span");return e.style.position="absolute",e.style.left="-9999px",e.style.fontSize="72px",e.style.fontStyle="normal",e.style.fontWeight="normal",e.style.letterSpacing="normal",e.style.lineBreak="auto",e.style.lineHeight="normal",e.style.textTransform="none",e.style.textAlign="left",e.style.textDecoration="none",e.style.textShadow="none",e.style.whiteSpace="normal",e.style.wordBreak="normal",e.style.wordSpacing="normal",e.innerHTML="mmmmmmmmmmlli",e},c=function(e){for(var t=!1,r=0;r<n.length;r++)if(t=e[r].offsetWidth!==l[n[r]]||e[r].offsetHeight!==d[n[r]])return t;return t},u=function(){for(var e=[],t=0,r=n.length;t<r;t++){var i=h();i.style.fontFamily=n[t],o.appendChild(i),e.push(i)}return e}();a.appendChild(o);for(var g=0,p=n.length;g<p;g++)l[n[g]]=u[g].offsetWidth,d[n[g]]=u[g].offsetHeight;var m=function(){for(var e,t,r,a={},o=0,l=i.length;o<l;o++){for(var d=[],c=0,u=n.length;c<u;c++){var g=(e=i[o],t=n[c],r=void 0,(r=h()).style.fontFamily="'"+e+"',"+t,r);s.appendChild(g),d.push(g)}a[i[o]]=d}return a}();a.appendChild(s);for(var f=[],S=0,T=i.length;S<T;S++)c(m[i[S]])&&f.push(i[S]);a.removeChild(s),a.removeChild(o),e.addPreprocessedComponent({key:"js_fonts",value:f}),t(e)},1)},pluginsKey:function(e){return this.options.excludePlugins||(this.isIE()?this.options.excludeIEPlugins||e.addPreprocessedComponent({key:"ie_plugins",value:this.getIEPlugins()}):e.addPreprocessedComponent({key:"regular_plugins",value:this.getRegularPlugins()})),e},getRegularPlugins:function(){var e=[];if(navigator.plugins)for(var t=0,r=navigator.plugins.length;t<r;t++)navigator.plugins[t]&&e.push(navigator.plugins[t]);return this.pluginsShouldBeSorted()&&(e=e.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),this.map(e,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this)},getIEPlugins:function(){var e=[];if(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window){e=this.map(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],function(e){try{return new window.ActiveXObject(e),e}catch(e){return null}})}return navigator.plugins&&(e=e.concat(this.getRegularPlugins())),e},pluginsShouldBeSorted:function(){for(var e=!1,t=0,r=this.options.sortPluginsFor.length;t<r;t++){var n=this.options.sortPluginsFor[t];if(navigator.userAgent.match(n)){e=!0;break}}return e},touchSupportKey:function(e){return this.options.excludeTouchSupport||e.addPreprocessedComponent({key:"touch_support",value:this.getTouchSupport()}),e},hardwareConcurrencyKey:function(e){return this.options.excludeHardwareConcurrency||e.addPreprocessedComponent({key:"hardware_concurrency",value:this.getHardwareConcurrency()}),e},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasIndexedDB:function(){try{return!!window.indexedDB}catch(e){return!0}},getHardwareConcurrency:function(){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:"unknown"},getNavigatorCpuClass:function(){return navigator.cpuClass?navigator.cpuClass:"unknown"},getNavigatorPlatform:function(){return navigator.platform?navigator.platform:"unknown"},getDoNotTrack:function(){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:"unknown"},getTouchSupport:function(){var e=0,t=!1;void 0!==navigator.maxTouchPoints?e=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(e=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){}return[e,t,"ontouchstart"in window]},getCanvasFp:function(){var e=[],t=document.createElement("canvas");t.width=2e3,t.height=200,t.style.display="inline";var r=t.getContext("2d");return r.rect(0,0,10,10),r.rect(2,2,6,6),e.push("canvas winding:"+(!1===r.isPointInPath(5,5,"evenodd")?"yes":"no")),r.textBaseline="alphabetic",r.fillStyle="#f60",r.fillRect(125,1,62,20),r.fillStyle="#069",this.options.dontUseFakeFontInCanvas?r.font="11pt Arial":r.font="11pt no-real-font-123",r.fillText("Cwm fjordbank glyphs vext quiz, ðŸ˜ƒ",2,15),r.fillStyle="rgba(102, 204, 0, 0.2)",r.font="18pt Arial",r.fillText("Cwm fjordbank glyphs vext quiz, ðŸ˜ƒ",4,45),r.globalCompositeOperation="multiply",r.fillStyle="rgb(255,0,255)",r.beginPath(),r.arc(50,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(0,255,255)",r.beginPath(),r.arc(100,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,255,0)",r.beginPath(),r.arc(75,100,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,0,255)",r.arc(75,75,75,0,2*Math.PI,!0),r.arc(75,75,25,0,2*Math.PI,!0),r.fill("evenodd"),t.toDataURL&&e.push("canvas fp:"+t.toDataURL()),e.join("~")},getWebglFp:function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"};if(!(e=this.getWebglCanvas()))return null;var r=[],n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n);var i=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,i,e.STATIC_DRAW),n.itemSize=3,n.numItems=3;var a=e.createProgram(),o=e.createShader(e.VERTEX_SHADER);e.shaderSource(o,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),e.compileShader(o);var s=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(s,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),e.compileShader(s),e.attachShader(a,o),e.attachShader(a,s),e.linkProgram(a),e.useProgram(a),a.vertexPosAttrib=e.getAttribLocation(a,"attrVertex"),a.offsetUniform=e.getUniformLocation(a,"uniformOffset"),e.enableVertexAttribArray(a.vertexPosArray),e.vertexAttribPointer(a.vertexPosAttrib,n.itemSize,e.FLOAT,!1,0,0),e.uniform2f(a.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,n.numItems);try{r.push(e.canvas.toDataURL())}catch(e){}r.push("extensions:"+(e.getSupportedExtensions()||[]).join(";")),r.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),r.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),r.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),r.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),r.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),r.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),r.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),r.push("webgl max anisotropy:"+function(e){var t=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");if(t){var r=e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===r&&(r=2),r}return null}(e)),r.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),r.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),r.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),r.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),r.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),r.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),r.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),r.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),r.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),r.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),r.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),r.push("webgl red bits:"+e.getParameter(e.RED_BITS)),r.push("webgl renderer:"+e.getParameter(e.RENDERER)),r.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),r.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),r.push("webgl vendor:"+e.getParameter(e.VENDOR)),r.push("webgl version:"+e.getParameter(e.VERSION));try{var l=e.getExtension("WEBGL_debug_renderer_info");l&&(r.push("webgl unmasked vendor:"+e.getParameter(l.UNMASKED_VENDOR_WEBGL)),r.push("webgl unmasked renderer:"+e.getParameter(l.UNMASKED_RENDERER_WEBGL)))}catch(e){}return e.getShaderPrecisionFormat?(r.push("webgl vertex shader high float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision),r.push("webgl vertex shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMin),r.push("webgl vertex shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMax),r.push("webgl vertex shader medium float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision),r.push("webgl vertex shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMin),r.push("webgl vertex shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMax),r.push("webgl vertex shader low float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).precision),r.push("webgl vertex shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMin),r.push("webgl vertex shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMax),r.push("webgl fragment shader high float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision),r.push("webgl fragment shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMin),r.push("webgl fragment shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMax),r.push("webgl fragment shader medium float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision),r.push("webgl fragment shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMin),r.push("webgl fragment shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMax),r.push("webgl fragment shader low float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).precision),r.push("webgl fragment shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMin),r.push("webgl fragment shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMax),r.push("webgl vertex shader high int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).precision),r.push("webgl vertex shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMin),r.push("webgl vertex shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMax),r.push("webgl vertex shader medium int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).precision),r.push("webgl vertex shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMin),r.push("webgl vertex shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMax),r.push("webgl vertex shader low int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).precision),r.push("webgl vertex shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMin),r.push("webgl vertex shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMax),r.push("webgl fragment shader high int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).precision),r.push("webgl fragment shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMin),r.push("webgl fragment shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMax),r.push("webgl fragment shader medium int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).precision),r.push("webgl fragment shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMin),r.push("webgl fragment shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMax),r.push("webgl fragment shader low int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).precision),r.push("webgl fragment shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMin),r.push("webgl fragment shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMax),r.join("~")):r.join("~")},getWebglVendorAndRenderer:function(){try{var e=this.getWebglCanvas(),t=e.getExtension("WEBGL_debug_renderer_info");return e.getParameter(t.UNMASKED_VENDOR_WEBGL)+"~"+e.getParameter(t.UNMASKED_RENDERER_WEBGL)}catch(e){return null}},getAdBlock:function(){var e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox";var t=!1;try{document.body.appendChild(e),t=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(e)}catch(e){t=!1}return t},getHasLiedLanguages:function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1},getHasLiedResolution:function(){return window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight},getHasLiedOs:function(){var e,t=navigator.userAgent.toLowerCase(),r=navigator.oscpu,n=navigator.platform.toLowerCase();if(e=t.indexOf("windows phone")>=0?"Windows Phone":t.indexOf("win")>=0?"Windows":t.indexOf("android")>=0?"Android":t.indexOf("linux")>=0?"Linux":t.indexOf("iphone")>=0||t.indexOf("ipad")>=0?"iOS":t.indexOf("mac")>=0?"Mac":"Other",("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e)return!0;if(void 0!==r){if((r=r.toLowerCase()).indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(r.indexOf("linux")>=0&&"Linux"!==e&&"Android"!==e)return!0;if(r.indexOf("mac")>=0&&"Mac"!==e&&"iOS"!==e)return!0;if((-1===r.indexOf("win")&&-1===r.indexOf("linux")&&-1===r.indexOf("mac"))!=("Other"===e))return!0}return n.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e||((n.indexOf("linux")>=0||n.indexOf("android")>=0||n.indexOf("pike")>=0)&&"Linux"!==e&&"Android"!==e||((n.indexOf("mac")>=0||n.indexOf("ipad")>=0||n.indexOf("ipod")>=0||n.indexOf("iphone")>=0)&&"Mac"!==e&&"iOS"!==e||((-1===n.indexOf("win")&&-1===n.indexOf("linux")&&-1===n.indexOf("mac"))!=("Other"===e)||void 0===navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e)))},getHasLiedBrowser:function(){var e,t=navigator.userAgent.toLowerCase(),r=navigator.productSub;if(("Chrome"===(e=t.indexOf("firefox")>=0?"Firefox":t.indexOf("opera")>=0||t.indexOf("opr")>=0?"Opera":t.indexOf("chrome")>=0?"Chrome":t.indexOf("safari")>=0?"Safari":t.indexOf("trident")>=0?"Internet Explorer":"Other")||"Safari"===e||"Opera"===e)&&"20030107"!==r)return!0;var n,i=eval.toString().length;if(37===i&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===i&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===i&&"Chrome"!==e&&"Opera"!==e&&"Other"!==e)return!0;try{throw"a"}catch(e){try{e.toSource(),n=!0}catch(e){n=!1}}return!(!n||"Firefox"===e||"Other"===e)},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isWebGlSupported:function(){if(!this.isCanvasSupported())return!1;var e=this.getWebglCanvas();return!!window.WebGLRenderingContext&&!!e},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},hasSwfObjectLoaded:function(){return void 0!==window.swfobject},hasMinFlashInstalled:function(){return window.swfobject.hasFlashPlayerVersion("9.0.0")},addFlashDivNode:function(){var e=document.createElement("div");e.setAttribute("id",this.options.swfContainerId),document.body.appendChild(e)},loadSwfAndDetectFonts:function(e){var t="___fp_swf_loaded";window[t]=function(t){e(t)};var r=this.options.swfContainerId;this.addFlashDivNode();var n={onReady:t};window.swfobject.embedSWF(this.options.swfPath,r,"1","1","9.0.0",!1,n,{allowScriptAccess:"always",menu:"false"},{})},getWebglCanvas:function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t||(t=null),t},each:function(e,t,r){if(null!==e)if(this.nativeForEach&&e.forEach===this.nativeForEach)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(t.call(r,e[n],n,e)==={})return}else for(var a in e)if(e.hasOwnProperty(a)&&t.call(r,e[a],a,e)==={})return},map:function(e,t,r){var n=[];return null==e?n:this.nativeMap&&e.map===this.nativeMap?e.map(t,r):(this.each(e,function(e,i,a){n[n.length]=t.call(r,e,i,a)}),n)},x64Add:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]},x64Multiply:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]},x64Rotl:function(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},x64LeftShift:function(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},x64Xor:function(e,t){return[e[0]^t[0],e[1]^t[1]]},x64Fmix:function(e){return e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[4283543511,3981806797]),e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[3301882366,444984403]),e=this.x64Xor(e,[0,e[0]>>>1])},x64hash128:function(e,t){e=e||"",t=t||0;for(var r=e.length%16,n=e.length-r,i=[0,t],a=[0,t],o=[0,0],s=[0,0],l=[2277735313,289559509],d=[1291169091,658871167],h=0;h<n;h+=16)o=[255&e.charCodeAt(h+4)|(255&e.charCodeAt(h+5))<<8|(255&e.charCodeAt(h+6))<<16|(255&e.charCodeAt(h+7))<<24,255&e.charCodeAt(h)|(255&e.charCodeAt(h+1))<<8|(255&e.charCodeAt(h+2))<<16|(255&e.charCodeAt(h+3))<<24],s=[255&e.charCodeAt(h+12)|(255&e.charCodeAt(h+13))<<8|(255&e.charCodeAt(h+14))<<16|(255&e.charCodeAt(h+15))<<24,255&e.charCodeAt(h+8)|(255&e.charCodeAt(h+9))<<8|(255&e.charCodeAt(h+10))<<16|(255&e.charCodeAt(h+11))<<24],o=this.x64Multiply(o,l),o=this.x64Rotl(o,31),o=this.x64Multiply(o,d),i=this.x64Xor(i,o),i=this.x64Rotl(i,27),i=this.x64Add(i,a),i=this.x64Add(this.x64Multiply(i,[0,5]),[0,1390208809]),s=this.x64Multiply(s,d),s=this.x64Rotl(s,33),s=this.x64Multiply(s,l),a=this.x64Xor(a,s),a=this.x64Rotl(a,31),a=this.x64Add(a,i),a=this.x64Add(this.x64Multiply(a,[0,5]),[0,944331445]);switch(o=[0,0],s=[0,0],r){case 15:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(h+14)],48));case 14:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(h+13)],40));case 13:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(h+12)],32));case 12:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(h+11)],24));case 11:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(h+10)],16));case 10:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(h+9)],8));case 9:s=this.x64Xor(s,[0,e.charCodeAt(h+8)]),s=this.x64Multiply(s,d),s=this.x64Rotl(s,33),s=this.x64Multiply(s,l),a=this.x64Xor(a,s);case 8:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(h+7)],56));case 7:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(h+6)],48));case 6:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(h+5)],40));case 5:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(h+4)],32));case 4:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(h+3)],24));case 3:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(h+2)],16));case 2:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(h+1)],8));case 1:o=this.x64Xor(o,[0,e.charCodeAt(h)]),o=this.x64Multiply(o,l),o=this.x64Rotl(o,31),o=this.x64Multiply(o,d),i=this.x64Xor(i,o)}return i=this.x64Xor(i,[0,e.length]),a=this.x64Xor(a,[0,e.length]),i=this.x64Add(i,a),a=this.x64Add(a,i),i=this.x64Fmix(i),a=this.x64Fmix(a),i=this.x64Add(i,a),a=this.x64Add(a,i),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}},e.VERSION="1.8.0",e});
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.io=e():t.io=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t,e){"object"===("undefined"==typeof t?"undefined":i(t))&&(e=t,t=void 0),e=e||{};var r,n=s(t),a=n.source,p=n.id,f=n.path,l=h[p]&&f in h[p].nsps,d=e.forceNew||e["force new connection"]||!1===e.multiplex||l;return d?(u("ignoring socket cache for %s",a),r=c(a,e)):(h[p]||(u("new io instance for %s",a),h[p]=c(a,e)),r=h[p]),n.query&&!e.query?e.query=n.query:e&&"object"===i(e.query)&&(e.query=o(e.query)),r.socket(n.path,e)}function o(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=r(1),a=r(7),c=r(17),u=r(3)("socket.io-client");t.exports=e=n;var h=e.managers={};e.protocol=a.protocol,e.connect=n,e.Manager=r(17),e.Socket=r(44)},function(t,e,r){(function(e){"use strict";function n(t,r){var n=t;r=r||e.location,null==t&&(t=r.protocol+"//"+r.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?r.protocol+t:r.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t="undefined"!=typeof r?r.protocol+"//"+t:"https://"+t),i("parse %s",t),n=o(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var s=n.host.indexOf(":")!==-1,a=s?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}var o=r(2),i=r(3)("socket.io-client:url");t.exports=n}).call(e,function(){return this}())},function(t,e){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),i=t.indexOf("]");o!=-1&&i!=-1&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var s=r.exec(t||""),a={},c=14;c--;)a[n[c]]=s[c]||"";return o!=-1&&i!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e,r){(function(n){function o(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,n),t}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function c(){try{return e.storage.debug}catch(t){}if("undefined"!=typeof n&&"env"in n)return n.env.DEBUG}function u(){try{return window.localStorage}catch(t){}}e=t.exports=r(5),e.log=s,e.formatArgs=i,e.save=a,e.load=c,e.useColors=o,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(c())}).call(e,r(4))},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function i(t){if(p===clearTimeout)return clearTimeout(t);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){y&&l&&(y=!1,l.length?d=l.concat(d):g=-1,d.length&&a())}function a(){if(!y){var t=o(s);y=!0;for(var e=d.length;e;){for(l=d,d=[];++g<e;)l&&l[g].run();g=-1,e=d.length}l=null,y=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var h,p,f=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(t){h=r}try{p="function"==typeof clearTimeout?clearTimeout:n}catch(t){p=n}}();var l,d=[],y=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new c(t,e)),1!==d.length||y||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,r){function n(){return e.colors[h++%e.colors.length]}function o(t){function r(){}function o(){var t=o,r=+new Date,i=r-(u||r);t.diff=i,t.prev=u,t.curr=r,u=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=n());for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;c++;var o=e.formatters[n];if("function"==typeof o){var i=s[c];r=o.call(t,i),s.splice(c,1),c--}return r}),s=e.formatArgs.apply(t,s);var h=o.log||e.log||console.log.bind(console);h.apply(t,s)}r.enabled=!1,o.enabled=!0;var i=e.enabled(t)?o:r;return i.namespace=t,i}function i(t){e.save(t);for(var r=(t||"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(t=r[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function a(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o,e.coerce=c,e.disable=s,e.enable=i,e.enabled=a,e.humanize=r(6),e.names=[],e.skips=[],e.formatters={};var u,h=0},function(t,e){function r(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*h;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*a;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function n(t){return t>=u?Math.round(t/u)+"d":t>=c?Math.round(t/c)+"h":t>=a?Math.round(t/a)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function o(t){return i(t,u,"day")||i(t,c,"hour")||i(t,a,"minute")||i(t,s,"second")||t+" ms"}function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var s=1e3,a=60*s,c=60*a,u=24*c,h=365.25*u;t.exports=function(t,e){e=e||{};var i=typeof t;if("string"===i&&t.length>0)return r(t);if("number"===i&&isNaN(t)===!1)return e.long?o(t):n(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,r){function n(){}function o(t){var r="",n=!1;return r+=t.type,e.BINARY_EVENT!=t.type&&e.BINARY_ACK!=t.type||(r+=t.attachments,r+="-"),t.nsp&&"/"!=t.nsp&&(n=!0,r+=t.nsp),null!=t.id&&(n&&(r+=",",n=!1),r+=t.id),null!=t.data&&(n&&(r+=","),r+=f.stringify(t.data)),p("encoded %j as %s",t,r),r}function i(t,e){function r(t){var r=d.deconstructPacket(t),n=o(r.packet),i=r.buffers;i.unshift(n),e(i)}d.removeBlobs(t,r)}function s(){this.reconstructor=null}function a(t){var r={},n=0;if(r.type=Number(t.charAt(0)),null==e.types[r.type])return h();if(e.BINARY_EVENT==r.type||e.BINARY_ACK==r.type){for(var o="";"-"!=t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!=t.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"==t.charAt(n+1))for(r.nsp="";++n;){var i=t.charAt(n);if(","==i)break;if(r.nsp+=i,n==t.length)break}else r.nsp="/";var s=t.charAt(n+1);if(""!==s&&Number(s)==s){for(r.id="";++n;){var i=t.charAt(n);if(null==i||Number(i)!=i){--n;break}if(r.id+=t.charAt(n),n==t.length)break}r.id=Number(r.id)}return t.charAt(++n)&&(r=c(r,t.substr(n))),p("decoded %s as %j",t,r),r}function c(t,e){try{t.data=f.parse(e)}catch(t){return h()}return t}function u(t){this.reconPack=t,this.buffers=[]}function h(t){return{type:e.ERROR,data:"parser error"}}var p=r(8)("socket.io-parser"),f=r(11),l=r(13),d=r(14),y=r(16);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=n,e.Decoder=s,n.prototype.encode=function(t,r){if(p("encoding packet %j",t),e.BINARY_EVENT==t.type||e.BINARY_ACK==t.type)i(t,r);else{var n=o(t);r([n])}},l(s.prototype),s.prototype.add=function(t){var r;if("string"==typeof t)r=a(t),e.BINARY_EVENT==r.type||e.BINARY_ACK==r.type?(this.reconstructor=new u(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!y(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,this.emit("decoded",r))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var t=arguments,r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,n),t}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function a(){var t;try{t=e.storage.debug}catch(t){}return t}function c(){try{return window.localStorage}catch(t){}}e=t.exports=r(9),e.log=i,e.formatArgs=o,e.save=s,e.load=a,e.useColors=n,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(a())},function(t,e,r){function n(){return e.colors[h++%e.colors.length]}function o(t){function r(){}function o(){var t=o,r=+new Date,i=r-(u||r);t.diff=i,t.prev=u,t.curr=r,u=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=n());var s=Array.prototype.slice.call(arguments);s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;a++;var o=e.formatters[n];if("function"==typeof o){var i=s[a];r=o.call(t,i),s.splice(a,1),a--}return r}),"function"==typeof e.formatArgs&&(s=e.formatArgs.apply(t,s));var c=o.log||e.log||console.log.bind(console);c.apply(t,s)}r.enabled=!1,o.enabled=!0;var i=e.enabled(t)?o:r;return i.namespace=t,i}function i(t){e.save(t);for(var r=(t||"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(t=r[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function a(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o,e.coerce=c,e.disable=s,e.enable=i,e.enabled=a,e.humanize=r(10),e.names=[],e.skips=[],e.formatters={};var u,h=0},function(t,e){function r(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*h;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*a;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function n(t){return t>=u?Math.round(t/u)+"d":t>=c?Math.round(t/c)+"h":t>=a?Math.round(t/a)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function o(t){return i(t,u,"day")||i(t,c,"hour")||i(t,a,"minute")||i(t,s,"second")||t+" ms"}function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var s=1e3,a=60*s,c=60*a,u=24*c,h=365.25*u;t.exports=function(t,e){return e=e||{},"string"==typeof t?r(t):e.long?o(t):n(t)}},function(t,e,r){(function(t,r){var n=!1;(function(){function o(t,e){function r(t){if(r[t]!==g)return r[t];var o;if("bug-string-char-index"==t)o="a"!="a"[0];else if("json"==t)o=r("json-stringify")&&r("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=e.stringify,h="function"==typeof c&&b;if(h){(s=function(){return 1}).toJSON=s;try{h="0"===c(0)&&"0"===c(new n)&&'""'==c(new i)&&c(v)===g&&c(g)===g&&c()===g&&"1"===c(s)&&"[1]"==c([s])&&"[null]"==c([g])&&"null"==c(null)&&"[null,null,null]"==c([g,v,null])&&c({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,s)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new u(-1))}catch(t){h=!1}}o=h}if("json-parse"==t){var p=e.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){s=p(a);var f=5==s.a.length&&1===s.a[0];if(f){try{f=!p('"\t"')}catch(t){}if(f)try{f=1!==p("01")}catch(t){}if(f)try{f=1!==p("1.")}catch(t){}}}}catch(t){f=!1}o=f}}return r[t]=!!o}t||(t=c.Object()),e||(e=c.Object());var n=t.Number||c.Number,i=t.String||c.String,a=t.Object||c.Object,u=t.Date||c.Date,h=t.SyntaxError||c.SyntaxError,p=t.TypeError||c.TypeError,f=t.Math||c.Math,l=t.JSON||c.JSON;"object"==typeof l&&l&&(e.stringify=l.stringify,e.parse=l.parse);var d,y,g,m=a.prototype,v=m.toString,b=new u(-0xc782b5b800cec);try{b=b.getUTCFullYear()==-109252&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(t){}if(!r("json")){var w="[object Function]",k="[object Date]",x="[object Number]",A="[object String]",C="[object Array]",B="[object Boolean]",S=r("bug-string-char-index");if(!b)var T=f.floor,E=[0,31,59,90,120,151,181,212,243,273,304,334],_=function(t,e){return E[e]+365*(t-1970)+T((t-1969+(e=+(e>1)))/4)-T((t-1901+e)/100)+T((t-1601+e)/400)};if((d=m.hasOwnProperty)||(d=function(t){var e,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=v?d=function(t){var e=this.__proto__,r=t in(this.__proto__=null,this);return this.__proto__=e,r}:(e=r.constructor,d=function(t){var r=(this.constructor||e).prototype;return t in this&&!(t in r&&this[t]===r[t])}),r=null,d.call(this,t)}),y=function(t,e){var r,n,o,i=0;(r=function(){this.valueOf=0}).prototype.valueOf=0,n=new r;for(o in n)d.call(n,o)&&i++;return r=n=null,i?y=2==i?function(t,e){var r,n={},o=v.call(t)==w;for(r in t)o&&"prototype"==r||d.call(n,r)||!(n[r]=1)||!d.call(t,r)||e(r)}:function(t,e){var r,n,o=v.call(t)==w;for(r in t)o&&"prototype"==r||!d.call(t,r)||(n="constructor"===r)||e(r);(n||d.call(t,r="constructor"))&&e(r)}:(n=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],y=function(t,e){var r,o,i=v.call(t)==w,a=!i&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||d;for(r in t)i&&"prototype"==r||!a.call(t,r)||e(r);for(o=n.length;r=n[--o];a.call(t,r)&&e(r));}),y(t,e)},!r("json-stringify")){var N={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},j="000000",O=function(t,e){return(j+(e||0)).slice(-t)},P="\\u00",R=function(t){for(var e='"',r=0,n=t.length,o=!S||n>10,i=o&&(S?t.split(""):t);r<n;r++){var s=t.charCodeAt(r);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=N[s];break;default:if(s<32){e+=P+O(2,s.toString(16));break}e+=o?i[r]:t.charAt(r)}}return e+'"'},D=function(t,e,r,n,o,i,s){var a,c,u,h,f,l,m,b,w,S,E,N,j,P,q,U;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if(c=v.call(a),c!=k||d.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=x&&c!=A&&c!=C||d.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(_){for(f=T(a/864e5),u=T(f/365.2425)+1970-1;_(u+1,0)<=f;u++);for(h=T((f-_(u,0))/30.42);_(u,h+1)<=f;h++);f=1+f-_(u,h),l=(a%864e5+864e5)%864e5,m=T(l/36e5)%24,b=T(l/6e4)%60,w=T(l/1e3)%60,S=l%1e3}else u=a.getUTCFullYear(),h=a.getUTCMonth(),f=a.getUTCDate(),m=a.getUTCHours(),b=a.getUTCMinutes(),w=a.getUTCSeconds(),S=a.getUTCMilliseconds();a=(u<=0||u>=1e4?(u<0?"-":"+")+O(6,u<0?-u:u):O(4,u))+"-"+O(2,h+1)+"-"+O(2,f)+"T"+O(2,m)+":"+O(2,b)+":"+O(2,w)+"."+O(3,S)+"Z"}else a=null;if(r&&(a=r.call(e,t,a)),null===a)return"null";if(c=v.call(a),c==B)return""+a;if(c==x)return a>-1/0&&a<1/0?""+a:"null";if(c==A)return R(""+a);if("object"==typeof a){for(P=s.length;P--;)if(s[P]===a)throw p();if(s.push(a),E=[],q=i,i+=o,c==C){for(j=0,P=a.length;j<P;j++)N=D(j,a,r,n,o,i,s),E.push(N===g?"null":N);U=E.length?o?"[\n"+i+E.join(",\n"+i)+"\n"+q+"]":"["+E.join(",")+"]":"[]"}else y(n||a,function(t){var e=D(t,a,r,n,o,i,s);e!==g&&E.push(R(t)+":"+(o?" ":"")+e)}),U=E.length?o?"{\n"+i+E.join(",\n"+i)+"\n"+q+"}":"{"+E.join(",")+"}":"{}";return s.pop(),U}};e.stringify=function(t,e,r){var n,o,i,a;if(s[typeof e]&&e)if((a=v.call(e))==w)o=e;else if(a==C){i={};for(var c,u=0,h=e.length;u<h;c=e[u++],a=v.call(c),(a==A||a==x)&&(i[c]=1));}if(r)if((a=v.call(r))==x){if((r-=r%1)>0)for(n="",r>10&&(r=10);n.length<r;n+=" ");}else a==A&&(n=r.length<=10?r:r.slice(0,10));return D("",(c={},c[""]=t,c),o,i,n,"",[])}}if(!r("json-parse")){var q,U,M=i.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},I=function(){throw q=U=null,h()},H=function(){for(var t,e,r,n,o,i=U,s=i.length;q<s;)switch(o=i.charCodeAt(q)){case 9:case 10:case 13:case 32:q++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=S?i.charAt(q):i[q],q++,t;case 34:for(t="@",q++;q<s;)if(o=i.charCodeAt(q),o<32)I();else if(92==o)switch(o=i.charCodeAt(++q)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=L[o],q++;break;case 117:for(e=++q,r=q+4;q<r;q++)o=i.charCodeAt(q),o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||I();t+=M("0x"+i.slice(e,q));break;default:I()}else{if(34==o)break;for(o=i.charCodeAt(q),e=q;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++q);t+=i.slice(e,q)}if(34==i.charCodeAt(q))return q++,t;I();default:if(e=q,45==o&&(n=!0,o=i.charCodeAt(++q)),o>=48&&o<=57){for(48==o&&(o=i.charCodeAt(q+1),o>=48&&o<=57)&&I(),n=!1;q<s&&(o=i.charCodeAt(q),o>=48&&o<=57);q++);if(46==i.charCodeAt(q)){for(r=++q;r<s&&(o=i.charCodeAt(r),o>=48&&o<=57);r++);r==q&&I(),q=r}if(o=i.charCodeAt(q),101==o||69==o){for(o=i.charCodeAt(++q),43!=o&&45!=o||q++,r=q;r<s&&(o=i.charCodeAt(r),o>=48&&o<=57);r++);r==q&&I(),q=r}return+i.slice(e,q)}if(n&&I(),"true"==i.slice(q,q+4))return q+=4,!0;if("false"==i.slice(q,q+5))return q+=5,!1;if("null"==i.slice(q,q+4))return q+=4,null;I()}return"$"},z=function(t){var e,r;if("$"==t&&I(),"string"==typeof t){if("@"==(S?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=H(),"]"!=t;r||(r=!0))r&&(","==t?(t=H(),"]"==t&&I()):I()),","==t&&I(),e.push(z(t));return e}if("{"==t){for(e={};t=H(),"}"!=t;r||(r=!0))r&&(","==t?(t=H(),"}"==t&&I()):I()),","!=t&&"string"==typeof t&&"@"==(S?t.charAt(0):t[0])&&":"==H()||I(),e[t.slice(1)]=z(H());return e}I()}return t},J=function(t,e,r){var n=X(t,e,r);n===g?delete t[e]:t[e]=n},X=function(t,e,r){var n,o=t[e];if("object"==typeof o&&o)if(v.call(o)==C)for(n=o.length;n--;)J(o,n,r);else y(o,function(t){J(o,t,r)});return r.call(t,e,o)};e.parse=function(t,e){var r,n;return q=0,U=""+t,r=z(H()),"$"!=H()&&I(),q=U=null,e&&v.call(e)==w?X((n={},n[""]=r,n),"",e):r}}}return e.runInContext=o,e}var i="function"==typeof n&&n.amd,s={function:!0,object:!0},a=s[typeof e]&&e&&!e.nodeType&&e,c=s[typeof window]&&window||this,u=a&&s[typeof t]&&t&&!t.nodeType&&"object"==typeof r&&r;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),a&&!i)o(c,a);else{var h=c.JSON,p=c.JSON3,f=!1,l=o(c,c.JSON3={noConflict:function(){return f||(f=!0,c.JSON=h,c.JSON3=p,h=p=null),l}});c.JSON={parse:l.parse,stringify:l.stringify}}i&&n(function(){return l})}).call(this)}).call(e,r(12)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function r(t){if(t)return n(t)}function n(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function r(){n.off(t,r),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=e,this.on(t,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,r){(function(t){var n=r(15),o=r(16);e.deconstructPacket=function(t){function e(t){if(!t)return t;if(o(t)){var i={_placeholder:!0,num:r.length};return r.push(t),i}if(n(t)){for(var s=new Array(t.length),a=0;a<t.length;a++)s[a]=e(t[a]);return s}if("object"==typeof t&&!(t instanceof Date)){var s={};for(var c in t)s[c]=e(t[c]);return s}return t}var r=[],i=t.data,s=t;return s.data=e(i),s.attachments=r.length,{packet:s,buffers:r}},e.reconstructPacket=function(t,e){function r(t){if(t&&t._placeholder){var o=e[t.num];return o}if(n(t)){for(var i=0;i<t.length;i++)t[i]=r(t[i]);return t}if(t&&"object"==typeof t){for(var s in t)t[s]=r(t[s]);return t}return t}return t.data=r(t.data),t.attachments=void 0,t},e.removeBlobs=function(e,r){function i(e,c,u){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){s++;var h=new FileReader;h.onload=function(){u?u[c]=this.result:a=this.result,--s||r(a)},h.readAsArrayBuffer(e)}else if(n(e))for(var p=0;p<e.length;p++)i(e[p],p,e);else if(e&&"object"==typeof e&&!o(e))for(var f in e)i(e[f],f,e)}var s=0,a=e;i(a),s||r(a)}}).call(e,function(){return this}())},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){(function(e){function r(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=r}).call(e,function(){return this}())},function(t,e,r){"use strict";function n(t,e){return this instanceof n?(t&&"object"===("undefined"==typeof t?"undefined":o(t))&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new c.Encoder,this.decoder=new c.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new n(t,e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(18),s=r(44),a=r(35),c=r(7),u=r(46),h=r(47),p=r(3)("socket.io-client:manager"),f=r(42),l=r(48),d=Object.prototype.hasOwnProperty;t.exports=n,n.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},n.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},a(n.prototype),n.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},n.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},n.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},n.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},n.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},n.prototype.open=n.prototype.connect=function(t,e){if(p("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;p("opening %s",this.uri),this.engine=i(this.uri,this.opts);var r=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var o=u(r,"open",function(){n.onopen(),t&&t()}),s=u(r,"error",function(e){if(p("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;p("connect attempt will timeout after %d",a);var c=setTimeout(function(){p("connect attempt timed out after %d",a),o.destroy(),r.close(),r.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(s),this},n.prototype.onopen=function(){p("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(u(t,"data",h(this,"ondata"))),this.subs.push(u(t,"ping",h(this,"onping"))),this.subs.push(u(t,"pong",h(this,"onpong"))),this.subs.push(u(t,"error",h(this,"onerror"))),this.subs.push(u(t,"close",h(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",h(this,"ondecoded")))},n.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},n.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},n.prototype.ondata=function(t){this.decoder.add(t)},n.prototype.ondecoded=function(t){this.emit("packet",t)},n.prototype.onerror=function(t){p("error",t),this.emitAll("error",t)},n.prototype.socket=function(t,e){function r(){~f(o.connecting,n)||o.connecting.push(n)}var n=this.nsps[t];if(!n){n=new s(this,t,e),this.nsps[t]=n;var o=this;n.on("connecting",r),n.on("connect",function(){n.id=o.engine.id}),this.autoConnect&&r()}return n},n.prototype.destroy=function(t){var e=f(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},n.prototype.packet=function(t){p("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(r){for(var n=0;n<r.length;n++)e.engine.write(r[n],t.options);e.encoding=!1,e.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},n.prototype.cleanup=function(){p("cleanup");for(var t=this.subs.length,e=0;e<t;e++){var r=this.subs.shift();r.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){p("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},n.prototype.onclose=function(t){p("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)p("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();p("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var r=setTimeout(function(){t.skipReconnect||(p("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(p("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(p("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(r)}})}},n.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,r){t.exports=r(19)},function(t,e,r){t.exports=r(20),t.exports.parser=r(27)},function(t,e,r){(function(e){function n(t,r){if(!(this instanceof n))return new n(t,r);r=r||{},t&&"object"==typeof t&&(r=t,t=null),t?(t=h(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=h(r.host).host),
this.secure=null!=r.secure?r.secure:e.location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||(e.location?location.hostname:"localhost"),this.port=r.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},"string"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate&&(r.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized?null:r.rejectUnauthorized,this.forceNode=!!r.forceNode;var o="object"==typeof e&&e;o.global===o&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function o(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var i=r(21),s=r(35),a=r(3)("engine.io-client:socket"),c=r(42),u=r(27),h=r(2),p=r(43),f=r(36);t.exports=n,n.priorWebsocketSuccess=!1,s(n.prototype),n.protocol=u.protocol,n.Socket=n,n.Transport=r(26),n.transports=r(21),n.parser=r(27),n.prototype.createTransport=function(t){a('creating transport "%s"',t);var e=o(this.query);e.EIO=u.protocol,e.transport=t,this.id&&(e.sid=this.id);var r=new i[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress});return r},n.prototype.open=function(){var t;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},n.prototype.setTransport=function(t){a("setting transport %s",t.name);var e=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},n.prototype.probe=function(t){function e(){if(f.onlyBinaryUpgrades){var e=!this.supportsBinary&&f.transport.supportsBinary;p=p||e}p||(a('probe transport "%s" opened',t),h.send([{type:"ping",data:"probe"}]),h.once("packet",function(e){if(!p)if("pong"===e.type&&"probe"===e.data){if(a('probe transport "%s" pong',t),f.upgrading=!0,f.emit("upgrading",h),!h)return;n.priorWebsocketSuccess="websocket"===h.name,a('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){p||"closed"!==f.readyState&&(a("changing transport and sending upgrade packet"),u(),f.setTransport(h),h.send([{type:"upgrade"}]),f.emit("upgrade",h),h=null,f.upgrading=!1,f.flush())})}else{a('probe transport "%s" failed',t);var r=new Error("probe error");r.transport=h.name,f.emit("upgradeError",r)}}))}function r(){p||(p=!0,u(),h.close(),h=null)}function o(e){var n=new Error("probe error: "+e);n.transport=h.name,r(),a('probe transport "%s" failed because of error: %s',t,e),f.emit("upgradeError",n)}function i(){o("transport closed")}function s(){o("socket closed")}function c(t){h&&t.name!==h.name&&(a('"%s" works - aborting "%s"',t.name,h.name),r())}function u(){h.removeListener("open",e),h.removeListener("error",o),h.removeListener("close",i),f.removeListener("close",s),f.removeListener("upgrading",c)}a('probing transport "%s"',t);var h=this.createTransport(t,{probe:1}),p=!1,f=this;n.priorWebsocketSuccess=!1,h.once("open",e),h.once("error",o),h.once("close",i),this.once("close",s),this.once("upgrading",c),h.open()},n.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},n.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(p(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else a('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},n.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},n.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(t,e,r){return this.sendPacket("message",t,e,r),this},n.prototype.sendPacket=function(t,e,r,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){r=r||{},r.compress=!1!==r.compress;var o={type:t,data:e,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}},n.prototype.close=function(){function t(){n.onClose("forced close"),a("socket closing - telling transport to close"),n.transport.close()}function e(){n.removeListener("upgrade",e),n.removeListener("upgradeError",e),t()}function r(){n.once("upgrade",e),n.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}return this},n.prototype.onError=function(t){a("socket error %j",t),n.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},n.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',t);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),r.writeBuffer=[],r.prevBufferLen=0}},n.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;r<n;r++)~c(this.transports,t[r])&&e.push(t[r]);return e}}).call(e,function(){return this}())},function(t,e,r){(function(t){function n(e){var r,n=!1,a=!1,c=!1!==e.jsonp;if(t.location){var u="https:"===location.protocol,h=location.port;h||(h=u?443:80),n=e.hostname!==location.hostname||h!==e.port,a=e.secure!==u}if(e.xdomain=n,e.xscheme=a,r=new o(e),"open"in r&&!e.forceJSONP)return new i(e);if(!c)throw new Error("JSONP disabled");return new s(e)}var o=r(22),i=r(24),s=r(39),a=r(40);e.polling=n,e.websocket=a}).call(e,function(){return this}())},function(t,e,r){(function(e){var n=r(23);t.exports=function(t){var r=t.xdomain,o=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!r||n))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(t){}if(!r)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(e,function(){return this}())},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,r){(function(e){function n(){}function o(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,e.location){var r="https:"===location.protocol,n=location.port;n||(n=r?443:80),this.xd=t.hostname!==e.location.hostname||n!==t.port,this.xs=t.secure!==r}else this.extraHeaders=t.extraHeaders}function i(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var a=r(22),c=r(25),u=r(35),h=r(37),p=r(3)("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=i,h(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new i(t)},o.prototype.doWrite=function(t,e){var r="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:r}),o=this;n.on("success",e),n.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=n},o.prototype.doPoll=function(){p("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},u(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new a(t),n=this;try{p("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.extraHeaders){r.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.extraHeaders[o])}}catch(t){}if(this.supportsBinary&&(r.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?r.setRequestHeader("Content-type","application/octet-stream"):r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{r.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in r&&(r.withCredentials=!0),this.requestTimeout&&(r.timeout=this.requestTimeout),this.hasXDR()?(r.onload=function(){n.onLoad()},r.onerror=function(){n.onError(r.responseText)}):r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?n.onLoad():setTimeout(function(){n.onError(r.status)},0))},p("xhr data %s",this.data),r.send(this.data)}catch(t){return void setTimeout(function(){n.onError(t)},0)}e.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},i.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,t)try{this.xhr.abort()}catch(t){}e.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(t){}if("application/octet-stream"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var r=new Uint8Array(this.xhr.response),n=[],o=0,i=r.length;o<i;o++)n.push(r[o]);t=String.fromCharCode.apply(null,n)}else t=this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return"undefined"!=typeof e.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",s):e.addEventListener&&e.addEventListener("beforeunload",s,!1))}).call(e,function(){return this}())},function(t,e,r){function n(t){var e=t&&t.forceBase64;h&&!e||(this.supportsBinary=!1),o.call(this,t)}var o=r(26),i=r(36),s=r(27),a=r(37),c=r(38),u=r(3)("engine.io-client:polling");t.exports=n;var h=function(){var t=r(22),e=new t({xdomain:!1});return null!=e.responseType}();a(n,o),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(t){function e(){u("paused"),r.readyState="paused",t()}var r=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(u("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){u("pre-pause polling complete"),--n||e()})),this.writable||(u("we are currently writing - waiting to pause"),n++,this.once("drain",function(){u("pre-pause writing complete"),--n||e()}))}else e()},n.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(t){var e=this;u("polling got data %s",t);var r=function(t,r,n){return"opening"===e.readyState&&e.onOpen(),"close"===t.type?(e.onClose(),!1):void e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,r),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function t(){u("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},n.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(r=":"+this.port),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t}},function(t,e,r){function n(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var o=r(27),i=r(35);t.exports=n,i(n.prototype),n.prototype.onError=function(t,e){var r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this},n.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},n.prototype.onPacket=function(t){this.emit("packet",t)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,r){(function(t){function n(t,r){var n="b"+e.packets[t.type]+t.data.data;return r(n)}function o(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=v[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return n(s.buffer)}function i(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=new FileReader;return o.onload=function(){t.data=o.result,e.encodePacket(t,r,!0,n)},o.readAsArrayBuffer(t.data)}function s(t,r,n){if(!r)return e.encodeBase64Packet(t,n);if(m)return i(t,r,n);var o=new Uint8Array(1);o[0]=v[t.type];var s=new k([o.buffer,t.data]);return n(s)}function a(t){try{t=d.decode(t)}catch(t){return!1}return t}function c(t,e,r){for(var n=new Array(t.length),o=l(t.length,r),i=function(t,r,o){e(r,function(e,r){n[t]=r,o(e,n)})},s=0;s<t.length;s++)i(s,t[s],o)}var u,h=r(28),p=r(29),f=r(30),l=r(31),d=r(32);t&&t.ArrayBuffer&&(u=r(33));var y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),m=y||g;e.protocol=3;var v=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=h(v),w={type:"error",data:"parser error"},k=r(34);e.encodePacket=function(e,r,i,a){"function"==typeof r&&(a=r,r=!1),"function"==typeof i&&(a=i,i=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return o(e,r,a);if(k&&c instanceof t.Blob)return s(e,r,a);if(c&&c.base64)return n(e,a);var u=v[e.type];return void 0!==e.data&&(u+=i?d.encode(String(e.data)):String(e.data)),a(""+u)},e.encodeBase64Packet=function(r,n){var o="b"+e.packets[r.type];if(k&&r.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];n(o+t)},i.readAsDataURL(r.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(r.data))}catch(t){for(var a=new Uint8Array(r.data),c=new Array(a.length),u=0;u<a.length;u++)c[u]=a[u];s=String.fromCharCode.apply(null,c)}return o+=t.btoa(s),n(o)},e.decodePacket=function(t,r,n){if(void 0===t)return w;if("string"==typeof t){if("b"==t.charAt(0))return e.decodeBase64Packet(t.substr(1),r);if(n&&(t=a(t),t===!1))return w;var o=t.charAt(0);return Number(o)==o&&b[o]?t.length>1?{type:b[o],data:t.substring(1)}:{type:b[o]}:w}var i=new Uint8Array(t),o=i[0],s=f(t,1);return k&&"blob"===r&&(s=new k([s])),{type:b[o],data:s}},e.decodeBase64Packet=function(t,e){var r=b[t.charAt(0)];if(!u)return{type:r,data:{base64:!0,data:t.substr(1)}};var n=u.decode(t.substr(1));return"blob"===e&&k&&(n=new k([n])),{type:r,data:n}},e.encodePayload=function(t,r,n){function o(t){return t.length+":"+t}function i(t,n){e.encodePacket(t,!!s&&r,!0,function(t){n(null,o(t))})}"function"==typeof r&&(n=r,r=null);var s=p(t);return r&&s?k&&!m?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n):t.length?void c(t,i,function(t,e){return n(e.join(""))}):n("0:")},e.decodePayload=function(t,r,n){if("string"!=typeof t)return e.decodePayloadAsBinary(t,r,n);"function"==typeof r&&(n=r,r=null);var o;if(""==t)return n(w,0,1);for(var i,s,a="",c=0,u=t.length;c<u;c++){var h=t.charAt(c);if(":"!=h)a+=h;else{if(""==a||a!=(i=Number(a)))return n(w,0,1);if(s=t.substr(c+1,i),a!=s.length)return n(w,0,1);if(s.length){if(o=e.decodePacket(s,r,!0),w.type==o.type&&w.data==o.data)return n(w,0,1);var p=n(o,c+i,u);if(!1===p)return}c+=i,a=""}}return""!=a?n(w,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){return r(null,t)})}return t.length?void c(t,n,function(t,e){var n=e.reduce(function(t,e){var r;return r="string"==typeof e?e.length:e.byteLength,t+r.toString().length+r+2},0),o=new Uint8Array(n),i=0;return e.forEach(function(t){var e="string"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);r=n.buffer}e?o[i++]=0:o[i++]=1;for(var a=r.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var n=new Uint8Array(r),s=0;s<n.length;s++)o[i++]=n[s]}),r(o.buffer)}):r(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);t=n.buffer,e[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,k){var c=new k([e.buffer,a.buffer,t]);r(null,c)}})}c(t,n,function(t,e){return r(new k(e))})},e.decodePayloadAsBinary=function(t,r,n){"function"==typeof r&&(n=r,r=null);for(var o=t,i=[],s=!1;o.byteLength>0;){for(var a=new Uint8Array(o),c=0===a[0],u="",h=1;255!=a[h];h++){if(u.length>310){s=!0;break}u+=a[h]}if(s)return n(w,0,1);o=f(o,2+u.length),u=parseInt(u);var p=f(o,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(t){var l=new Uint8Array(p);p="";for(var h=0;h<l.length;h++)p+=String.fromCharCode(l[h])}i.push(p),o=f(o,u)}var d=i.length;i.forEach(function(t,o){n(e.decodePacket(t,r,!0),o,d)})}}).call(e,function(){return this}())},function(t,e){t.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},function(t,e,r){(function(e){function n(t){function r(t){if(!t)return!1;if(e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer||e.Blob&&t instanceof Blob||e.File&&t instanceof File)return!0;if(o(t)){for(var n=0;n<t.length;n++)if(r(t[n]))return!0}else if(t&&"object"==typeof t){t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON());for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&r(t[i]))return!0}return!1}return r(t)}var o=r(15);t.exports=n}).call(e,function(){return this}())},function(t,e){t.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(e<0&&(e+=n),r<0&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(r-e),s=e,a=0;s<r;s++,a++)i[a]=o[s];return i.buffer}},function(t,e){function r(t,e,r){function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=r):0!==o.count||i||e(null,n)}var i=!1;return r=r||n,o.count=t,0===t?e():o}function n(){}t.exports=r},function(t,e,r){var n;(function(t,o){!function(i){function s(t){for(var e,r,n=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function a(t){for(var e,r=t.length,n=-1,o="";++n<r;)e=t[n],e>65535&&(e-=65536,o+=b(e>>>10&1023|55296),e=56320|1023&e),o+=b(e);return o}function c(t,e){return b(t>>e&63|128)}function u(t){if(0==(4294967168&t))return b(t);var e="";return 0==(4294965248&t)?e=b(t>>6&31|192):0==(4294901760&t)?(e=b(t>>12&15|224),e+=c(t,6)):0==(4292870144&t)&&(e=b(t>>18&7|240),e+=c(t,12),e+=c(t,6)),e+=b(63&t|128)}function h(t){for(var e,r=s(t),n=r.length,o=-1,i="";++o<n;)e=r[o],i+=u(e);return i}function p(){if(v>=m)throw Error("Invalid byte index");var t=255&g[v];if(v++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function f(){var t,e,r,n,o;if(v>m)throw Error("Invalid byte index");if(v==m)return!1;if(t=255&g[v],v++,0==(128&t))return t;if(192==(224&t)){var e=p();if(o=(31&t)<<6|e,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=p(),r=p(),o=(15&t)<<12|e<<6|r,o>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=p(),r=p(),n=p(),o=(15&t)<<18|e<<12|r<<6|n,o>=65536&&o<=1114111))return o;throw Error("Invalid WTF-8 detected")}function l(t){g=s(t),m=g.length,v=0;for(var e,r=[];(e=f())!==!1;)r.push(e);return a(r)}var d="object"==typeof e&&e,y=("object"==typeof t&&t&&t.exports==d&&t,"object"==typeof o&&o);y.global!==y&&y.window!==y||(i=y);var g,m,v,b=String.fromCharCode,w={version:"1.0.0",encode:h,decode:l};n=function(){return w}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,r(12)(t),function(){return this}())},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;e.encode=function(e){var r,n=new Uint8Array(e),o=n.length,i="";for(r=0;r<o;r+=3)i+=t[n[r]>>2],i+=t[(3&n[r])<<4|n[r+1]>>4],i+=t[(15&n[r+1])<<2|n[r+2]>>6],i+=t[63&n[r+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(t){var e,n,o,i,s,a=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var h=new ArrayBuffer(a),p=new Uint8Array(h);for(e=0;e<c;e+=4)n=r[t.charCodeAt(e)],o=r[t.charCodeAt(e+1)],i=r[t.charCodeAt(e+2)],s=r[t.charCodeAt(e+3)],p[u++]=n<<2|o>>4,p[u++]=(15&o)<<4|i>>2,p[u++]=(3&i)<<6|63&s;return h}}()},function(t,e){(function(e){function r(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var o=new Uint8Array(r.byteLength);o.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=o.buffer}t[e]=n}}}function n(t,e){e=e||{};var n=new i;r(t);for(var o=0;o<t.length;o++)n.append(t[o]);return e.type?n.getBlob(e.type):n.getBlob()}function o(t,e){return r(t),new Blob(t,e||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,s=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(t){return!1}}(),a=s&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(t){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return s?a?e.Blob:o:c?n:void 0}()}).call(e,function(){return this}())},function(t,e,r){function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){e.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},e.decode=function(t){for(var e={},r=t.split("&"),n=0,o=r.length;n<o;n++){var i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e){t.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){"use strict";function r(t){var e="";do e=s[t%a]+e,t=Math.floor(t/a);while(t>0);return e}function n(t){var e=0;for(h=0;h<t.length;h++)e=e*a+c[t.charAt(h)];return e}function o(){var t=r(+new Date);return t!==i?(u=0,i=t):t+"."+r(u++)}for(var i,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,c={},u=0,h=0;h<a;h++)c[s[h]]=h;o.encode=r,o.decode=n,t.exports=o},function(t,e,r){(function(e){function n(){}function o(t){i.call(this,t),this.query=this.query||{},a||(e.___eio||(e.___eio=[]),a=e.___eio),this.index=a.length;var r=this;a.push(function(t){r.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){r.script&&(r.script.onerror=n)},!1)}var i=r(25),s=r(37);t.exports=o;var a,c=/\n/g,u=/\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function r(){n(),e()}function n(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(t)}catch(t){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),a=document.createElement("textarea"),h=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=h,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),n(),t=t.replace(u,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&r();
}:this.iframe.onload=r}}).call(e,function(){return this}())},function(t,e,r){(function(e){function n(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=p&&!t.forceNode,this.usingBrowserWebSocket||(f=o),i.call(this,t)}var o,i=r(26),s=r(27),a=r(36),c=r(37),u=r(38),h=r(3)("engine.io-client:websocket"),p=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{o=r(41)}catch(t){}var f=p;f||"undefined"!=typeof window||(f=o),t.exports=n,c(n,i),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new f(t):new f(t,e,r)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},n.prototype.write=function(t){function r(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var o=t.length,i=0,a=o;i<a;i++)!function(t){s.encodePacket(t,n.supportsBinary,function(i){if(!n.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),n.perMessageDeflate){var a="string"==typeof i?e.Buffer.byteLength(i):i.length;a<n.perMessageDeflate.threshold&&(s.compress=!1)}}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,s)}catch(t){h("websocket closed before onclose event")}--o||r()})}(t[i])},n.prototype.onClose=function(){i.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t},n.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===n.prototype.name)}}).call(e,function(){return this}())},function(t,e){},function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e){(function(e){var r=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(s,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):r.test(t.replace(n,"@").replace(o,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(e,function(){return this}())},function(t,e,r){"use strict";function n(t,e,r){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}var o=r(7),i=r(35),s=r(45),a=r(46),c=r(47),u=r(3)("socket.io-client:socket"),h=r(29);t.exports=e=n;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=i.prototype.emit;i(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",c(this,"onopen")),a(t,"packet",c(this,"onpacket")),a(t,"close",c(this,"onclose"))]}},n.prototype.open=n.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},n.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},n.prototype.emit=function(t){if(p.hasOwnProperty(t))return f.apply(this,arguments),this;var e=s(arguments),r=o.EVENT;h(e)&&(r=o.BINARY_EVENT);var n={type:r,data:e};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},n.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},n.prototype.onopen=function(){u("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:o.CONNECT,query:this.query}):this.packet({type:o.CONNECT}))},n.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},n.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(t);break;case o.BINARY_EVENT:this.onevent(t);break;case o.ACK:this.onack(t);break;case o.BINARY_ACK:this.onack(t);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",t.data)}},n.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?f.apply(this,e):this.receiveBuffer.push(e)},n.prototype.ack=function(t){var e=this,r=!1;return function(){if(!r){r=!0;var n=s(arguments);u("sending ack %j",n);var i=h(n)?o.BINARY_ACK:o.ACK;e.packet({type:i,id:t,data:n})}}},n.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)f.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},n.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},function(t,e){function r(t,e){var r=[];e=e||0;for(var n=e||0;n<t.length;n++)r[n-e]=t[n];return r}t.exports=r},function(t,e){"use strict";function r(t,e,r){return t.on(e,r),{destroy:function(){t.removeListener(e,r)}}}t.exports=r},function(t,e){var r=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},function(t,e){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-r:t+r}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}}])});
if(void 0===Aiva)var Aiva={};if(Aiva.Constants={DebugMode:!1,SocketMode:"demo.localhost"===location.hostname?"local":"localhost"===location.hostname?"local":"staging.aivalabs.com"===location.hostname?"staging":"production",MaxZIndex:2147483647,defaultCookieExpiry:365,OverlayClassPrefix:"aiva_ep_",BackgroundClassPrefix:"aiva_ep_bg_",AnimationCssIdPrefix:"aiva_animation_",AdvertScript:"http://localhost/aiva-create/webExports/advert.js",VideoPlayerIdPrefix:"aivaVideoPlayer-",VideoSuccessRequirement:3,MillisecondsPerSecond:1e3,SecondsPerMinute:60,MinutesPerHour:60,HoursPerDay:24,DaysPerWeek:7,DaysPerMonth:30,DaysPerYear:365,WeeksPerMonth:4.34524,MonthsPerYear:12,BrandingWidth:110,BrandingHeight:30,pauseTillCountdownStart:500,AnimationData:{"zoom-out":{animation:{duration:1,timingFunction:"ease-in-out",delay:0},keyframes:[{state:0,percentage:0,css:{opacity:0,transform:{scale:3}}},{state:1,percentage:100,css:{opacity:1,transform:{scale:1}}}]},"normal-fade-in":{animation:{duration:1.5,timingFunction:"ease-in-out",delay:0},keyframes:[{state:0,percentage:0,css:{opacity:0}},{state:1,percentage:100,css:{opacity:1}}]},"zoom-in":{animation:{duration:1,timingFunction:"ease-out",delay:0},keyframes:[{state:0,percentage:0,css:{opacity:0,transform:{scale:0}}},{state:1,percentage:100,css:{opacity:1,transform:{scale:1}}}]},"top-slide-in":{animation:{duration:.7,timingFunction:"ease-in-out",delay:0},keyframes:[{state:0,percentage:0,css:{transform:{translateY:"+r0"}}},{state:1,percentage:100,css:{transform:{translateY:"0"}}}]},"bottom-slide-in":{animation:{duration:.7,timingFunction:"ease-in-out",delay:0},keyframes:[{state:0,percentage:0,css:{transform:{translateY:"-r0"}}},{state:1,percentage:100,css:{transform:{translateY:"0"}}}]},"right-slide-in":{animation:{duration:.7,timingFunction:"ease-in-out",delay:0},keyframes:[{state:0,percentage:0,css:{transform:{translateX:"+r0"}}},{state:1,percentage:100,css:{transform:{translateX:"0"}}}]},"left-slide-in":{animation:{duration:.7,timingFunction:"ease-in-out",delay:0},keyframes:[{state:0,percentage:0,css:{transform:{translateX:"-r0"}}},{state:1,percentage:100,css:{transform:{translateX:"0"}}}]},sign:{animation:{duration:2.6,timingFunction:"linear",delay:0},keyframes:[{state:0,percentage:0,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-89"}}},{state:1,percentage:1,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-87"}}},{state:2,percentage:2,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-84"}}},{state:3,percentage:3,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-80"}}},{state:4,percentage:4,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-75"}}},{state:5,percentage:5,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-69"}}},{state:6,percentage:6,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-62"}}},{state:7,percentage:7,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-54"}}},{state:8,percentage:8,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-45"}}},{state:9,percentage:9,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-35"}}},{state:10,percentage:10,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-24"}}},{state:11,percentage:11,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-12"}}},{state:12,percentage:12,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"1"}}},{state:13,percentage:13,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"10.5"}}},{state:14,percentage:14,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"19"}}},{state:15,percentage:15,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"26.5"}}},{state:16,percentage:16,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"33"}}},{state:17,percentage:17,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"38.5"}}},{state:18,percentage:18,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"43"}}},{state:19,percentage:19,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"46.5"}}},{state:20,percentage:20,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"49"}}},{state:21,percentage:21,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"50.5"}}},{state:22,percentage:22,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"51"}}},{state:23,percentage:23,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"50.5"}}},{state:24,percentage:24,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"49"}}},{state:25,percentage:25,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"46.5"}}},{state:26,percentage:26,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"43"}}},{state:27,percentage:27,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"38.5"}}},{state:28,percentage:28,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"33"}}},{state:29,percentage:29,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"26.5"}}},{state:30,percentage:30,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"19"}}},{state:31,percentage:31,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"10.5"}}},{state:32,percentage:32,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"1"}}},{state:33,percentage:33,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-9.5"}}},{state:34,percentage:34,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-16.5"}}},{state:35,percentage:35,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-22.5"}}},{state:36,percentage:36,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-27.5"}}},{state:37,percentage:37,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-31.5"}}},{state:38,percentage:38,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-34.5"}}},{state:39,percentage:39,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-36.5"}}},{state:40,percentage:40,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-37.5"}}},{state:41,percentage:41,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-37.5"}}},{state:42,percentage:42,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-36.5"}}},{state:43,percentage:43,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-34.5"}}},{state:44,percentage:44,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-31.5"}}},{state:45,percentage:45,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-27.5"}}},{state:46,percentage:46,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-22.5"}}},{state:47,percentage:47,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-16.5"}}},{state:48,percentage:48,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-9.5"}}},{state:49,percentage:49,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-1.5"}}},{state:50,percentage:50,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"7.5"}}},{state:51,percentage:51,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"13"}}},{state:52,percentage:52,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"17.5"}}},{state:53,percentage:53,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"21"}}},{state:54,percentage:54,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"23.5"}}},{state:55,percentage:55,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"25"}}},{state:56,percentage:56,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"25.5"}}},{state:57,percentage:57,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"25"}}},{state:58,percentage:58,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"23.5"}}},{state:59,percentage:59,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"21"}}},{state:60,percentage:60,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"17.5"}}},{state:61,percentage:61,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"13"}}},{state:62,percentage:62,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"7.5"}}},{state:63,percentage:63,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"1"}}},{state:64,percentage:64,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-6.5"}}},{state:65,percentage:65,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-10.5"}}},{state:66,percentage:66,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-13.5"}}},{state:67,percentage:67,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-15.5"}}},{state:68,percentage:68,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-16.5"}}},{state:69,percentage:69,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-16.5"}}},{state:70,percentage:70,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-15.5"}}},{state:71,percentage:71,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-13.5"}}},{state:72,percentage:72,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-10.5"}}},{state:73,percentage:73,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-6.5"}}},{state:74,percentage:74,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-1.5"}}},{state:75,percentage:75,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"4.5"}}},{state:76,percentage:76,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"7"}}},{state:77,percentage:77,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"8.5"}}},{state:78,percentage:78,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"9"}}},{state:79,percentage:79,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"8.5"}}},{state:80,percentage:80,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"7"}}},{state:81,percentage:81,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"4.5"}}},{state:82,percentage:82,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"1"}}},{state:83,percentage:83,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-3.5"}}},{state:84,percentage:84,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-4.5"}}},{state:85,percentage:85,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-4.5"}}},{state:86,percentage:86,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-3.5"}}},{state:87,percentage:87,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"-1.5"}}},{state:88,percentage:88,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"1.5"}}},{state:89,percentage:89,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"1"}}},{state:90,percentage:90,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"0"}}},{state:91,percentage:91,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"0"}}},{state:92,percentage:92,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"0"}}},{state:93,percentage:93,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"0"}}},{state:94,percentage:94,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"0"}}},{state:95,percentage:95,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"0"}}},{state:96,percentage:96,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"0"}}},{state:97,percentage:97,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"0"}}},{state:98,percentage:98,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"0"}}},{state:99,percentage:99,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"0"}}},{state:100,percentage:100,css:{"tf-o":"50% 0%",transform:{per:"700",rotateX:"0"}}}]},"peek-a-boo":{animation:{duration:4.5,timingFunction:"ease-out",delay:0},keyframes:[{state:0,percentage:0,css:{opacity:1,transform:{translateY:"-r0"}}},{state:1,percentage:15,css:{transform:{translateY:"-r-80"}}},{state:2,percentage:25,css:{transform:{translateY:"-r-80"}}},{state:3,percentage:35,css:{transform:{translateY:"-r-130"}}},{state:4,percentage:42,css:{transform:{translateY:"-r-130"}}},{state:5,percentage:45,css:{transform:{translateY:"-r0"}}},{state:6,percentage:87,css:{transform:{translateY:"-r0"}}},{state:7,percentage:92,css:{transform:{translateY:"-80"}}},{state:8,percentage:95,css:{transform:{translateY:"0"}}},{state:9,percentage:100,css:{transform:{translateY:"0"}}}]},twirl:{animation:{duration:1,timingFunction:"ease-in",delay:0},keyframes:[{state:0,percentage:0,css:{transform:{scale:0,per:"1000",rotateZ:"1400"}}},{state:1,percentage:100,css:{transform:{scale:1,per:"1000",rotateZ:"0"}}}]},jello:{animation:{duration:1.2,timingFunction:"ease-out",delay:0},keyframes:[{state:0,percentage:0,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1"}}},{state:1,percentage:3.4,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"1.316,0,0,0,0,1.407,0,0,0,0,1,0,0,0,0,1"}}},{state:2,percentage:4.7,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"1.45,0,0,0,0,1.599,0,0,0,0,1,0,0,0,0,1"}}},{state:3,percentage:6.81,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"1.659,0,0,0,0,1.893,0,0,0,0,1,0,0,0,0,1"}}},{state:4,percentage:9.41,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"1.883,0,0,0,0,2.168,0,0,0,0,1,0,0,0,0,1"}}},{state:5,percentage:10.21,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"1.942,0,0,0,0,2.226,0,0,0,0,1,0,0,0,0,1"}}},{state:6,percentage:13.61,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"2.123,0,0,0,0,2.332,0,0,0,0,1,0,0,0,0,1"}}},{state:7,percentage:14.11,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"2.141,0,0,0,0,2.331,0,0,0,0,1,0,0,0,0,1"}}},{state:8,percentage:17.52,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"2.208,0,0,0,0,2.239,0,0,0,0,1,0,0,0,0,1"}}},{state:9,percentage:18.72,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"2.212,0,0,0,0,2.187,0,0,0,0,1,0,0,0,0,1"}}},{state:10,percentage:21.32,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"2.196,0,0,0,0,2.069,0,0,0,0,1,0,0,0,0,1"}}},{state:11,percentage:24.32,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"2.151,0,0,0,0,1.96,0,0,0,0,1,0,0,0,0,1"}}},{state:12,percentage:25.23,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"2.134,0,0,0,0,1.938,0,0,0,0,1,0,0,0,0,1"}}},{state:13,percentage:29.03,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"2.063,0,0,0,0,1.897,0,0,0,0,1,0,0,0,0,1"}}},{state:14,percentage:29.93,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"2.048,0,0,0,0,1.899,0,0,0,0,1,0,0,0,0,1"}}},{state:15,percentage:35.54,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"1.979,0,0,0,0,1.962,0,0,0,0,1,0,0,0,0,1"}}},{state:16,percentage:36.74,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"1.972,0,0,0,0,1.979,0,0,0,0,1,0,0,0,0,1"}}},{state:17,percentage:41.04,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"1.961,0,0,0,0,2.022,0,0,0,0,1,0,0,0,0,1"}}},{state:18,percentage:44.44,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"1.966,0,0,0,0,2.032,0,0,0,0,1,0,0,0,0,1"}}},{state:19,percentage:52.15,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"1.991,0,0,0,0,2.006,0,0,0,0,1,0,0,0,0,1"}}},{state:20,percentage:59.86,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"2.006,0,0,0,0,1.99,0,0,0,0,1,0,0,0,0,1"}}},{state:21,percentage:63.26,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"2.007,0,0,0,0,1.992,0,0,0,0,1,0,0,0,0,1"}}},{state:22,percentage:75.28,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"2.001,0,0,0,0,2.003,0,0,0,0,1,0,0,0,0,1"}}},{state:23,percentage:85.49,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"1.999,0,0,0,0,2,0,0,0,0,1,0,0,0,0,1"}}},{state:24,percentage:90.69,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"1.999,0,0,0,0,1.999,0,0,0,0,1,0,0,0,0,1"}}},{state:25,percentage:100,"tf-s":"preserve-3d",css:{transform:{scale:.5,matrix3d:"2,0,0,0,0,2,0,0,0,0,1,0,0,0,0,1"}}}]},rubberBand:{animation:{duration:1.5,timingFunction:"ease-out",delay:0},keyframes:[{state:0,percentage:0,css:{transform:{scale3d:"1, 1, 1"}}},{state:1,percentage:30,css:{transform:{scale3d:"1.5, 0.60, 1"}}},{state:2,percentage:40,css:{transform:{scale3d:"0.75, 1.25, 1"}}},{state:1,percentage:50,css:{transform:{scale3d:"1.15, 0.85, 1"}}},{state:1,percentage:65,css:{transform:{scale3d:".95, 1.05, 1"}}},{state:1,percentage:75,css:{transform:{scale3d:"1.05, .95, 1"}}},{state:1,percentage:100,css:{transform:{scale3d:"1, 1, 1"}}}]},tada:{animation:{duration:1.5,timingFunction:"ease-out",delay:0},keyframes:[{state:0,percentage:0,css:{transform:{scale3d:".9,.9,.9",rotate3d:"0,0,1,0deg"}}},{state:1,percentage:10,css:{transform:{scale3d:".9, .9, .9",rotate3d:"0, 0, 1, 3deg"}}},{state:2,percentage:20,css:{transform:{scale3d:".9, .9, .9",rotate3d:"0, 0, 1, -3deg"}}},{state:1,percentage:30,css:{transform:{scale3d:"1.1, 1.1, 1.1",rotate3d:"0, 0, 1, 3deg"}}},{state:1,percentage:40,css:{transform:{scale3d:"1.1, 1.1, 1.1",rotate3d:"0, 0, 1, -3deg"}}},{state:1,percentage:50,css:{transform:{scale3d:"1.1, 1.1, 1.1",rotate3d:"0, 0, 1, 3deg"}}},{state:1,percentage:60,css:{transform:{scale3d:"1.1, 1.1, 1.1",rotate3d:"0, 0, 1, -3deg"}}},{state:1,percentage:70,css:{transform:{scale3d:"1.1, 1.1, 1.1",rotate3d:"0, 0, 1, 3deg"}}},{state:1,percentage:80,css:{transform:{scale3d:"1.1, 1.1, 1.1",rotate3d:"0, 0, 1, -3deg"}}},{state:1,percentage:90,css:{transform:{scale3d:"1.1, 1.1, 1.1",rotate3d:"0, 0, 1, 3deg"}}},{state:1,percentage:100,css:{transform:{scale3d:"1,1,1",rotate3d:"0,0,1,0deg"}}}]},shake:{animation:{duration:1.3,timingFunction:"ease-in-out",delay:0},keyframes:[{state:0,percentage:0,css:{transform:{translate3d:"20px, 0, 0"}}},{state:1,percentage:10,css:{transform:{translate3d:"-20px, 0, 0"}}},{state:2,percentage:20,css:{transform:{translate3d:"20px, 0, 0"}}},{state:3,percentage:30,css:{transform:{translate3d:"-20px, 0, 0"}}},{state:4,percentage:40,css:{transform:{translate3d:"20px, 0, 0"}}},{state:5,percentage:50,css:{transform:{translate3d:"-20px, 0, 0"}}},{state:6,percentage:60,css:{transform:{translate3d:"20px, 0, 0"}}},{state:7,percentage:70,css:{transform:{translate3d:"-20px, 0, 0"}}},{state:8,percentage:80,css:{transform:{translate3d:"20px, 0, 0"}}},{state:9,percentage:90,css:{transform:{translate3d:"-20px, 0, 0"}}},{state:10,percentage:100,css:{transform:{translate3d:"0, 0, 0"}}}]},"sticky-up":{animation:{duration:.6,timingFunction:"ease-in-out",delay:0},keyframes:[{state:0,percentage:0,css:{"tf-o":"50% 0%",transform:{per:"1000",rotate3d:"1, 0, 0, -90deg"}}},{state:1,percentage:100,css:{"tf-o":"50% 0%",transform:{per:"1000",rotate3d:"1, 0, 0, 0deg"}}}]},"sticky-down":{animation:{duration:.6,timingFunction:"ease-in-out",delay:0},keyframes:[{state:0,percentage:0,css:{"tf-o":"50% 100%",transform:{per:"1000",rotate3d:"1, 0, 0, 90deg"}}},{state:1,percentage:100,css:{"tf-o":"50% 100%",transform:{per:"1000",rotate3d:"1, 0, 0, 0deg"}}}]},"sticky-left":{animation:{duration:.6,timingFunction:"ease-in-out",delay:0},keyframes:[{state:0,percentage:0,css:{"tf-o":"0% 50%",transform:{per:"1000",rotate3d:"0, 1, 0, 90deg"}}},{state:1,percentage:100,css:{"tf-o":"0% 50%",transform:{per:"1000",rotate3d:"0, 1, 0, 0deg"}}}]},"sticky-right":{animation:{duration:.6,timingFunction:"ease-in-out",delay:0},keyframes:[{state:0,percentage:0,css:{"tf-o":"100% 50%",transform:{per:"1000",rotate3d:"0, 1, 0, -90deg"}}},{state:1,percentage:100,css:{"tf-o":"100% 50%",transform:{per:"1000",rotate3d:"0, 1, 0, 0deg"}}}]},wobble:{animation:{duration:1.5,timingFunction:"ease-out",delay:0},keyframes:[{state:0,percentage:0,css:{transform:{translate3d:"0, 0, 0",rotate3d:"0, 0, 1, 0deg"}}},{state:1,percentage:15,css:{transform:{translate3d:"-25%, 0, 0",rotate3d:"0, 0, 1, -5deg"}}},{state:2,percentage:30,css:{transform:{translate3d:"20%, 0, 0",rotate3d:"0, 0, 1, 3deg"}}},{state:3,percentage:45,css:{transform:{translate3d:"-15%, 0, 0",rotate3d:"0, 0, -3, -3deg"}}},{state:4,percentage:60,css:{transform:{translate3d:"10%, 0, 0",rotate3d:"0, 0, 1, 2deg"}}},{state:5,percentage:75,css:{transform:{translate3d:"-5%, 0, 0",rotate3d:"0, 0, 1, -1deg"}}},{state:6,percentage:100,css:{transform:{translate3d:"0, 0, 0",rotate3d:"0, 0, 1, 0deg"}}}]},"rotate-in-down-left":{animation:{duration:.5,timingFunction:"cubic-bezier(0.7,0,0.3,1)",delay:0},keyframes:[{state:0,percentage:0,css:{"tf-o":"-150% 50%",opacity:0,transform:{rotate3d:"0, 0, 1, -45deg"}}},{state:1,percentage:100,css:{"tf-o":"-150% 50%",opacity:1,transform:{rotate3d:"0, 0, 1, 0deg"}}}]},"rotate-in-down-right":{animation:{duration:.5,timingFunction:"cubic-bezier(0.7,0,0.3,1)",delay:0},keyframes:[{state:0,percentage:0,css:{"tf-o":"150% 50%",opacity:0,transform:{rotate3d:"0, 0, 1, 45deg"}}},{state:1,percentage:100,css:{"tf-o":"150% 50%",opacity:1,transform:{rotate3d:"0, 0, 1, 0deg"}}}]},"rotate-in-up-left":{animation:{duration:.5,timingFunction:"cubic-bezier(0.7,0,0.3,1)",delay:0},keyframes:[{state:0,percentage:0,css:{"tf-o":"-150% -50%",opacity:0,transform:{rotate3d:"0, 0, 1, 45deg"}}},{state:1,percentage:100,css:{"tf-o":"-150% -50%",opacity:1,transform:{rotate3d:"0, 0, 1, 0deg"}}}]},"rotate-in-up-right":{animation:{duration:.5,timingFunction:"cubic-bezier(0.7,0,0.3,1)",delay:0},keyframes:[{state:0,percentage:0,css:{"tf-o":"150% -50%",opacity:0,transform:{rotate3d:"0, 0, 1, -45deg"}}},{state:1,percentage:100,css:{"tf-o":"150% -50%",opacity:1,transform:{rotate3d:"0, 0, 1, 0deg"}}}]},swing:{animation:{duration:1,timingFunction:"ease-in-out",delay:0},keyframes:[{state:0,percentage:0,css:{"tf-o":"top center",transform:{rotate3d:"0, 0, 1, 0deg"}}},{state:1,percentage:40,css:{"tf-o":"top center",transform:{rotate3d:"0, 0, 1, -20deg"}}},{state:2,percentage:60,css:{"tf-o":"top center",transform:{rotate3d:"0, 0, 1, 7.5deg"}}},{state:3,percentage:80,css:{"tf-o":"top center",transform:{rotate3d:"0, 0, 1, -7.5deg"}}},{state:4,percentage:100,css:{"tf-o":"top center",transform:{rotate3d:"0, 0, 1, 0deg"}}}]},"horizontal-flip":{animation:{duration:1,timingFunction:"ease-out",delay:0},keyframes:[{state:0,percentage:0,css:{transform:{per:"1000",rotateY:"720"}}},{state:1,percentage:100,css:{"tf-o":"top center",transform:{per:"1000",rotateY:"0"}}}]},"super-horizontal-flip":{animation:{duration:1,timingFunction:"ease-out",delay:0},keyframes:[{state:0,percentage:0,css:{transform:{per:"1000",rotateY:"1440"}}},{state:1,percentage:100,css:{"tf-o":"top center",transform:{per:"1000",rotateY:"0"}}}]},"vertical-flip":{animation:{duration:1,timingFunction:"ease-out",delay:0},keyframes:[{state:0,percentage:0,css:{transform:{per:"1000",rotateX:"720"}}},{state:1,percentage:100,css:{transform:{per:"1000",rotateX:"0"}}}]},"super-vertical-flip":{animation:{duration:1,timingFunction:"ease-out",delay:0},keyframes:[{state:0,percentage:0,css:{transform:{per:"1000",rotateX:"1440"}}},{state:1,percentage:100,css:{transform:{per:"1000",rotateX:"0"}}}]},"rotate-right":{animation:{duration:.8,timingFunction:"ease-out",delay:0},keyframes:[{state:0,percentage:0,css:{"tf-o":"100% 50%",transform:{per:"1200",rotate3d:"0, 1, 0, 90deg"}}},{state:1,percentage:100,css:{"tf-o":"100% 50%",transform:{per:"1200",rotate3d:"0, 1, 0, 0deg"}}}]},"rotate-left":{animation:{duration:.8,timingFunction:"ease-out",delay:0},keyframes:[{state:0,percentage:0,css:{"tf-o":"0% 50%",transform:{per:"1200",rotate3d:"0, 1, 0, -90deg"}}},{state:1,percentage:100,css:{"tf-o":"0% 50%",transform:{per:"1200",rotate3d:"0, 1, 0, 0deg"}}}]}}},void 0===Aiva)Aiva={};if(Aiva.Instances={instanceStack:{},getInstance:function(e){return e=Aiva.Instances.prepareClassName(e),Aiva.Instances.doesClassExist(e)?(Aiva.Instances.isInstanceSet(e)||(Aiva.Instances.instanceStack[e]=new Aiva[e]),Aiva.Instances.instanceStack[e]):null},doesClassExist:function(e){return void 0!==Aiva[e]},isInstanceSet:function(e){return void 0!==Aiva.Instances.instanceStack[e]},prepareClassName:function(e){return"string"==typeof e?e.replace("_"," ").replace(/\b\w/g,function(e){return e.toUpperCase()}).replace(" ",""):""}},void 0===Aiva)Aiva={};if(Aiva.BrowserData=function(){this.getBrowserName=function(){return navigator.appCodeName},this.getLanguage=function(){return navigator.language},this.getPlatform=function(){return navigator.platform},this.getUserAgent=function(){return navigator.userAgent},this.getDeviceType=function(){return this.isMobile()?"mobile":"desktop"},this.isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))},this.isBot=function(){return/Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis|bot|googlebot|crawler|spider|robot|crawling|google|aolbuild|baidu|bing|msn|duckduckgo|teoma|slurp|yandex/i.test(navigator.userAgent)},this.isForAppleDevice=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},this.isInternetExplorer=function(){var e=this.getUserAgent().match(/(MSIE|Trident)/);return null!=typeof e&&null!=e}},void 0===Aiva)Aiva={};if(Aiva.GoogleAnalytics=function(){var e=null;this.isIntegrated=function(){var t=window.location.hostname;if(null===Aiva.ExportData.GoogleTrackers)return!1;for(var a=JSON.parse(Aiva.ExportData.GoogleTrackers).properties,r=0;r<a.length;r++)if(Object.keys(a[r])[0]===t)return e=a[r][t],!0;return!1},this.isInstantiated=function(){return"undefined"!=typeof ga},this.createGA=function(t){var a,r,n,i,s,o;t&&(a=window,r=document,n="script",i="ga",a.GoogleAnalyticsObject=i,a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=1*new Date,s=r.createElement(n),o=r.getElementsByTagName(n)[0],s.async=1,s.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(s,o)),ga("create",e,"auto","aivaGA"),t&&ga("aivaGA.send","pageview")},this.sendEvent=function(e,t,a,r){"undefined"!=typeof ga&&ga("aivaGA.send","event",e,t,a,{nonInteraction:r})}},void 0===Aiva)Aiva={};if(Aiva.LifeCycle=function(){var e=this,t=new Aiva.Writer,a={},r={},n={},i={};this.attachOnDomLoaded=function(e,r){"function"==typeof r?void 0===a[e]?(a[e]=r,"complete"===document.readyState&&setTimeout(r,100)):t.printWarning('Aiva.LifeCycle::attachOnDomLoaded - Provided ID "'+e+'" is already taken.'):t.printWarning('Aiva.LifeCycle::attachOnDomLoaded - Provided parameter with an ID "'+e+'" is not a function.')},this.attachOnCampaignShown=function(e,a){"function"==typeof a?void 0===r[e]?r[e]=a:t.printWarning('Aiva.LifeCycle::attachOnCampaignShown - Provided ID "'+e+'" is already taken.'):t.printWarning('Aiva.LifeCycle::attachOnCampaignShown - Provided parameter with an ID "'+e+'" is not a function.')},this.attachOnCampaignHidden=function(e,a){"function"==typeof a?void 0===n[e]?n[e]=a:t.printWarning('Aiva.LifeCycle::attachOnCampaignHidden - Provided ID "'+e+'" is already taken.'):t.printWarning('Aiva.LifeCycle::attachOnCampaignHidden - Provided parameter with an ID "'+e+'" is not a function.')},this.attachOnBeforeExit=function(e,a){"function"==typeof a?void 0===i[e]?i[e]=a:t.printWarning('Aiva.LifeCycle::attachOnBeforeExit - Provided ID "'+e+'" is already taken.'):t.printWarning('Aiva.LifeCycle::attachOnBeforeExit - Provided parameter with an ID "'+e+'" is not a function.')},this.detachOnDomLoaded=function(e){void 0===a[e]?t.printWarning('Aiva.LifeCycle::detachOnDomLoaded - Function with the provided ID "'+e+'" does not exist.'):delete a[e]},this.detachOnCampaignShown=function(e){void 0===r[e]?t.printWarning('Aiva.LifeCycle::detachOnCampaignShown - Function with the provided ID "'+e+'" does not exist.'):delete r[e]},this.detachOnCampaignHidden=function(e){void 0===n[e]?t.printWarning('Aiva.LifeCycle::detachOnCampaignHidden - Function with the provided ID "'+e+'" does not exist.'):delete n[e]},this.detachOnBeforeExit=function(e){void 0===i[e]?t.printWarning('Aiva.LifeCycle::detachOnBeforeExit - Function with the provided ID "'+e+'" does not exist.'):delete i[e]},this.executeFunctionStack=function(e){if("object"==typeof e)for(var a in e)"function"==typeof e[a]&&e[a]();else t.printWarning('Aiva.LifeCycle::executeFunctionStack - Provided parameter "'+JSON.stringify(e)+'" is not an object.')},document.addEventListener("readystatechange",function(){"complete"===document.readyState&&e.executeFunctionStack(a)},!1),document.addEventListener("AivaExportDetected",function(){e.executeFunctionStack(a)},!1),document.addEventListener("AivaCampaignShown",function(){e.executeFunctionStack(r)},!1),document.addEventListener("AivaCampaignHidden",function(){e.executeFunctionStack(n)},!1),window.addEventListener("beforeunload",function(){e.executeFunctionStack(i)},!1)},void 0===Aiva)Aiva={};if(Aiva.Countdown=function(){var e=this,t={},a={},r=Aiva.Instances.getInstance("Parameters"),n=Aiva.Instances.getInstance("Success"),i=Aiva.Instances.getInstance("Tiles"),s=Aiva.Constants;const o={ss:{ms:s.MillisecondsPerSecond,mod:s.SecondsPerMinute},mm:{ms:s.MillisecondsPerSecond*s.SecondsPerMinute,mod:s.MinutesPerHour},hh:{ms:s.MillisecondsPerSecond*s.SecondsPerMinute*s.MinutesPerHour,mod:s.HoursPerDay},dd:{ms:s.MillisecondsPerSecond*s.SecondsPerMinute*s.MinutesPerHour*s.HoursPerDay,mod:s.DaysPerMonth},MM:{ms:s.MillisecondsPerSecond*s.SecondsPerMinute*s.MinutesPerHour*s.HoursPerDay*s.DaysPerMonth,mod:s.MonthsPerYear},yy:{ms:s.MillisecondsPerSecond*s.SecondsPerMinute*s.MinutesPerHour*s.HoursPerDay*s.DaysPerMonth*s.MonthsPerYear,mod:Number.MAX_VALUE}};this.getCountdownJson=function(e,t){var a=r.getVariant(e),n=[];if(void 0!==a.smartElJson&&void 0!==a.smartElJson.countdown&&void 0!==a.smartElJson.countdown[t]){for(var i=0;i<a.smartElJson.countdown[t].length;i++)n.push(JSON.parse(a.smartElJson.countdown[t][i]));return n}return null},this.createCountdowns=function(e){var t=i.getCurrentTileId(e),n=r.getOverlayReference(e,t),o=this.getCountdownJson(e,t),c=(r.getVariant(e),i.getTileSettings("transition",e,t)),l=void 0===c.effect?"normal-fade-in":c.effect,d=1e3*s.AnimationData[l].animation.duration+s.pauseTillCountdownStart;if(null===o)return null;for(var u=0;u<o.length;u++){var g=JSON.parse(o[u].endStyle);1==g.num&&(a[g.addition]=n.getElementsByClassName(g.addition).item(0),a[g.addition].style.display="none");var m=-1==o[u].timezone?this.getEndTime(o[u].time):parseInt(o[u].time),v=n.getElementsByClassName(o[u].id).item(0);this.startCountdown(m,o[u].timerFormat,v,JSON.parse(o[u].postAction),g,d,e)}},this.startCountdown=function(a,n,s,c,l,d,u){var g=n.split(/:| |\//g),m=s.getElementsByClassName("time-section"),v=(i.getCurrentTileId(u),r.getIdentityString(u)),p=-1;for(var f in o)if(g.indexOf(f)>-1){p=o[f].ms;break}a+=d,this.setTimeBlocks(m,g,a-(new Date).getTime()),setTimeout(function(){n();var r=setInterval(n,p);function n(){var t=a-(new Date).getTime();t<=0&&(clearInterval(r),e.finishCountdown(s,c,l,u)),e.setTimeBlocks(m,g,t)}void 0===t[v]&&(t[v]=[]),t[v].push(r)},d)},this.getEndTime=function(e){return parseInt(e)+Date.parse(new Date)},this.finishCountdown=function(e,t,s,o){var c,l=Aiva.Instances.getInstance("Actions"),d=i.getCurrentTileId(o);switch(t.num){case 0:break;case 1:l.hide(o,d);break;case 2:window.location=t.addition;break;case 3:var u=r.getIdentityString(o),g=r.getAnalytics(u),m=(c=t.addition,g.appendToParameter("textCollected","submit value = "+c),g.setParameter("submitValue",c),{submission_type:"value",submission_data:c,time_of_success:(new Date-g.getParameter("shown_date"))/1e3});m&&(n.submission(o,m),l.hide(o,d));break;case 4:i.switchToTile(o,t.addition)}switch(s.num){case 0:break;case 1:a[s.addition].style.display="initial";case 2:e.style.display="none"}},this.setTimeBlocks=function(e,t,a){var r=null;t.forEach(function(n,i){r=(r=(r=0==t.includes("yy")&&0==i&&a/o[n].ms>=o[n].mod?Math.floor(a/o[n].ms):Math.floor(a/o[n].ms%o[n].mod))<0?0:r)<10?"0"+r:r,e[i].innerHTML=r})},this.killCountdowns=function(e){var a=r.getIdentityString(e);for(void 0===t[a]?tileCountdowns=[]:tileCountdowns=t[a];tileCountdowns.length>0;)clearInterval(tileCountdowns.pop())}},void 0===Aiva)Aiva={};if(Aiva.Analytics=function(){this.data={clientEmail:Aiva.ExportData.clientEmail,cta:0,score:0,success:0,social_success:0,video_success:0,ctr_success:0,submission_success:0,success_json:"{}",name:"None shown",variant_name:"",tile_name:"",campaign_id:null,email:"",textCollected:"",couponCodeShown:"",submitValue:"",urlClicked:"",time:0,mousePosition:"",curr_site:window.location.href,prev_site:document.referrer,shown_date:null,timezone:null};this.getParameter=function(e){return this.data[e]},this.getSuccessJson=function(){return JSON.parse(this.data.success_json)},this.setParameter=function(e,t){this.data[e]=t},this.appendToParameter=function(e,t){""===this.data[e]?this.data[e]=t:this.data[e]+=","+t},this.addToSuccessJson=function(e,t){var a=this.getParameter("success_json"),r=null;(r=""===a?{}:JSON.parse(a))[e]||(r[e]=[]),r[e].push(t),this.setParameter("success_json",JSON.stringify(r))}},void 0===Aiva)Aiva={};if(Aiva.Parameters=function(){var e=new Aiva.Writer,t=(new Aiva.LifeCycle,new Aiva.BrowserData),a=new Aiva.Converter,r=new Aiva.Tiles;Aiva.Parameters.Data||(Aiva.Parameters.Data=null),this.getParameter=function(e){return void 0===Aiva.Parameters.Data[e]?"":Aiva.Parameters.Data[e]},this.getIdentityString=function(e){return"P"+e.projectIndex+"_p"+e.pageIndex+"_v"+e.variantIndex},this.getVariant=function(e){return Aiva.ExportData.isPreview?Aiva.ExportData.projects[e.projectIndex].pages[e.pageIndex].variants[e.variantType][e.variantIndex]:Aiva.ExportData.projects[e.projectIndex].pages[e.pageIndex].variants[t.getDeviceType()][e.variantIndex]},this.getPage=function(e){return Aiva.ExportData.projects[e.projectIndex].pages[e.pageIndex]},this.getProject=function(e){return Aiva.ExportData.projects[e.projectIndex]},this.getPlan=function(){return Aiva.ExportData.plan},this.getElement=function(t,a){var r="";if("background"===a)r="backgroundElements";else{if("overlay"!==a)return e.printError("Incorrect type in getElement: type = "+a),null;r="overlayElements"}var n=this.getParameter(r),i=this.getIdentityString(t);for(var s in n)if(s===i)return n[s]},this.setBackgroundReference=function(e,t){var a=this.getParameter("backgroundElements");a[e]=t,this.setParameter("backgroundElements",a)},this.getBackgroundReference=function(t){var a=this.getParameter("backgroundElements"),r=this.getIdentityString(t);for(var n in Aiva.Constants.DebugMode&&e.printInfo("Getting Background Reference (Identifier):"+t),a)if(n===r)return a[n]},this.numberOfTiles=function(e){return r.numberOfTiles(e)},this.setOverlayReference=function(e,t,a){var r=this.getParameter("overlayElements");r[e]=t,this.setParameter("overlayElements",r)},this.getOverlayReference=function(t,a){var r=this.getParameter("overlayElements"),n={},i=this.getIdentityString(t);for(var s in Aiva.Constants.DebugMode&&(e.printInfo("Getting Overlay Reference (Identifier):"+t),e.printInfo("Getting Overlay Reference (Tile ID): "+a)),r)0==s.indexOf(i)&&(n[s]=r[s]);return void 0===a?n[Object.keys(n)[0]]:n[i+"_T"+a]},this.getAnalytics=function(e){var t=this.getParameter("analytics");for(var a in t)if(a===e)return t[a];return this.setAnalytics(e,new Aiva.Analytics)},this.getVideoPlayers=function(e){var t=this.getIdentityString(e),a=this.getParameter("videoPlayers");for(var r in a)if(r===t)return a[r];return{}},this.getVideoPlayer=function(t,a){var r=this.getIdentityString(t),n=this.getParameter("videoPlayers");for(var i in n)if(i===r)for(var s in n[i])if(s===a)return n[i][s];e.printError("Video player not found for variant "+r+" with playerId "+a)},this.getVideoReadyInterval=function(t,a){var r=this.getIdentityString(t),n=this.getParameter("videoReadyIntervals");for(var i in n)if(i===r)for(var s in n[i])if(s===a)return n[i][s];e.printError("Video player interval not found for variant "+r+" with playerId "+a)},this.getCookieData=function(e){var t=this.getParameter("cookieData"),a=this.getIdentityString(e);return void 0===t[a]&&(t[a]={visitsIncremented:!1,displaysIncremented:!1,createFlag:!1}),this.setParameter("cookieData",t),t[a]},this.clone=function(e){var t;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var a=0,r=e.length;a<r;a++)t[a]=this.clone(e[a]);return t}if(e instanceof Object){for(var n in t={},e)e.hasOwnProperty(n)&&(t[n]=this.clone(e[n]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")},this.setParameter=function(e,t){Aiva.Parameters.Data[e]=t},this.setElement=function(e,t,a){var r=this.getParameter(t);return r[e]=a,this.setParameter(t,r),this.getParameter(t)[e]},this.setAnalytics=function(e,t){var a=this.getParameter("analytics");return a[e]=t,this.setParameter("analytics",a),this.getParameter("analytics")[e]},this.setVideoPlayers=function(e,t){var a=this.getIdentityString(e),r=this.getParameter("videoPlayers");return r[a]=t,this.setParameter("videoPlayers",r),this.getParameter("videoPlayers")[a]},this.setVideoReadyInterval=function(e,t,a){var r=this.getIdentityString(e),n=this.getParameter("videoReadyIntervals");return n[r]||(n[r]={}),n[r][t]=a,this.setParameter("videoReadyIntervals",n),this.getParameter("videoReadyIntervals")[r][t]},this.setCookieData=function(e,t){var a=this.getParameter("cookieData");return a[this.getIdentityString(e)]=t,this.setParameter("cookieData",a),this.getCookieData(e)},this.generateParameters=function(){this.processPageData(),this.processExportData()},this.processPageData=function(){Aiva.Parameters.Data.protocol=window.location.protocol,Aiva.Parameters.Data.hostname=a.parseUrl(window.location.hostname),Aiva.Parameters.Data.pathname=window.location.pathname,Aiva.Parameters.Data.fullUrl=window.location.href,Aiva.Parameters.Data.geoLocation=null,Aiva.Parameters.Data.startDate=new Date,Aiva.Parameters.Data.overlayElements={},Aiva.Parameters.Data.tileOverlayElements={},Aiva.Parameters.Data.backgroundElements={},Aiva.Parameters.Data.numberOfOverlays=0,Aiva.Parameters.Data.numberOfAddedOverlays=0,Aiva.Parameters.Data.loadedCampaigns={},Aiva.Parameters.Data.cookieData={},Aiva.Parameters.Data.nonAlwaysOnScreenShown=!1,Aiva.Parameters.Data.hardShowUsed=!1,Aiva.Parameters.Data.onYouTubeIframeAPIReadyCalled=!1,Aiva.Parameters.Data.youtubeApiFound=null,Aiva.Parameters.Data.fontawesomeResourceFound=null,Aiva.Parameters.Data.analytics={},Aiva.Parameters.Data.DefaultOverflow=document.body.style.overflow,Aiva.Parameters.Data.DefaultPosition=document.body.style.position,Aiva.Parameters.Data.videoPlayers={},Aiva.Parameters.Data.videoReadyIntervals={}},this.processExportData=function(){void 0===Aiva.ExportData?e.printError("Aiva.Parameters::processExportData - Export data does not exist."):Aiva.Constants.DebugMode&&e.printInfo(Aiva.ExportData)}},void 0===Aiva)Aiva={};if(Aiva.CustomJavascript=function(){new Aiva.Parameters,new Aiva.Writer;this.findJavascriptReferences=function(e){var t=e.search("{{");if(-1!==t){var a=e.search("}}");if(-1!==a){var r=e.substring(t+2,a);e=this.isReference(r)?e.substring(0,t)+String(this.evaluateCustomExpression(r))+this.findJavascriptReferences(e.substring(a+2,e.length)):e.substring(0,a+1)+this.findJavascriptReferences(e.substring(a+1,e.length))}}return e},this.isReference=function(e){try{if(void 0===this.evaluateCustomExpression(refString))return!1}catch(e){return!1}return!0},this.evaluateCustomExpression=function(e){try{return new Function("return "+e)()}catch(e){return!1}}},void 0===Aiva)Aiva={};if(Aiva.Success=function(){var e=new Aiva.Parameters,t=new Aiva.WebSocket,a=new Aiva.CookieManager,r=new Aiva.GoogleAnalytics;new Aiva.BrowserData;this.clickthrough=function(n,i,s){var o=e.getIdentityString(n),c=e.getAnalytics(o);c.setParameter("success",1),c.setParameter("ctr_success",1);var l=c.getParameter("urlClicked");c.setParameter("urlClicked",l+i+", ");var d={click_action:s};switch(s){case"Called":i=i.replace(/^tel:/g,"");break;case"Emailed":i=i.replace(/^mailto:/g,"")}d.target=i,d.time_of_success=(new Date-c.getParameter("shown_date"))/1e3,c.addToSuccessJson("ClickThrough",d),r.sendEvent("Aiva ClickThrough",s,e.getProject(n).name,!1),t.sendAnalytics(n),a.update(n,!1,!0)},this.submission=function(n,i){var s=e.getIdentityString(n),o=e.getAnalytics(s),c=(e.getProject(n),e.getVariant(n),e.clone(o));c.data.submitValue="",c.data.textCollected="",c.data.email="",o.setParameter("success",1),o.setParameter("submission_success",1),o.addToSuccessJson("Submissions",i);for(var l=!1,d=0;d<i.submission_data.length;d++)"email"===i.submission_data[d].type&&(l=!0);r.sendEvent("Aiva Submission",l?"Email":"Input",e.getProject(n).name,!1),t.sendAnalytics(n),e.setAnalytics(s,c),a.update(n,!1,!0)},this.social=function(n,i,s,o){var c=e.getIdentityString(n),l=e.getAnalytics(c),d=l.getSuccessJson();l.setParameter("success",1),l.setParameter("social_success",1);var u=!1;if(void 0!==d.Social_engagement)for(var g=0;g<d.Social_engagement.length;g++)d.Social_engagement[g].engagement_type===s&&d.Social_engagement[g].platform===i&&(u=!0);if(!u){var m={platform:i,engagement_type:s,target:o,time_of_success:(new Date-l.getParameter("shown_date"))/1e3};l.addToSuccessJson("Social_engagement",m)}r.sendEvent("Aiva "+i,s,e.getProject(n).name,!1),t.sendAnalytics(n),a.update(n,!1,!0)},this.video=function(n,i,s,o){var c=e.getIdentityString(n),l=e.getAnalytics(c);l.setParameter("success",1),l.setParameter("video_success",1);var d=l.getSuccessJson();d.Video_views||(d.Video_views=[]);for(var u=-1,g=0;g<d.Video_views.length;g++)"youtube"===i.type?-1!==d.Video_views[g].video_id.search(s.a.id)&&(u=g):-1!==d.Video_views[g].video_id.search(s.id)&&(u=g);if(-1!==u)"1"===i.loop&&"youtube"===i.type?d.Video_views[u].time_viewed+=o:d.Video_views[u].time_viewed=o,l.setParameter("success_json",JSON.stringify(d));else{var m={mute:this.videoParameterParse(i.isMuted),loop:this.videoParameterParse(i.loop),autoplay:this.videoParameterParse(i.autoplay),start_time:parseInt(i.startTime),end_time:parseInt(i.endTime)};"1"===i.autoplay?r.sendEvent("Aiva Video","View",e.getProject(n).name,!0):(r.sendEvent("Aiva Video","View",e.getProject(n).name,!1),r.sendEvent("Aiva Video","Played",e.getProject(n).name,!1));var v={};v="youtube"===i.type?{video_id:s.a.id,video_url:s.getVideoUrl(),time_viewed:o,player_parameters:m,events:[]}:{video_id:s.id,video_url:i.videoId,time_viewed:o,player_parameters:m,events:[]},l.addToSuccessJson("Video_views",v)}t.sendAnalytics(n),a.update(n,!1,!0)},this.tag=function(r,n){var i=e.getIdentityString(r),s=e.getAnalytics(i);s.setParameter("success",1),s.setParameter("tag_success",1),s.addToSuccessJson("Tags",n),t.sendAnalytics(r),a.update(r,!1,!0)},this.videoParameterParse=function(e){return parseInt(e)?"True":"False"}},void 0===Aiva)Aiva={};if(Aiva.Actions=function(){var e=Aiva.Instances.getInstance("Parameters"),t=Aiva.Instances.getInstance("Animations"),a=(Aiva.Instances.getInstance("Success"),Aiva.Instances.getInstance("Viable"),Aiva.Instances.getInstance("WebSocket")),r=Aiva.Instances.getInstance("BrowserData"),n=Aiva.Instances.getInstance("Video"),i=(Aiva.Instances.getInstance("LifeCycle"),Aiva.Instances.getInstance("CookieManager")),s=Aiva.Instances.getInstance("Countdown"),o=Aiva.Instances.getInstance("Tiles"),c=(Aiva.Instances.getInstance("Shopify"),new Aiva.Coupon);this.show=function(l,d,u,g){var m,v,p=e.getIdentityString(l);e.getAnalytics(p),e.getProject(l),e.getVariant(l),e.getBackgroundReference(l);function f(c){if(void 0!==g&&g||!c.processAlwaysOnScreen(l)){s.killCountdowns(l),void 0===d&&(d=!0);var m=e.getAnalytics(p),v=e.getProject(l),f=e.getVariant(l),h=e.getElement(l,"background"),y=e.getOverlayReference(l,u);e.getCookieData(l).createFlag?i.cookieCreate(l,!1):i.update(l,!1),m.setParameter("shown_date",new Date),m.setParameter("cta",1),m.setParameter("campaign_id",v.id),r.isMobile()?m.setParameter("variant_name",f.name+" (Mobile)"):m.setParameter("variant_name",f.name);var w="Tile "+(o.getTileIndexById(l,u)+1);r.isMobile()?m.setParameter("tile_name",w+" | "+f.name+" (Mobile)"):m.setParameter("tile_name",w+" | "+f.name);var b=v.name;r.isMobile()&&(b+=" (Mobile)"),m.setParameter("name",b),m.setParameter("timezone",v.timezone),a.sendAnalytics(l),c.scale(l,d,u),t.run(l,u,d),f.overlayJson.overlay.lock.scroll&&(document.body.style.height="100%",document.body.style.width="100%",document.body.style.overflow="hidden",document.body.style.position="fixed"),!f.overlayJson.overlay.lock.persist||f.overlayJson.overlay.lock.click||f.overlayJson.overlay.baseFullScreen||(h.style.pointerEvents="none",y.style.pointerEvents="none",y.hasChildNodes()&&y.childNodes.forEach(function(e){-1!==e.className.indexOf("aiva-overlay")&&(e.style.pointerEvents="none")})),n.autoPlayVideos(l,u),s.createCountdowns(l),f.overlayJson.target.sameVariant&&i.update(l,!1,!1,f.name)}}void 0===d&&(d=!0),void 0===u&&(u=o.getFirstTileId(l)),m=e.getOverlayReference(l,u),null!==(v=c.getInfo(m))&&"false"===v.hide?c.reveal(l,m,v,f,this):f(this)},this.hide=function(t,r){var i=Aiva.Instances.getInstance("countdown"),s=e.getIdentityString(t),o=e.getAnalytics(s),c=e.getVariant(t),l=e.getOverlayReference(t,r),d=e.getBackgroundReference(t);n.stopAllVideos(t),d.style.display="none",d.animationStatus="hidden",l.style.display="none",i.killCountdowns(t),(c.overlayJson.overlay.lock.scroll||c.overlayJson.overlay.baseFullScreen||c.overlayJson.overlay.fillScreen)&&(document.body.style.overflow=e.getParameter("DefaultOverflow"),document.body.style.position=e.getParameter("DefaultPosition")),0===o.getParameter("success")&&a.campaignHidden(t)},this.scale=function(a,r,n){if(null!=n){var i=Aiva.ExportData.isPreview&&"lg"==Aiva.ExportData.previewType?1:this.getScaleValue(a),s=e.getOverlayReference(a,n),o=e.getVariant(a);this.setScaleValue(s.firstChild,i,o.overlayJson.overlay.fillScreen),"done"!==e.getBackgroundReference(a).animationStatus||o.overlayJson.overlay.fillScreen||(s.style.width="0px");var c=e.getIdentityString(a);document.getElementById("aiva_animation_"+c+"_T"+n)&&t.update(a,n,r),1===o.overlayJson.overlay.fillScreen&&window.innerHeight<i*o.height?(document.body.style.overflow="hidden",s.style.width="100%",s.style.height="100%",s.style.top="0px",s.style.left="0px",s.style.overflow="auto",s.style.overflowX="hidden",s.className="",s.firstChild.style.top=o.height*(i-1)/2+"px",s.firstChild.style.left=o.width*(i-1)/2+"px"):(s.style.width=o.width+"px",s.style.height=o.height+"px",s.style.removeProperty("overflow"),s.style.removeProperty("top"),s.style.removeProperty("left"),s.firstChild.style.removeProperty("top"),s.firstChild.style.removeProperty("left"),s.className=c+"_T"+n+"_overlay_animationClass")}},Aiva.Actions.HardShow=function(t,a){if(void 0===t)return console.error("No campaignId declared please add one"),null;var r=e.getParameter("loadedCampaigns");for(var n in r)if(n===t.toString())var i=r[n];if(void 0===i)return console.error("Campaign is not loaded please make sure it is exported"),null;e.setParameter("hardShowUsed",!0),(new Aiva.Actions).show(i,!0,a)},Aiva.Actions.Close=function(t){var a=e.getParameter("loadedCampaigns");for(var r in a)if(r===t.toString())var n=a[r];if(void 0===n)return writer.printError("Campaign is not loaded please make sure it is exported"),null;(new Aiva.Actions).hide(n)},this.getScaleValue=function(t){var a=e.getVariant(t),r={width:40,height:40};1!==a.overlayJson.overlay.baseFullScreen&&1!==a.overlayJson.overlay.fillScreen||(r.width=0,r.height=0);var n=a.width,i=a.height,s={width:document.body.clientWidth,height:window.innerHeight};a.overlayJson.overlay.fillScreen&&(s.width=window.innerWidth);var o={width:0,height:0},c=n/i;return a.overlayJson.overlay.fillScreen?o.width=s.width:n>s.width-r.width&&(o.width=s.width-r.width,o.height=o.width/c,o.height>s.height-r.height&&(o.height=s.height-r.height,o.width=o.height*c)),0!==o.height||a.overlayJson.overlay.fillScreen||i>s.height-r.height&&(o.height=s.height-r.height,o.width=o.height*c),o.width/n},this.setScaleValue=function(e,t,a){if(a||(t<=0||t>1)&&(t=1),e.dataset.scale=t,void 0===e.dataset.transform||"none"===e.dataset.transform){var r=window.getComputedStyle(e,null).getPropertyValue("transform");"none"===window.getComputedStyle(e,null).getPropertyValue("transform")?e.dataset.transform="":e.dataset.transform=r}e.style.transform=e.dataset.transform+" scale("+t+")"},this.showVideos=function(t){function a(t,r){var n=e.getVideoPlayer(t,r),i=e.getVideoReadyInterval(t,r);void 0!==n&&void 0!==n.ytScriptReady&&void 0!==n.playVideo?(n.playVideo(),clearInterval(i)):void 0===i&&(i=setInterval(function(){a(t,r)},100),e.setVideoReadyInterval(t,r,i))}for(var i=n.getVideoJson(t),s=e.getIdentityString(t),o=null,c=null,l=0;l<i.length;l++)c=Aiva.Constants.VideoPlayerIdPrefix+s+"-"+l,o=e.getVideoPlayer(t,c),"youtube"===i[l].type?"1"===i[l].autoplay&&a(t,c):"html5"===i[l].type&&("1"===i[l].isMuted&&(o.muted=!0),"1"===i[l].autoplay&&(r.isForAppleDevice()&&(o.muted=!0),o.play()))},this.processAlwaysOnScreen=function(t){var a=e.getVariant(t);return 1!==a.overlayJson.overlay.lock.persist&&!e.getParameter("hardShowUsed")&&(!1!==e.getParameter("nonAlwaysOnScreenShown")&&"click"!==a.overlayJson.timing.action&&("mouseover"!==a.overlayJson.timing.action||"every"!==a.overlayJson.timing.value.type)||(e.setParameter("nonAlwaysOnScreenShown",!0),!1))}},void 0===Aiva)Aiva={};if(Aiva.Scoring=function(){var e=new Aiva.Parameters;this.update=function(t,a){var r=e.getIdentityString(t),n=e.getAnalytics(r),i=n.getParameter("score");i+=a,n.setParameter("score",i)}},void 0===Aiva)Aiva={};if(Aiva.Writer=function(){this.printError=function(e){Aiva.Constants.DebugMode&&console.error(e)},this.printMessage=function(e){Aiva.Constants.DebugMode&&console.log(e)},this.printWarning=function(e){Aiva.Constants.DebugMode&&console.warn(e)},this.printInfo=function(e){Aiva.Constants.DebugMode&&console.info(e)}},void 0===Aiva)Aiva={};if(Aiva.PositionHandler=function(){var e=new Aiva.Parameters;new Aiva.Writer;this.get=function(e,t,a){var r="";return r+=this.getCss(t,a)},this.getCss=function(e,t){var a=this.getPosition(e,t);return" bottom: "+a.bottom+"px; left: "+a.left+"px; "},this.getPosition=function(t,a){var r,n=e.getVariant(t),i=e.getOverlayReference(t),s=null,o=0,c=0,l=document.body.clientWidth/2,d=window.innerHeight/2,u=void 0===n.overlayJson.position.tiles?n.overlayJson.position.horizontal:n.overlayJson.position.tiles[a].horizontal,g=void 0===n.overlayJson.position.tiles?n.overlayJson.position.vertical:n.overlayJson.position.tiles[a].vertical;switch(u){case"right":o=1;break;case"left":o=-1}switch(g){case"top":c=-1;break;case"bottom":c=1}var m=(d-n.height*i.firstChild.dataset.scale/2)*c,v=(l-n.width*i.firstChild.dataset.scale/2)*o;return Aiva.ExportData.isPreview,n.overlayJson.overlay.fillScreen&&window.innerHeight<i.firstChild.dataset.scale*n.height?(r=0,s=0):(r=(window.innerHeight-n.height)/2-m,s=(document.body.clientWidth-n.width)/2+v),{bottom:r,left:s}}},void 0===Aiva)Aiva={};if(Aiva.WebSocket=function(){var e=new Aiva.Writer,t=new Aiva.Parameters,a=new Aiva.BrowserData,r=null,n=!1;switch(Aiva.Constants.SocketMode){case"local":r="http://localhost:3000/";break;case"staging":r="https://staging.aivalabs.com/";break;case"production":r="https://aivalabs.com/";break;default:e.printError("Socket mode is not defined in constants!")}this.add=function(){var a=this;!function(){if(void 0===Aiva.Parameters.Socket){var i=io.connect(r,{query:"identity="+Aiva.ExportData.persistCode});i.on("connect",function(){e.printInfo("Socket connected");var t=this;(new Fingerprint2).get(function(e,a){t.emit("connected",{clientEmail:Aiva.ExportData.clientEmail,fingerprint:e,currentSite:window.location.href,timezone:Aiva.ExportData.timezone})})}),Aiva.Parameters.Socket=i,i.on("location",function(r){t.setParameter("geoLocation",r),n||(e.printInfo("First time socket connection has been made, loading viable campaigns now."),a.socketComplete())})}}()},this.sendAnalytics=function(r){var n=t.getIdentityString(r),i=t.getAnalytics(n);if(!a.isBot()&&!Aiva.ExportData.isPreview){n=t.getIdentityString(r);var s=t.numberOfTiles(r),o=(i=t.getAnalytics(n),Aiva.Parameters.Socket);Aiva.Constants.DebugMode&&e.printInfo(i.data),o.emit("analytics",i.data,s)}},this.campaignHidden=function(r){if(!a.isBot()&&!Aiva.ExportData.isPreview){var n=t.getIdentityString(r),i=t.getAnalytics(n),s=Aiva.Parameters.Socket;Aiva.Constants.DebugMode&&e.printInfo(i.data),s.emit("campaignHidden",i.data)}},this.newPage=function(){Aiva.Parameters.Socket.emit("pageChange")},this.socketComplete=async function(){n=!0;var e=Aiva.Instances.getInstance("projects"),t=Aiva.Instances.getInstance("video"),a=await e.getViableProjects();t.preload(a);for(var r=0;r<a.length;r++)e.addResources(a[r]),e.addScripts(a[r]),e.addOverlay(a[r]),e.loadEvents(a[r])}},void 0===Aiva)Aiva={};if(Aiva.Video=function(){var e=this,t=(Aiva.Writer(),new Aiva.WebSocket),a=new Aiva.Parameters,r=new Aiva.BrowserData,n=new Aiva.Success,i=new Aiva.GoogleAnalytics;this.preload=function(e){if(!Aiva.ExportData.isPreview){window.onYouTubeIframeAPIReady=function(){a.setParameter("onYouTubeIframeAPIReadyCalled",!0);for(var t=new Aiva.Video,r=0;r<e.length;r++)t.loadVideo(e[r])};for(var t=document.getElementsByTagName("script"),r=0;r<t.length;r++)-1===t[r].src.indexOf("youtube.com/iframe_api")&&-1===t[r].src.indexOf("youtube.com/player_api")||setTimeout(function(){window.onYouTubeIframeAPIReady()},100)}},this.getVideoJson=function(e){return a.getVariant(e).videoJson},this.createVideos=function(e,t){var r=this.getVideoJson(e);if(r)for(var n=a.getIdentityString(e),i=null,s=null,o=0;o<r.length;o++)t.getElementsByClassName(r[o].videoClass).length>0&&(i=Aiva.Constants.VideoPlayerIdPrefix+n+"-"+o,"youtube"===r[o].type?(s=document.createElement("div")).id=i:"html5"===r[o].type&&(s=this.createHtml5VideoElement(e,i,r[o])),t.getElementsByClassName(r[o].videoClass).item(0).appendChild(s))},this.loadVideo=function(e){for(var t=this.getVideoJson(e),r=a.getIdentityString(e),n=0;n<t.length;n++)if("youtube"===t[n].type){var i=Aiva.Constants.VideoPlayerIdPrefix+r+"-"+n,s=this.createYoutubeVideoPlayer(e,i,t[n]);s.ytScriptReady=!0;var o=a.getVideoPlayers(e);o[i]=s,a.setVideoPlayers(e,o)}},this.createHtml5VideoElement=function(e,t,r){var n=document.createElement("video");n.id=t,n.setAttribute("playsinline",""),n.setAttribute("webkit-playsinline",""),n.setAttribute("preload","auto"),n.setAttribute("controlsList","nodownload"),"1"===r.loop&&n.setAttribute("loop",""),"1"===r.autoplay&&n.setAttribute("autoplay",""),"1"===r.muted&&n.setAttribute("muted",""),"1"===r.controls&&(n.controls=!0);var i=document.createElement("source"),s=r.videoId;r.startTime&&(s+="#t="+r.startTime+","+r.endTime),i.src=s,i.type="video/mp4",n.appendChild(i),this.setHtml5VideoEvents(e,n,r);var o=a.getVideoPlayers(e);return o[t]=n,a.setVideoPlayers(e,o),n},this.setHtml5VideoEvents=function(t,r,s){var o=!0;r.addEventListener("timeupdate",function(){var e=r.currentTime;if(s.startTime&&(e-=s.startTime),"1"===s.loop&&s.startTime&&r.currentTime>=s.endTime&&(r.dataset.times_looped++,r.aivaVideoLooped=!0,r.currentTime=s.startTime,r.play()),r.dataset.times_looped){var a=null;a=s.startTime?s.endTime-s.startTime:r.duration,e+=r.dataset.times_looped*a}e>=Aiva.Constants.VideoSuccessRequirement&&n.video(t,s,r,e)},!1),r.addEventListener("playing",function(){!1===r.aivaVideoLooped?e.addVideoEvent(t,s,r,"played"):r.aivaVideoLooped=!1},!1),r.addEventListener("pause",function(n){!1===r.aivaVideoLooped&&setTimeout(function(){null!==n.target&&r.duration!==r.currentTime&&(o&&(o=!1,i.sendEvent("Aiva Video","Paused",a.getProject(t).name,!1)),e.addVideoEvent(t,s,r,"paused"))},50)},!1),"1"===s.loop&&(r.dataset.times_looped||(r.dataset.times_looped=0),r.addEventListener("ended",function(){r.dataset.times_looped++,r.aivaVideoLooped=!0,r.play()}))},this.youtubeTimeHandler=function(t,r,s){var o=!0;if(s.aivaTimer)return null;s.aivaElapsedTime||(s.aivaElapsedTime=0);s.aivaTimer=setInterval(function(){var c=s.getPlayerState();1===c?(s.aivaPlayState&&s.aivaPlayState===c||(s.aivaPlayState=c),s.aivaElapsedTime+=.5,s.aivaElapsedTime>Aiva.Constants.VideoSuccessRequirement?n.video(t,r,s,s.aivaElapsedTime):s.aivaElapsedTime===Aiva.Constants.VideoSuccessRequirement&&n.video(t,r,s,Aiva.Constants.VideoSuccessRequirement)):2===c&&(o&&(o=!1,i.sendEvent("Aiva Video","Paused",a.getProject(t).name,!1)),null!==s.aivaTimer&&(clearInterval(s.aivaTimer),s.aivaTimer=null,s.aivaPlayState=null,s.aivaPlayerPlaying=!1,e.addVideoEvent(t,r,s,"paused")))},500)},this.createYoutubeVideoPlayer=function(t,r,n){return new YT.Player(r,{height:n.height,width:n.width,videoId:n.videoId,playerVars:{autoplay:"0",start:n.startTime,end:n.endTime,controls:n.controls,playsinline:1,rel:0},events:{onReady:function(){var e,i=setInterval(void((e=a.getVideoPlayer(t,r))&&("1"===n.isMuted&&e.mute(),(new Aiva.Video).youtubeTimeHandler(t,n,e),clearInterval(i))),100)},onStateChange:function(i){if(0===i.data){var s=a.getVideoPlayer(t,r);"1"===n.loop?(n.startTime&&s.seekTo(n.startTime,!0),function e(t,r){var n=a.getVideoPlayer(t,r),i=a.getVideoReadyInterval(t,r);void 0!==n&&void 0!==n.ytScriptReady?(n.playVideo(),n.aivaVideoLooped=!0,clearInterval(i)):void 0===i&&(i=setInterval(function(){e(t,r)},100),a.setVideoReadyInterval(t,r,i))}(t,r)):s.aivaPlayerPlaying=!1}else 1===i.data&&((s=a.getVideoPlayer(t,r)).aivaTimer||e.youtubeTimeHandler(t,n,s),!0!==s.aivaPlayerPlaying&&(!0===s.aivaVideoLooped?s.aivaVideoLooped=!1:!1===s.aivaPlayerPlaying&&e.addVideoEvent(t,n,s,"played"),s.aivaPlayerPlaying=!0))}}})},this.addVideoEvent=function(e,r,n,i){var s=a.getIdentityString(e),o=a.getAnalytics(s),c=o.getSuccessJson();if(1===o.data.video_success){var l=null;l="youtube"===r.type?n.a.id:n.id;for(var d=0;d<c.Video_views.length;d++)if(l===c.Video_views[d].video_id){c.Video_views[d].events||(c.Video_views[d].events=[]);var u=!1;if("played"===i||"paused"===i)for(var g=0;g<c.Video_views[d].events.length;g++)c.Video_views[d].events[g].name===i&&(u=g);var m=(new Date-o.getParameter("shown_date"))/Aiva.Constants.MillisecondsPerSecond;!1===u?c.Video_views[d].events.push({name:i,time:m}):c.Video_views[d].events[u].time=m,o.setParameter("success_json",JSON.stringify(c)),t.sendAnalytics(e)}}},this.addTileAttributes=function(e){a.getIdentityString(e),a.getProject(e);for(var t=a.getVariant(e),r=[],n=0;n<t.tiles.length;n++){r=a.getOverlayReference(e,t.tiles[n].id).getElementsByClassName("video-container");for(var i=0;i<r.length;i++)r[i].setAttribute("data-tile-id",t.tiles[n].id)}},this.autoPlayVideos=function(e,t){for(var n=this.getVideoJson(e),i=a.getVideoPlayers(e),s=null,o=0,c="html5",l=0;l<n.length;l++){function d(e,t){var r=a.getVideoPlayer(e,t),n=a.getVideoReadyInterval(e,t);void 0!==r&&void 0!==r.ytScriptReady&&void 0!==r.playVideo?(r.playVideo(),clearInterval(n)):void 0===n&&(n=setInterval(function(){d(e,t)},100),a.setVideoReadyInterval(e,t,n))}if(1==n[l].autoplay&&l==t)for(var u in i)if(i.hasOwnProperty(u))if(void 0===(s=i[u]).a?(o=s.getAttribute("data-tile-id"),c="html5"):(o=s.a.parentNode.getAttribute("data-tile-id"),c="youtube"),"youtube"==c&&o==t){var g=a.getIdentityString(e);d(e,Aiva.Constants.VideoPlayerIdPrefix+g+"-"+l)}else"html5"==c&&o==t&&((1==n[l].isMuted||r.isForAppleDevice())&&(s.muted=!0),s.play())}},this.stopAllVideos=function(e){var t=a.getVideoPlayers(e),r=null,n=null;for(var i in t)t.hasOwnProperty(i)&&(n=void 0===t[i].a?t[i].getAttribute("id"):t[i].a.getAttribute("id"),"function"==typeof t[i].stopVideo?t[i].stopVideo():"function"==typeof t[i].pause&&((r=document.getElementById(n)).pause(),r.currentTime=0))}},void 0===Aiva)Aiva={};if(Aiva.Coupon=function(){var e=new Aiva.Parameters,t=new Aiva.BrowserData;this.getInfo=function(e){var t=e.children[0].children[0].children;0===t.length&&(t=e.children[0].children);for(var a=0;a<t.length;a++)if(t[a].classList.contains("coupon"))return{hide:t[a].dataset.hideCoupon,autoCopy:void 0!==t[a].dataset.autoCopy&&t[a].dataset.autoCopy,autoCart:void 0!==t[a].dataset.autoCart&&t[a].dataset.autoCart,defaultText:t[a].dataset.defaultText,couponType:t[a].dataset.couponType,staticCoupon:t[a].dataset.staticCoupon};return null},this.claimed=function(){return e.setParameter("claimedCoupon",!0)},this.alreadyClaimed=function(){return e.getParameter("claimedCoupon")},this.reveal=function(a,r,n,i,s){var o=this;if("static"===n.couponType){var c=r.querySelector(".coupon"),l="";if(null!==c){l=n.staticCoupon,c.innerHTML=l;try{var d=e.getIdentityString(a);e.getAnalytics(d).setParameter("couponCodeShown",l)}catch(e){console.log(e)}if(t.isInternetExplorer()||o.clickCopy(l),"true"===c.dataset.autoCopy&&(c.style.overflow="visible",c.classList.add("aiva-tooltip-toggle"),c.dataset.label="Click To Copy",c.addEventListener("click",function(e){e.target.dataset.label="Copied!",o.clickCopy(l)}),c.addEventListener("mouseout",function(e){setTimeout(function(){e.target.dataset.label="Click To Copy"},500)})),"true"===c.dataset.autoCart){var u=e.getParameter("hostName");fetch(u+"/discount/"+l).then(function(e){}).catch(function(e){console.error(e)})}"function"==typeof i&&i(s)}}else if(""===o.alreadyClaimed()){c=r.querySelector(".coupon"),l="";if(null!==c)if(Aiva.ExportData.isPreview)o.claimed(),l="preview-coupon","true"===c.dataset.autoCopy&&(c.style.overflow="visible",c.classList.add("aiva-tooltip-toggle"),c.dataset.label="Click To Copy",c.addEventListener("click",function(e){e.target.dataset.label="Copied!",o.clickCopy(l)}),c.addEventListener("mouseout",function(e){setTimeout(function(){e.target.dataset.label="Click To Copy"},500)})),c.innerHTML=l,"function"==typeof i&&i(s);else{var g=Aiva.Parameters.Socket;g.on("coupon",function(t){o.claimed(),(null===(l=t.code)||l.length<1)&&(l=""),c.innerHTML=l;try{var r=e.getIdentityString(a);e.getAnalytics(r).setParameter("couponCodeShown",l)}catch(e){console.log(e)}if("true"===c.dataset.autoCopy&&(c.style.overflow="visible",c.classList.add("aiva-tooltip-toggle"),c.dataset.label="Click To Copy",c.addEventListener("click",function(e){e.target.dataset.label="Copied!",o.clickCopy(l)}),c.addEventListener("mouseout",function(e){setTimeout(function(){e.target.dataset.label="Click To Copy"},500)})),"true"===c.dataset.autoCart){var n=e.getParameter("hostName");fetch(n+"/discount/"+l).then(function(e){}).catch(function(e){console.error(e)})}"function"==typeof i&&i(s)}),g.emit("retrieveCoupon",{project_id:parseInt(e.getProject(a).id),page_id:e.getPage(a).id,couponHidden:n.hide})}else console.error("No coupon")}else console.error("Coupon already claimed")},this.clickCopy=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style={position:"absolute",left:"-9999px"},document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(e){console.log("could not copy coupon in this browser")}document.body.removeChild(t)}},void 0===Aiva)Aiva={};if(Aiva.Viable=function(){var e=new Aiva.Writer,t=new Aiva.Converter,a=new Aiva.Parameters,r=new Aiva.BrowserData,n=new Aiva.CookieManager,i=new Aiva.CustomJavascript,s=(t=new Aiva.Converter,new Aiva.Shopify);this.all=async function(t){var n=a.getVariant(t);if(e.printInfo(n),Aiva.ExportData.isPreview)return!0;if(r.isMobile()&&n.overlayJson.overlay.hide.mobile||!r.isMobile()&&n.overlayJson.overlay.hide.desktop)return!1;try{var i=await this.targeting(t)}catch(e){console.log(e);i=!1}var s=this.page(n),o=this.scheduling(n);return!!(i&&s&&o)},this.targeting=async function(r,o){var c=a.getVariant(r),l=n.getValue(r);if("all"===c.overlayJson.target.users){if(Aiva.Constants.DebugMode&&e.printInfo("viable targeting: "+!0),!l){var d=a.getCookieData(r);d.createFlag=!0,a.setCookieData(r,d)}return!(!h()||!v())}void 0===o&&(o=!0),Aiva.Constants.DebugMode&&(e.printInfo(l),e.printInfo("checkCookie() "+m()),e.printInfo("checkMaximumDisplay() "+h()),e.printInfo("checkCustomTargeting() "+y()),e.printInfo("checkLocation() "+w()),e.printInfo("checkTraffic() "+b()),e.printInfo("checkEngagement() "+v()),e.printInfo("checkSameVariant() "+p()),e.printInfo("checkCookieTargeting() "+f()),e.printInfo("checkCart() "+C()),e.printInfo("checkProductPageValue() "+A()));try{var u=await C()}catch(e){u=!1}try{var g=await A()}catch(e){g=!1}return u&&g&&m()&&function(){if(void 0===c.overlayJson.target.tags||null===c.overlayJson.target.tags)return!0;if("all"===c.overlayJson.target.tags)return!0;if("specific"===c.overlayJson.target.tags){if(c.overlayJson.target.specificTags.length>0)for(var e=Aiva.Instances.getInstance("projects"),t=e.getAllProjectNames(),a=0;a<t.length;a++){var r=t[a].replace(/ /g,"_");if(projectCookie=n.getValueByCookieName(r+"_aivaController_shown"),void 0!==projectCookie.tags&&null!==projectCookie.tags){var i=function(e,t){return t.some(function(t){return e.indexOf(t)>=0})},s=i(c.overlayJson.target.specificTags,projectCookie.tags);return s}}return!1}if("never_specific"===c.overlayJson.target.tags){if(c.overlayJson.target.neverSpecificTags.length>0)for(var e=Aiva.Instances.getInstance("projects"),t=e.getAllProjectNames(),a=0;a<t.length;a++)if(projectCookie=n.getValueByCookieName(t[a]+"_aivaController_shown"),void 0!==projectCookie.tags&&null!==projectCookie.tags){var i=function(e,t){return t.some(function(t){return e.indexOf(t)>=0})},s=i(c.overlayJson.target.neverSpecificTags,projectCookie.tags);if(s)return!1}return!0}return!1}()&&h()&&y()&&w()&&b()&&v()&&p()&&f();function m(){if("new"===c.overlayJson.target.types&&void 0!==c.overlayJson.target.newVisitor&&"site"==c.overlayJson.target.newVisitor.context&&n.anyAivaCookies())return!1;if(l){if(o)n.update(r,!0);else!0===(e=a.getCookieData(r)).createFlag?(e.createFlag=!1,e.displaysIncremented=!0):e.displaysIncremented=!1,a.setCookieData(r,e);return"new"!==c.overlayJson.target.types&&("returning"!==c.overlayJson.target.types||function(){if("visits"===c.overlayJson.target.returning.measurement)return c.overlayJson.target.returning.after<=l.numberOfVisits;var e=new Date,t=new Date(l.created),a=Math.round(Math.abs((e.getTime()-t.getTime())/864e5));return c.overlayJson.target.returning.after<=a}())}var e;return"returning"!==c.overlayJson.target.types?((e=a.getCookieData(r)).createFlag=!0,a.setCookieData(r,e),!0):(n.cookieCreate(r,!0),!1)}function v(){return!!c.overlayJson.target.displayAfterSuccess||!l.success}function p(){return void 0===l.variantShown||l.variantShown===c.name}function f(){if(0===c.overlayJson.target.matchCookies.length)return!0;for(var e=0;e<c.overlayJson.target.matchCookies.length;e++)if(n.find(c.overlayJson.target.matchCookies[e]))return!0;return!1}function h(){if(c.overlayJson.target.maxNumber){var e;return function(){var e=void 0===l.sessionStarted?l.created:l.sessionStarted;e=new Date(e);var t=new Date,a=1;switch(c.overlayJson.target.maxDisplaySession.period){case"years":a*=Aiva.Constants.MonthsPerYear;case"months":a*=Aiva.Constants.WeeksPerMonth;case"weeks":a*=Aiva.Constants.DaysPerWeek;case"days":a*=Aiva.Constants.HoursPerDay;case"hours":a*=Aiva.Constants.MinutesPerHour*Aiva.Constants.SecondsPerMinute*Aiva.Constants.MillisecondsPerSecond}var r=a*c.overlayJson.target.maxDisplaySession.value;return e.getTime()+r-t.getTime()<=0}()&&(n.resetSession(r),l.numberOfDisplays=0),l.numberOfDisplays,e=void 0===l.numberOfDisplays?0:l.numberOfDisplays,parseInt(c.overlayJson.target.maxDisplay)>e}return!0}function y(){return!c.overlayJson.target.customTargeting||i.evaluateCustomExpression(c.overlayJson.target.customTargetingScript)}function w(){function e(e){function t(e){for(var t=a.getParameter("geoLocation"),r=0;r<e.length;r++){if(e[r]===t.fullLocation||e[r]===t.country)return!0;if(-1!==e[r].indexOf(t.city))return!0}return!1}return e?t(c.overlayJson.target.displayTo):!t(c.overlayJson.target.neverDisplayTo)}switch(c.overlayJson.target.locations){case"all":return!0;case"display_to":return e(!0);case"never_display_to":return e(!1);default:return!1}}function b(){function e(e){function a(e){for(var a=t.parseUrl(document.referrer.toLowerCase()),r=0;r<e.length;r++)if(-1!==a.indexOf(t.parseUrl(e[r].toLowerCase())))return!0;return!1}return e?a(c.overlayJson.target.specificLocations):!a(c.overlayJson.target.ignoreLocations)}switch(c.overlayJson.target.trafficLocations){case"all":return!0;case"specific":return e(!0);case"ignore":return e(!1);default:return!1}}async function A(){if(1!=c.overlayJson.target.productValueEnabled)return!0;try{var e=window.location.pathname.split("/").pop();return await s.checkProductValueTargetting(r,e)}catch(e){return console.log(e),!1}}async function C(){if(1!=c.overlayJson.target.cartEnabled)return!0;if("local"==Aiva.Constants.SocketMode)return!0;try{var e=await s.initCartJS();return void 0!==e?s.checkCartTargetting(r,e):(console.log("warning: could not init cart connection"),!1)}catch(e){return console.log(e),!1}}},this.page=function(t){var a=t.overlayJson.position.pages.selection,r=this.createPageArray(t.overlayJson.position.pages),n=this.checkPageArray(r),i=!1;return"any"!==a||n?"specific"===a&&n&&(i=!0):i=!0,Aiva.Constants.DebugMode&&e.printInfo("viable page: "+i),i},this.scheduling=function(t){var a=this.parseScheduling(t.overlayJson.schedule),r=!0;return"allday"!==a.time&&(r=r&&this.checkTimeRange(a)),"allyear"!==a.range&&(r=r&&this.checkDateRange(a)),Aiva.Constants.DebugMode&&e.printInfo("viable scheduling: "+r),r},this.createPageArray=function(e){var r=[];r="any"===e.selection?e.blacklist:e.whitelist;for(var n=0;n<r.length;n++)"/"===r[n].substr(0,1)&&(r[n]=a.getParameter("hostname")+r[n]),r[n]=t.parseUrl(r[n]);return r},this.checkPageArray=function(e){for(var r=t.parseUrl(a.getParameter("fullUrl")),n=0;n<e.length;n++)if("*"===e[n].substr(e[n].length-1,e[n].length)){if(-1!=r.indexOf(e[n].substr(0,e[n].length-1)))return!0}else if("'"===e[n].substr(e[n].length-1,e[n].length)&&"'"===e[n].substr(0,1)){if(-1!=r.indexOf(e[n].substr(1,e[n].length-2)))return!0}else if(e[n]===r)return!0;return!1},this.parseScheduling=function(e){return e.parsed||(e.start&&(e.start=e.start.split("-"),e.start=new Date(e.start[0],e.start[1]-1,e.start[2])),e.finish&&(e.finish=e.finish.split("-"),e.finish=new Date(e.finish[0],e.finish[1]-1,e.finish[2],23,59,59)),e.parsed=!0),e},this.checkDateRange=function(e){var t=a.getParameter("startDate").getTime();return!(t<e.start.getTime()||t>e.finish.getTime())},this.checkTimeRange=function(e){for(var t=a.getParameter("startDate").getDay(),r=a.getParameter("startDate").getHours(),n=0,i=0,s=e.hours.length;i<s;i++)if(e.hours[i].from>=e.hours[i].to){var o=e.hours[i].to;e.hours[i].to=24,e.hours.push({from:0,period:e.hours[i].period,to:o})}for(i=0,s=e.hours.length;i<s;i++)if(r>=e.hours[i].from&&r<e.hours[i].to)if(""===e.hours[i].period)n++;else switch(t){case 0:"Sun"===e.hours[i].period&&n++;break;case 1:"Mon"===e.hours[i].period&&n++;break;case 2:"Tue"===e.hours[i].period&&n++;break;case 3:"Wed"===e.hours[i].period&&n++;break;case 4:"Thu"===e.hours[i].period&&n++;break;case 5:"Fri"===e.hours[i].period&&n++;break;case 6:"Sat"===e.hours[i].period&&n++}return!(n<1)}},void 0===Aiva)Aiva={};if(Aiva.Converter=function(){this.parseArrayToFloat=function(e){for(var t=0;t<e.length;t++)e[t]=parseFloat(e[t]);return e},this.parseUrl=function(e){var t=new RegExp("index.(html|htm|php|asp)");return e=(e=(e=(e=(e=e.replace(t,"")).replace("http://","")).replace("https://","")).replace("www.","")).trim(),e=this.removeAjaxNavigation(e),e=this.removeLastChar(e)},this.removeLastChar=function(e){var t=e.substr(e.length-1,e.length);return"/"===t||"#"===t?(e=e.substr(0,e.length-1),this.removeLastChar(e)):e},this.removeAjaxNavigation=function(e){var t=e.split("/"),a=t[t.length-1].indexOf("#");return-1!==a&&(t[t.length-1]=t[t.length-1].substr(0,a),e=t.join("/")),e}},void 0===Aiva)Aiva={};if(Aiva.Tiles=function(){this.getFirstTileId=function(e){return Aiva.Instances.getInstance("parameters").getVariant(e).tiles[0].id},this.getCurrentTileId=function(e){for(var t=Aiva.Instances.getInstance("parameters").getVariant(e),a=0;a<t.tiles.length;a++)if(this.isTileActive(e,t.tiles[a].id))return t.tiles[a].id;return t.tiles[0].id},this.getTileIndexById=function(e,t){for(var a=Aiva.Instances.getInstance("parameters").getVariant(e),r=0;r<a.tiles.length;r++)if(a.tiles[r].id==t)return r;return 0},this.getAvailableVariants=function(e){return Aiva.Instances.getInstance("browser_data").isMobile()||"sm"==Aiva.ExportData.previewType?e.variants.mobile:e.variants.desktop},this.getCampaignsHtml=function(e){return Aiva.Instances.getInstance("browser_data").isMobile()||"sm"==Aiva.ExportData.previewType?e.htmlMobile:e.htmlDesktop},this.numberOfTiles=function(e){var t=Aiva.Instances.getInstance("parameters").getVariant(e),a=void 0===t.overlayJson.position?{}:t.overlayJson.position;return void 0===a.tiles?1:a.tiles.length},this.getTileSettings=function(e,t,a){var r=Aiva.Instances.getInstance("parameters").getVariant(t);return void 0===(e=void 0===r.overlayJson[e]?{}:r.overlayJson[e]).tiles?{}:void 0===e.tiles[a]?{}:e.tiles[a]},this.isTileActive=function(e,t){var a,r=Aiva.Instances.getInstance("parameters").getIdentityString(e),n="",i=null;return n+=Aiva.Constants.OverlayClassPrefix+r+"_T"+t,null!=(a=null==(i=document.getElementById(n))?null:i.getAttribute("style"))&&new RegExp("display\\s?:\\s?block","g").test(a)},this.setupTiles=function(e){var t,a=Aiva.Instances.getInstance("parameters"),r=Aiva.Instances.getInstance("video"),n=(a.getIdentityString(e),a.getPage(e));t=this.getAvailableVariants(n)[e.variantIndex],this.setupTileBackground(e);for(var i=0;i<t.tiles.length;i++)this.setupTileOverlay(e,t,t.tiles[i]);r.addTileAttributes(e)},this.setupTileBackground=function(e){var t=Aiva.Instances.getInstance("parameters"),a=Aiva.Instances.getInstance("writer"),r=t.getIdentityString(e),n=null;(n=document.createElement("div")).id=Aiva.Constants.BackgroundClassPrefix+r,document.body.appendChild(n),this.storeTileBackgroundReference(r,n),Aiva.Constants.DebugMode&&a.printInfo("Adding Background (Reference):"+r)},this.storeTileBackgroundReference=function(e,t){Aiva.Instances.getInstance("parameters").setBackgroundReference(e,t)},this.setupTileOverlay=function(e,t,a){var r,n,i,s=Aiva.Instances.getInstance("parameters"),o=Aiva.Instances.getInstance("writer"),c=Aiva.Instances.getInstance("browser_data"),l=Aiva.Instances.getInstance("video"),d=Aiva.Instances.getInstance("shopify"),u=s.getIdentityString(e),g=s.getPage(e),m=null,v=null,p=null;(m=document.createElement("div")).innerHTML=this.getCampaignsHtml(g),v=document.createElement("div"),r="."+t.className+"."+a.className,n="."+t.className,i=u+"_T"+a.id,null==(p=m.querySelector(r))&&(p=m.querySelector(n),v.innerHTML=p.outerHTML,c.isMobile()||"sm"==Aiva.ExportData.previewType?p.className+=" cta-sm-t0":p.className+=" cta-lg-t0"),v.innerHTML=p.outerHTML,v.setAttribute("id",Aiva.Constants.OverlayClassPrefix+i),v.setAttribute("style","display: none; position: fixed; z-index: 2147483646;"),l.createVideos(e,v),d.findAndUpdateShopifyDynamicOverlayElements(e,v),document.body.appendChild(v),this.storeTileOverlayReference(i,v),Aiva.Constants.DebugMode&&(o.printInfo("Adding Tile (Reference):"+i),o.printInfo("Adding Tile (Class): "+r))},this.storeTileOverlayReference=function(e,t){Aiva.Instances.getInstance("parameters").setOverlayReference(e,t)},this.switchToTile=function(e,t){var a=Aiva.Instances.getInstance("actions"),r=(Aiva.Instances.getInstance("parameters").getVariant(e),this.getCurrentTileId(e)),n=this.getTileSettings("transition",e,t),i=void 0===n.animate||n.animate;a.hide(e,r),setTimeout(function(){a.show(e,i,t,!0)},0),Aiva.Instances.getInstance("Events").addSocialSignupEvent(e,t)}},void 0===Aiva)Aiva={};if(Aiva.Events=function(){var e=this,t=Aiva.Constants,a=new Aiva.Parameters,r=new Aiva.Animations,n=new Aiva.Scoring,s=new Aiva.Actions,o=(new Aiva.BrowserData,new Aiva.Success),c=(new Aiva.CustomJavascript,new Aiva.Writer),l=new Aiva.Viable,d=(new Aiva.Converter,new Aiva.Tiles),u=new Aiva.Coupon,g=Aiva.Instances.getInstance("shopify"),m=null,v=!1;switch(Aiva.Constants.SocketMode){case"local":m="http://localhost/aiva-create/";break;case"staging":m="https://www.builder-studio.com/staging-1/";break;case"testing":m="http://158.85.101.228/aiva-create/";break;case"new":m="http://104.154.139.215/aiva-create/";break;case"production":m="https://aivalabs.com/aiva-create/";break;default:c.printError("Socket mode is not defined in constants!")}this.load=function(e,t){this.loadSocialScripts(e),this.createClickActions(e),this.createMouseCloseEvents(e,t),this.createMouseScoringEvents(e,t),this.createWindowResizeEvent(e),this.addSocialSignupEvent(e)},this.createTimeTrigger=function(e,t){var r,n=a.getVariant(e),i=d.getCurrentTileId(e),o=d.getTileSettings("transition",e,i),c=void 0===o.animate||o.animate;if(-1!==Aiva.Parameters.Data.fullUrl.indexOf("aivalabs.com")&&"-1"===t.overlayJson.timing.value)return null;if(1==n.overlayJson.target.cartEnabled)if(g.isCartInitialized()){r=setInterval(function(){g.getCurrentCart().then(function(t){g.checkCartTargetting(e,t)&&l()})},2e3)}else g.initCartJS().then(function(t){r=setInterval(function(){g.getCurrentCart().then(function(t){g.checkCartTargetting(e,t)&&l()})},2e3)});else l();function l(){void 0!==r&&clearInterval(r),0===t.overlayJson.timing.value?s.show(e,!1):setTimeout(function(){e.locationLoaded===a.getParameter("fullUrl")&&s.show(e,c)},1e3*t.overlayJson.timing.value)}},this.createExitIntentTrigger=function(e,t){var r,n=a.getVariant(e),i=d.getCurrentTileId(e),o=d.getTileSettings("transition",e,i),c=void 0===o.animate||o.animate,l=document;if(1==n.overlayJson.target.cartEnabled)if(g.isCartInitialized()){r=setInterval(function(){g.getCurrentCart().then(function(t){g.checkCartTargetting(e,t)&&u()})},2e3)}else g.initCartJS().then(function(t){r=setInterval(function(){g.getCurrentCart().then(function(t){g.checkCartTargetting(e,t)&&u()})},2e3)});else u();function u(){if(void 0!==r&&clearInterval(r),"mobile"==e.variantType){var n,i,o,d,u=null;l.addEventListener("scroll",function(t){e.locationLoaded!==a.getParameter("fullUrl")&&l.removeEventListener("scroll",arguments.callee),n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,o=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.scrollHeight,document.documentElement.clientHeight,document.documentElement.offsetHeight),d=o-document.documentElement.clientHeight,u=Math.max(n,u),Math.abs(n-u)/d>.02&&(e.scrollingConditionMet=!0),e.scrollingConditionMet&&i>n&&(s.show(e,c),l.removeEventListener("scroll",arguments.callee)),i=n})}else l.addEventListener("mousemove",function(r){e.locationLoaded!==a.getParameter("fullUrl")&&l.removeEventListener("mousemove",arguments.callee);var n=window.pageYOffset||document.documentElement.scrollTop;t.overlayJson.timing.value<2&&(t.overlayJson.timing.value=2),r.pageY-n<t.overlayJson.timing.value&&(s.show(e,c),l.removeEventListener("mousemove",arguments.callee))})}},this.createAdblockTrigger=function(e,r){a.getVariant(e);var n=d.getCurrentTileId(e),i=d.getTileSettings("transition",e,n),o=void 0===i.animate||i.animate,c=document.createElement("script");c.type="text/javascript",c.src=a.getParameter("protocol")+t.AdvertScript,document.head.appendChild(c),setTimeout(function(){null===document.getElementById("aiva_adblockTester")&&e.locationLoaded===a.getParameter("fullUrl")&&s.show(e,o)},1e3*r.overlayJson.timing.value)},this.createScrollTrigger=function(e,t){var r,n=a.getVariant(e),i=d.getCurrentTileId(e),o=d.getTileSettings("transition",e,i),c=void 0===o.animate||o.animate;if(1==n.overlayJson.target.cartEnabled)if(g.isCartInitialized()){r=setInterval(function(){g.getCurrentCart().then(function(t){g.checkCartTargetting(e,t)&&l()})},2e3)}else g.initCartJS().then(function(t){r=setInterval(function(){g.getCurrentCart().then(function(t){g.checkCartTargetting(e,t)&&l()})},2e3)});else l();function l(){if(void 0!==r&&clearInterval(r),0!==t.overlayJson.timing.value.value||t.overlayJson.timing.value.scrollUp){var n,i,o,l,d=null;(n=document).addEventListener("scroll",function(r){e.locationLoaded!==a.getParameter("fullUrl")&&n.removeEventListener("scroll",arguments.callee),i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,l=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.scrollHeight,document.documentElement.clientHeight,document.documentElement.offsetHeight),d=l-document.documentElement.clientHeight,i/d>t.overlayJson.timing.value.value/100&&(e.scrollingConditionMet=!0),e.scrollingConditionMet&&(t.overlayJson.timing.value.scrollUp?o>i&&(s.show(e,c),n.removeEventListener("scroll",arguments.callee)):(s.show(e,c),n.removeEventListener("scroll",arguments.callee))),o=i})}else s.show(e,c)}},this.createClickTrigger=function(e,t){var r,n=null,s=t.overlayJson.timing.value.pages;a.getVariant(e);if(null!==(r=s[0])){for(n=[],i=0;i<r.elements.length;i++)n.push(r.elements[i].path);n=n.join(", ")}this.attachElementEvents(e,n,{trigger:"click",type:null},Aiva.ExportData.isPreview)},this.createMouseoverTrigger=function(e,t){var r,n=null,i=t.overlayJson.timing.value.type,s=t.overlayJson.timing.value.pages,o=(a.getVariant(e),{trigger:"hover",type:i});if(null!==(r=s[0])){n=[];for(var c=0;c<r.elements.length;c++)n.push(r.elements[c].path);n=n.join(", ")}this.attachElementEvents(e,n,o)},this.createCartUpdateTrigger=function(e,t){var r,n=a.getVariant(e),i=d.getCurrentTileId(e),o=d.getTileSettings("transition",e,i),c=void 0===o.animate||o.animate;g.isCartInitialized()?g.getCurrentCart().then(function(i){if(void 0!==i){r=setInterval(function(){g.getCurrentCart().then(function(o){if(1==n.overlayJson.timing.value.removeFromCart){if(i.item_count>o.item_count){function l(){clearInterval(r),0===t.overlayJson.timing.value.value?s.show(e,!1):setTimeout(function(){e.locationLoaded===a.getParameter("fullUrl")&&s.show(e,c)},1e3*t.overlayJson.timing.value.value)}1==n.overlayJson.target.cartEnabled?g.checkCartTargetting(e,o)&&l():l()}}else if(i.item_count<o.item_count){function l(){clearInterval(r),0===t.overlayJson.timing.value.value?s.show(e,!1):setTimeout(function(){e.locationLoaded===a.getParameter("fullUrl")&&s.show(e,c)},1e3*t.overlayJson.timing.value.value)}1==n.overlayJson.target.cartEnabled?g.checkCartTargetting(e,o)&&l():l()}})},2e3)}else console.warning("warning: could not current cart")}):g.initCartJS().then(function(i){if(void 0!==i){r=setInterval(function(){g.getCurrentCart().then(function(o){if(1==n.overlayJson.timing.value.removeFromCart){if(i.item_count>o.item_count){function l(){clearInterval(r),0===t.overlayJson.timing.value.value?s.show(e,!1):setTimeout(function(){e.locationLoaded===a.getParameter("fullUrl")&&s.show(e,c)},1e3*t.overlayJson.timing.value.value)}1==n.overlayJson.target.cartEnabled?g.checkCartTargetting(e,o)&&l():l()}}else if(i.item_count<o.item_count){function l(){clearInterval(r),0===t.overlayJson.timing.value.value?s.show(e,!1):setTimeout(function(){e.locationLoaded===a.getParameter("fullUrl")&&s.show(e,c)},1e3*t.overlayJson.timing.value.value)}1==n.overlayJson.target.cartEnabled?g.checkCartTargetting(e,o)&&l():l()}})},2e3)}else console.warning("warning: could not current cart")})},this.attachElementEvents=function(t,a,r){var n=new Aiva.LifeCycle,i=[];null!==a&&""!==a&&n.attachOnDomLoaded("clickEvents",function(){i=document.querySelectorAll(a),e.processElements(t,r,i)})},this.processElements=function(t,r,n){for(var i=null,s=a.getVariant(t),o=0;o<n.length;o++){var c;if((i=n[o]).setAttribute("aivaOverlayElement",!0),i.removeAttribute("href"),1==s.overlayJson.target.cartEnabled)if(g.isCartInitialized()){function l(){g.getCurrentCart().then(function(e){g.checkCartTargetting(t,e)&&d()})}c=setInterval(l,2e3)}else g.initCartJS().then(function(e){c=setInterval(function(){g.getCurrentCart().then(function(e){g.checkCartTargetting(t,e)&&d()})},2e3)});else d();function d(){void 0!==c&&clearInterval(c),"click"===r.trigger?i.onclick=function(){e.showElementProject(t,r,i)}:"hover"===r.trigger&&(i.onmouseover=function(){e.showElementProject(t,r,i)})}}},this.showElementProject=function(e,t,a){var r=a.getAttribute("aivaOverlayShown"),n=d.getCurrentTileId(e),i=d.getTileSettings("transition",e,n),o=void 0===i.animate||i.animate;(void 0===e||l.targeting(e,!1)||Aiva.ExportData.isPreview)&&("click"===t.trigger?s.show(e,o):"hover"===t.trigger&&("every"===t.type?s.show(e,o):"first"!==t.type||null!==r&&r||(s.show(e,o),a.setAttribute("aivaOverlayShown",!0))))},this.isHostnameEqual=function(e,t){return a(e)===a(t);function a(e){return(e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]}},this.isPathnameEqual=function(e,t){return a(e)===a(t);function a(e){var t=e;return e.indexOf("://")>-1&&(t=e.split("/")[2]),t=t.indexOf("/")>-1?t.substr(t.indexOf("/")):"/"}},this.createClickActions=function(t){a.getIdentityString(t);var r,n=a.getPage(t),i=null,s=null,o=null,c=null;r=d.getAvailableVariants(n)[t.variantIndex];for(var l=0;l<r.tiles.length;l++){i=r.tiles[l],o="click";for(var u=0,g=(c=(s=a.getOverlayReference(t,i.id)).getElementsByTagName("a")).length;u<g;u++)void 0===c[u].dataset.aivaActions||c[u].dataset.aivaActions==={}||c[u].firstChild.classList.contains("social-signup")||c[u].addEventListener(o,function(){e.onClickHandler(t,this)});s.getElementsByTagName("input").length>0&&(s.getElementsByTagName("form").item(0).action="javascript:Aiva.Events.submitInputs("+JSON.stringify(t)+");")}},this.createMouseCloseEvents=function(e,t){var r=a.getBackgroundReference(e),i=a.getVariant(e);r.addEventListener("click",function(){var t=d.getCurrentTileId(e);i.overlayJson.overlay.lock.click||i.overlayJson.overlay.baseFullScreen||(n.update(e,-100),s.hide(e,t))})},this.createMouseScoringEvents=function(e){var t=a.getIdentityString(e),r=a.getBackgroundReference(e),i=a.getOverlayReference(e);r.addEventListener("mousemove",function(r){n.update(e,-1),a.getAnalytics(t).appendToParameter("mousePosition","("+r.clientX+","+r.clientY+")")}),i.addEventListener("mousemove",function(r){n.update(e,2),a.getAnalytics(t).appendToParameter("mousePosition","("+r.clientX+","+r.clientY+")")}),i.addEventListener("click",function(){n.update(e,1e3)})},this.createWindowResizeEvent=function(e){window.addEventListener("resize",function(){if("done"===a.getBackgroundReference(e).animationStatus){var t=d.getCurrentTileId(e);s.scale(e,!1,t),r.update(e,!1)}})},this.loadSocialScripts=function(e){function t(e,t){function a(){t=(t=(t=t.substring(t.indexOf("?screen_name=")+13,t.length)).split("&"))[0],o.social(e,"twitter","follow",t)}var r,n,i,s,c;window.twttr=(r=document,n="script",c=r.getElementsByTagName(n)[0],(s=r.createElement(n)).id="twitter-wjs",s.src="https://platform.twitter.com/widgets.js",c.parentNode.insertBefore(s,c),window.twttr||(i={_e:[],ready:function(e){i._e.push(e)}})),twttr.ready(function(e){e.events.bind("follow",a)})}function r(e,t){var a=setInterval(function(){var r=document.activeElement;r&&"IFRAME"===r.tagName&&"social-elm"===r.className&&-1!==r.src.search("www.facebook.com/plugins/like.php")&&(clearInterval(a),t=(t=(t=t.substring(t.indexOf("?href=")+6,t.length)).split("&"))[0],o.social(e,"facebook","like",t))},100)}for(var n=a.getOverlayReference(e).getElementsByTagName("iframe"),i=0;i<n.length;i++){n[i].src;-1!==n[i].src.search("platform.twitter.")?t(e,n[i].src):-1!==n[i].src.search("www.facebook.com/plugins/like.php")&&r(e,n[i].src)}},this.signupSubmission=function(e,t,r){var n=a.getIdentityString(e),i=a.getAnalytics(n),c={submission_type:"social",submission_data:[],time_of_success:(new Date-i.getParameter("shown_date"))/1e3},l={},u=[],g=[],m=d.getCurrentTileId(e);u.push("email = "+t.email),g.push("first name = "+t.firstName),g.push("last name = "+t.lastName),g.push("picture = "+t.picture),g.push("profile = "+t.profile),g.push("locale = "+t.locale),l.type=r,l.placeholder_value="first name",l.submitted_value=t.firstName,c.submission_data.push(l),(l={}).type=r,l.placeholder_value="last name",l.submitted_value=t.lastName,c.submission_data.push(l),(l={}).type=r,l.placeholder_value="picture",l.submitted_value=t.picture,c.submission_data.push(l),(l={}).type=r,l.placeholder_value="profile",l.submitted_value=t.profile,c.submission_data.push(l),(l={}).type=r,l.placeholder_value="email",l.submitted_value=t.email,c.submission_data.push(l),i.setParameter("textCollected",g.join()),i.appendToParameter("email",u.join()),o.submission(e,c),s.hide(e,m)},this.addSocialSignupEvent=function(e,t){var r=void 0===t?d.getFirstTileId(e):t,n=this,i=null,s=a.getOverlayReference(e,r);for(i=0;i<s.getElementsByClassName("facebook").length;i++)s.getElementsByClassName("facebook")[i].addEventListener("click",function(){var t=m+"socialsignup/facebook";n.oauthpopup(e,{width:650,height:500,path:t,socialkind:"Facebook"},this)});for(i=0;i<s.getElementsByClassName("twitter").length;i++)s.getElementsByClassName("twitter")[i].addEventListener("click",function(){var t=m+"socialsignup/twitter";n.oauthpopup(e,{width:650,height:500,path:t,socialkind:"Twitter"},this)});for(i=0;i<s.getElementsByClassName("linkedin").length;i++)s.getElementsByClassName("linkedin")[i].addEventListener("click",function(){var t=m+"socialsignup/linkedin";n.oauthpopup(e,{width:650,height:500,path:t,socialkind:"LinkedIn"},this)})},this.oauthpopup=function(t,a,r){var n=e;a.windowName=a.windowName||"ConnectWithOAuth",a.windowOptions=a.windowOptions||"location=0,status=0,width="+a.width+",height="+a.height+",scrollbars=1";window.open(a.path,a.windowName,a.windowOptions);window.onmessage=function(e){var i=JSON.parse(e.data);i.loginSuccess&&(n.signupSubmission(t,i,a.socialkind),n.onClickHandler(t,r))}},this.onClickHandler=async function(e,t){if(void 0!==t.dataset.aivaActions){var r=d.getCurrentTileId(e),n=a.getIdentityString(e),i=a.getAnalytics(n),l=a.getOverlayReference(e,r),m=a.getVariant(e),p=JSON.parse(t.dataset.aivaActions.replace(/`/g,'"')),f=0,h=[];for(var y in p)for(var w=0;w<p[y].length;w++)h.push(p[y][w]);h.sort((e,t)=>e.priority>t.priority?1:-1);for(var b=!1,A=!1,C=0;C<h.length;C++)"revealCoupon"===h[C].type&&(A=!0);var P=[];for(w=0;w<h.length;w++){var k=await I(w,A,P);null!==k&&P.push(k)}}async function I(n,p,y){var w=async function(r){switch(r.type){case"submitInputs":return function(){for(var t=l.getElementsByTagName("input"),a=l.getElementsByClassName("toggle"),r=!1,n={submission_type:"form",submission_data:[]},s={},c="",d="",u="",g="",v=[],f=[],y=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;a.length>0;){var w=a.item(0).getAttribute("data-aiva-actions"),A=JSON.parse(w.replace(/`/g,'"')),C="";s.type="toggle";for(var P=0;P<A.submit.length;P++)"toggleCustom"===A.submit[P].type&&(f.push(A.submit[P].value),C=A.submit[P].value);s.submitted_value=C,n.submission_data.push(s),n.time_of_success=(new Date-i.getParameter("shown_date"))/1e3,s={},a[0].classList.remove("toggle")}P=0;for(var k=t.length;P<k;P++){if(t.item(P).classList.contains("checkbox-input"))"true"!==t.item(P).parentElement.getAttribute("data-required")||t.item(P).checked?"true"===t.item(P).parentElement.getAttribute("data-required")&&t.item(P).checked&&T(P,!0):(r=!0,x(P,!0)),g=t.item(P).parentNode.dataset.label,u=t.item(P).getAttribute("type"),c=g+" = "+(d=t.item(P).checked?"true":"false"),s.type="checkbox",f.push(c);else if(g=t.item(P).getAttribute("placeholder"),u=t.item(P).getAttribute("type"),inputDataTextType=t.item(P).getAttribute("data-text-type"),d=t.item(P).value,t.item(P).hasAttribute("required")&&""===t.item(P).value&&(r=!0,x(P,!1)),""!==d)if(c=g+" = "+d,"email"!==u&&"emailInput"!==u||!y.test(d))if("email"!==u&&"emailInput"!==u||y.test(d))if("text"===t.item(P).getAttribute("type")){var I=g.toLowerCase();-1!=I.indexOf("email")||-1!=I.indexOf("e-mail")?(s.type="email",v.push(c)):(s.type="text",f.push(c))}else"tel"===t.item(P).getAttribute("type")?(s.type="tel",f.push(c)):"password"===t.item(P).getAttribute("type")&&(s.type="password",f.push(c));else alert("Invalid email entered."),r=!0,x(P,!1);else T(P),v.push(c),s.type="email";s.placeholder_value=g,s.submitted_value=d,inputDataTextType&&(s.text_type=inputDataTextType),n.submission_data.push(s),n.time_of_success=(new Date-i.getParameter("shown_date"))/1e3,s={}}if(r)return n={},v.length=0,f.length=0,h.length=0,null;if(i.appendToParameter("textCollected",f.join()),i.appendToParameter("email",v.join()),1!==m.overlayJson.overlay.baseFullScreen&&(b=!0),p)return{successType:"submitInputs",project:e,submissionJson:n};function T(e,a){a?(t.item(e).parentElement.classList.contains("errorAnimation")&&t.item(e).parentElement.classList.remove("errorAnimation"),t.item(e).parentElement.classList.contains("errorAnimation2")):(t.item(e).classList.contains("errorAnimation")&&t.item(e).classList.remove("errorAnimation"),t.item(e).classList.contains("errorAnimation2"))}function x(e,a){if(a){var r=t.item(e).parentElement;t.item(e).parentElement.classList.add("errorAnimation")}else r=t.item(e),t.item(e).classList.add("errorAnimation");var n=r.cloneNode(!0);r.parentNode.replaceChild(n,r)}o.submission(e,n)}();case"submitCustom":return function(t){i.appendToParameter("textCollected","submit value = "+t.value),i.setParameter("submitValue",t.value),b=!0;var a={submission_type:"value",submission_data:t.value,time_of_success:(new Date-i.getParameter("shown_date"))/1e3};return p?{successType:"submitValue",project:e,submitObj:a}:(o.submission(e,a),null)}(r);case"toggleCustom":return n=t.getAttribute("data-id")+"-hover",t.firstChild.classList.contains(n)?(t.firstChild.classList.remove(n),t.classList.remove("toggle")):(t.firstChild.classList.add(n),t.classList.add("toggle")),null;case"download":return function(t){var a=document.createElement("a");return a.href=t.url,a.setAttribute("download",""),a.click(),p?{successType:"download",project:e,url:t.url,type:"Downloaded"}:(o.clickthrough(e,t.url,"Downloaded"),null)}(r);case"link":case"call":case"sendEmail":return function(t){var a=null;a=void 0===t.target?"_self":t.target;var r=null;switch(t.type){case"link":r="Redirected";break;case"call":r="Called";break;case"sendEmail":r="Emailed"}return setTimeout(function(){window.open(t.url,a)},f+=150),p?{successType:"openLink",project:e,url:t.url,type:r}:(o.clickthrough(e,t.url,r),null)}(r);case"revealCoupon":return function(t){if(!v){v=!0,b=!1;var a=u.getInfo(l);u.reveal(e,l,a,function(){for(var e=0;e<t.length;e++){var a=t[e];switch(a.successType){case"submitInputs":o.submission(a.project,a.submissionJson);break;case"openLink":o.clickthrough(a.project,a.url,a.type);break;case"submitValue":o.submission(a.project,a.submitObj);break;case"download":o.clickthrough(a.project,a.url,a.type)}}},null)}return null}(y);case"toTile":!function(t){d.getCurrentTileId(e);var r=a.getOverlayReference(e),n=r.getElementsByTagName("input"),i=r.getElementsByTagName("button"),s=!1,o=!1,c=null;e:for(var l=0;l<n.length;l++){if(n.item(l).classList.contains("checkbox-input")&&"true"===n.item(l).parentElement.getAttribute("data-required")&&!n.item(l).checked){s=!0;break e}if(n.item(l).hasAttribute("required")&&""===n.item(l).value){s=!0;break e}}e:for(l=0;l<i.length;l++)if(null!=(c=i[l].getAttribute("data-aiva-actions"))){c=JSON.parse(c.replace(new RegExp("`","g"),'"'));for(var u=0;void 0!==c.aiva&&u<c.aiva.length;u++)if(void 0!==c.submit&&"toTile"==c.aiva[u].type&&c.aiva[u].id==t.id){o=!0;break e}}s&&o||d.switchToTile(e,t.id)}(r);break;case"close":return b=!0,null;case"tagVisitor":!function(t){var a=t.value.replace(/\s/g,"").split(","),r=Aiva.Instances.getInstance("CookieManager"),n=r.getName(e);!0===r.get(n)&&!1!==r.getValueByCookieName(n)?(cookieValue=r.getValueByCookieName(n),void 0!==cookieValue.tags&&null!==cookieValue.tags||(cookieValue.tags=[]),oldTags=cookieValue.tags,cookieValue.tags=oldTags.concat(a),cookieValue.tags=cookieValue.tags.filter(function(e,t,a){return a.indexOf(e)==t}),r.setValueByCookieName(n,cookieValue,Aiva.Constants.defaultCookieExpiry),a=cookieValue.tags):(r.cookieCreate(e,!1),cookieValue=r.getValueByCookieName(n),void 0!==cookieValue.tags&&null!==cookieValue.tags||(cookieValue.tags=[]),oldTags=cookieValue.tags,cookieValue.tags=oldTags.concat(a),cookieValue.tags=cookieValue.tags.filter(function(e,t,a){return a.indexOf(e)==t}),r.setValueByCookieName(n,cookieValue,Aiva.Constants.defaultCookieExpiry),a=cookieValue.tags),o.tag(e,a)}(r);break;case"addDiscountToCart":!function(e){var t=a.getParameter("hostName")+"/discount/"+e.discountCode;fetch(t).then(function(e){console.log("Discount Applied to Cart")}).catch(function(e){console.error(e)})}(r);break;case"addProductsToCart":await async function(a){let r=function(e){e?t.childNodes&&a.successText&&(t.childNodes[0].innerText=e):t.childNodes&&a.successText&&(t.childNodes[0].innerText=decodeURI(a.successText))};if(!(t.childNodes&&t.childNodes[0].dataset&&t.childNodes[0].dataset.aivaAddProductsDisabled))return function(){t.childNodes&&t.childNodes[0].setAttribute("data-aiva-add-products-disabled","true");let e=!1;for(var a in h)"link"!=h[a].type&&"close"!=h[a].type&&"toTile"!=h[a].type||(e=!0);e||t.childNodes&&t.childNodes[0].setAttribute("disabled","")}(),r(),new Promise(function(t,n){g.initCartJS().then(function(r){void 0!==r&&(void 0!==a.productSet?g.addItemToCartFromProductSet(a.productSet,1,e,a.savedItems).then(function(e){t(e)}):g.addItemsToCartv2(a.products,1,null,null).then(function(e){t(e)}))}).catch(function(e){r("Shopify Cart Not Available"),n(e),console.log("Aiva - could not connect to cart")})})}(r);break;case"removeProductsFromCart":await async function(a){return!!(t.childNodes&&t.childNodes[0].dataset&&t.childNodes[0].dataset.aivaRemoveProductsDisabled)||(t.childNodes&&t.childNodes[0].setAttribute("data-aiva-remove-products-disabled","true"),new Promise(function(t,r){g.initCartJS().then(function(r){void 0!==r&&(void 0!==a.productSet?g.removeItemsFromCartFromProductSet(a.productSet,null,e,null).then(function(e){t(e)}):g.removeItemsFromCartv2(a.products,null,null,null).then(function(e){t(e)}))}).catch(function(e){updateElementText("Shopify Cart Not Available"),r(e),console.log("Aiva - could not connect to cart")})}))}(r);break;default:return c.printError("Error: Action type for "+r.type+" not found!"),null}var n}(h[n]);return n===h.length-1&&b&&s.hide(e,r),w}},Aiva.Events.submitInputs=function(e){for(var t=a.getAnalytics(a.getIdentityString(e)),r=d.getCurrentTileId(e),n=a.getOverlayReference(e,r),i=n.getElementsByTagName("input"),c=n.getElementsByTagName("button"),l={},u=!1,g={submission_type:"form",submission_data:[]},m={},v="",p="",f="",h="",y=[],w=[],b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,A=0,C=i.length;A<C;A++)h=i.item(A).getAttribute("placeholder"),f=i.item(A).getAttribute("type"),""!==(p=i.item(A).value)&&(v=h+" = "+p,"email"!==f&&"emailInput"!==f||!b.test(p)?"text"===i.item(A).getAttribute("type")?(m.type="text",w.push(v)):"tel"===i.item(A).getAttribute("type")?(m.type="tel",w.push(v)):"password"===i.item(A).getAttribute("type")&&(m.type="password",w.push(v)):(y.push(v),m.type="email")),m.placeholder_value=h,m.submitted_value=p,g.submission_data.push(m),g.time_of_success=(new Date-t.getParameter("shown_date"))/1e3,m={};if(y.length+w.length!==i.length)return g={},y.length=0,w.length=0,null;t.appendToParameter("textCollected",w.join()),t.appendToParameter("email",y.join()),o.submission(e,g);for(A=0,C=i.length;A<C;A++)i.item(A).value="";console.log("button list",n,c);e:for(A=0;A<c.length;A++)if(null!=(l=c[A].getAttribute("data-aiva-actions"))){l=JSON.parse(l.replace(new RegExp("`","g"),'"')),console.log("button actions",l);for(var P=0;void 0!==l.aiva&&P<l.aiva.length;P++)if(void 0!==l.submit&&"toTile"==l.aiva[P].type){d.switchToTile(e,l.aiva[P].id),u=!0;break e}}u||s.hide(e,r)}},void 0===Aiva)Aiva={};if(Aiva.Animations=function(){this.animationCssPrefixs=["","-webkit-","-moz-","-ms-","-o-"],this.generatedBrandingClass=(Math.random()+1).toString(36).substring(7);var e=this,t=new Aiva.Parameters,a=Aiva.Writer(),r=new Aiva.PositionHandler,n=Aiva.Constants,i=new Aiva.GoogleAnalytics,s=new Aiva.Tiles;this.run=function(e,a,r){var n=t.getVariant(e),s=t.getOverlayReference(e,a),o=t.getBackgroundReference(e);o.animationStatus="running";var c=null;c=r?this.createCss(e,a,"overlay"):this.createCssNoAnimation(e,a,"overlay"),s.classList.add(c),1===n.overlayJson.overlay.dimPage&&1!==n.overlayJson.overlay.baseFullScreen?this.dimPageAnimation(e,a):1===n.overlayJson.overlay.baseFullScreen&&this.baseFullScreenAnimation(e,a,r),o.style.display="block",s.style.display="block",i.sendEvent("Aiva Campaign","Viewed",t.getProject(e).name,!0)},this.update=function(e,a,r){var n=t.getIdentityString(e),i=document.getElementById(Aiva.Constants.AnimationCssIdPrefix+n);if(null!=i){document.head.removeChild(i);var s=t.getVariant(e),o=t.getOverlayReference(e),c=t.getBackgroundReference(e);r?this.createCss(e,a,"overlay"):this.createCssNoAnimation(e,a,"overlay"),1===s.overlayJson.overlay.dimPage&&1!==s.overlayJson.overlay.baseFullScreen?this.dimPageAnimation(e,a):1===s.overlayJson.baseFullScreen&&this.baseFullScreenAnimation(e,a),c.style.display="block",o.style.display="block"}},this.createCss=function(a,r,i,o){t.getVariant(a),s.getCurrentTileId(a);var c=s.getTileSettings("transition",a,r),l=void 0===c.effect?"normal-fade-in":c.effect,d=t.getIdentityString(a)+"_T"+r+"_"+i,u=(t.getVariant(a),n.AnimationData[l]);void 0===u&&(u=n.AnimationData["normal-fade-in"]),setTimeout(function(){t.getBackgroundReference(a).animationStatus="done",e.addAivaBranding(a,!0)},1e3*u.animation.duration);var g=this.createAnimationCssText(u,d,r,i,o,a),m=document.createTextNode("");m.textContent=g;var v=document.createElement("style");return v.type="text/css",v.id=Aiva.Constants.AnimationCssIdPrefix+t.getIdentityString(a)+"_T"+r,v.appendChild(m),document.head.appendChild(v),d+"_animationClass"},this.createCssNoAnimation=function(a,n,i){var s=t.getIdentityString(a)+"_T"+n+"_"+i,o=t.getVariant(a),c=t.getOverlayReference(a);t.getBackgroundReference(a).animationStatus="done",setTimeout(function(){e.addAivaBranding(a,!1)},500);var l="."+s+"_animationClass { ";"overlay"===i?o.overlayJson.overlay.fillScreen&&window.innerHeight<c.firstChild.dataset.scale*o.height||(l+="top: "+(window.innerHeight-r.getPosition(a,n).bottom-o.height)+"px;",l+="left: "+r.getPosition(a,n).left+"px;"):l+="opacity: 1!important;",l+=" } ";var d=document.createTextNode("");d.textContent=l;var u=document.createElement("style");return u.type="text/css",u.id=Aiva.Constants.AnimationCssIdPrefix+t.getIdentityString(a)+"_T"+n,u.appendChild(d),document.head.appendChild(u),s+"_animationClass"},this.createAnimationCssText=function(e,t,r,n,i,s){for(var o="body div."+t+"_animationClass { ",c="",l=0;l<this.animationCssPrefixs.length;l++)if(o+=this.animationCssPrefixs[l]+"animation: "+t+"_T"+r+"_animation "+e.animation.duration+"s "+e.animation.timingFunction+" "+e.animation.delay+"s forwards !important;",c+="@"+this.animationCssPrefixs[l]+"keyframes "+t+"_T"+r+"_animation { ","background"===n)if("baseFullScreen"===i)c+="0% { opacity: 0; }",c+="100% { opacity: 1; }}";else{if("dim"!==i)return a.printError("Incorrect type in createAnimationCssText: type = "+i),null;c+="0% { opacity: 0; }",c+="100% { opacity: 0.5; }}"}else{if("overlay"!==n)return a.printError("Incorrect target in createAnimationCssText: target = "+n),null;c+=this.createKeyframeCssText(e.keyframes,this.animationCssPrefixs[l],s,r),c+="}"}return c+(o+=" } ")},this.createKeyframeCssText=function(e,a,n,i){for(var s=t.getVariant(n),o=window.innerHeight-r.getPosition(n,i).bottom-s.height,c=r.getPosition(n,i).left,l="",d="",u=0;u<e.length;u++){for(var g in l+=e[u].percentage+"% { ",e[u].css){switch(g){case"opacity":l+=g+": "+e[u].css[g];break;case"tf-o":l+="transform-origin: "+e[u].css[g];break;case"animation-fill-mode":l+=g+": "+e[u].css[g];break;case"tf-s":l+="transform-style: "+e[u].css[g];break;case"position":case"width":case"height":l+=g+": "+e[u].css[g];break;case"top":case"left":case"z-index":l+=g+": "+e[u].css[g];break;case"transform":for(var m in l+=a+g+": ",e[u].css[g])switch(m){case"scale":l+=m+"("+e[u].css[g][m]+") ";break;case"per":l+="perspective("+e[u].css[g][m]+"px) ";break;case"rotate3d":case"matrix3d":l+=m+"("+e[u].css[g][m]+") ";break;case"rotateX":case"rotateY":case"rotateZ":l+=m+"("+e[u].css[g][m]+"deg) ";break;case"scale3d":case"translate3d":l+=m+"("+e[u].css[g][m]+") ";break;case"translateX":if("r"===e[u].css[g][m][1]){for(var v=2;v<e[u].css[g][m].length;v++)d+=e[u].css[g][m][v];"-"===e[u].css[g][m][0]?0===c?l+=m+"("+(-s.width+Number(d))+"px) ":c===window.innerWidth-s.width?l+=m+"("+(-window.innerWidth+Number(d))+"px) ":l+=m+"("+(-(window.innerWidth+s.width)/2+Number(d))+"px) ":"+"===e[u].css[g][m][0]&&(0===c?l+=m+"("+(window.innerWidth+Number(d))+"px) ":c===window.innerWidth-s.width?l+=m+"("+(s.width+Number(d))+"px) ":l+=m+"("+((window.innerWidth+s.width)/2+Number(d))+"px) ")}else l+=m+"("+e[u].css[g][m]+"px) ";d="";break;case"translateY":if("r"===e[u].css[g][m][1]){for(v=2;v<e[u].css[g][m].length;v++)d+=e[u].css[g][m][v];"-"===e[u].css[g][m][0]?0===o?l+=m+"("+(window.innerHeight+Number(d))+"px) ":o===window.innerHeight-s.height?l+=m+"("+(s.height+Number(d))+"px) ":l+=m+"("+((window.innerHeight+s.height)/2+Number(d))+"px) ":"+"===e[u].css[g][m][0]&&(0===o?l+=m+"("+(-s.height+Number(d))+"px) ":o===window.innerHeight-s.height?l+=m+"("+(-window.innerHeight+Number(d))+"px) ":l+=m+"("+(-(window.innerHeight+s.height)/2+Number(d))+"px) ")}else l+=m+"("+e[u].css[g][m]+"px) ";d=""}}l+="; "}l+=r.get(e[u].percentage,n,i),l+=" } "}return l},this.dimPageAnimation=function(e,a){var r=t.getBackgroundReference(e),n=this.createCss(e,a,"background","dim");r.classList.add(n)},this.baseFullScreenAnimation=function(e,a,r){document.body.style.overflow="hidden";var n=t.getBackgroundReference(e);n.style.background=this.getBackgroundColor(e),n.style.opacity=1;var i=null;i=r?this.createCss(e,a,"background","baseFullScreen"):this.createCssNoAnimation(e,a,"background"),n.classList.add(i)},this.getBackgroundColor=function(e){for(var a=t.getOverlayReference(e),r=document.getElementsByTagName("style"),n=[],i=0;i<r.length;i++)void 0!==r[i].sheet&&void 0!==r[i].sheet.cssRules&&n.push(r[i].sheet.cssRules);var s="rgb(255,255,255)";for(i=0;i<n.length;i++)for(var o=0;o<n[i].length;o++)n[i][o].selectorText&&-1!==n[i][o].selectorText.search(a.firstChild.dataset.id)&&(s=n[i][o].style.background);return s},this.createBackgroundAnimation=function(e,a){t.getVariant(e),s.getCurrentTileId(e);for(var r=s.getTileSettings("transition",e,a),i=void 0===r.effect?"normal-fade-in":r.effect,o=t.getIdentityString(e)+"_bg",c=t.getVariant(e),l=n.AnimationData[i],d="."+o+"_animationClass { ",u="",g=(u="."+o+"_animation { ",0);g<this.animationCssPrefixs.length;g++)d+=this.animationCssPrefixs[g]+"animation: "+o+"_T"+a+"_animation "+l.animation.duration+"s "+l.animation.timingFunction+" "+l.animation.delay+"s; ",u+="@"+this.animationCssPrefixs[g]+"keyframes "+o+"_T"+a+"_animation { ",u+=this.createKeyframeCssText(l.keyframes,this.animationCssPrefixs[g],c),u+=" } ";var m=(d+=" } ")+u,v=document.createTextNode("");v.textContent=m;var p=document.createElement("style");return p.type="text/css",p.id="aiva_animation",p.appendChild(v),document.head.appendChild(p),o+"_animationClass"},this.addAivaBranding=function(e,a){if("Free"===t.getPlan()){var r=s.getCurrentTileId(e),i=t.getOverlayReference(e,r),o=t.getVariant(e);if(0!==i.getElementsByClassName(this.generatedBrandingClass).length){(c=i.getElementsByClassName(this.generatedBrandingClass).item(0)).style.height=n.BrandingHeight*i.firstChild.dataset.scale+"px",c.style.width=n.BrandingWidth*i.firstChild.dataset.scale+"px",d(c,r)}else{var c=document.createElement("a"),l=document.createElement("img");c.appendChild(l),c.style.height=n.BrandingHeight*i.firstChild.dataset.scale+"px",c.style.width=n.BrandingWidth*i.firstChild.dataset.scale+"px",c.target="_blank",c.classList.add(this.generatedBrandingClass),c.rel="noopener noreferrer",o.overlayJson.overlay.dimPage,l.src=t.getParameter("protocol")+"//aivalabs.com/aiva-create/webExports/triggerController/images/branding.png",d(c,r),c.href=t.getParameter("protocol")+"//aivalabs.com?store_ref="+location.hostname,c.style.borderStyle="none",c.style.display="none",l.style.display="none",l.style.borderStyle="none",l.style.width="100%",c.style.position="absolute",i.appendChild(c),a?(l.style.opacity=0,l.style.transition="opacity 1s",l.style.WebkitTransition="opacity 1s",l.style.MozTransition="opacity 1s",l.style.OTransition="opacity 1s",l.style.MSTransition="opacity 1s",c.style.display="block",l.style.display="block",setTimeout(function(){l.style.opacity=1},200)):(c.style.display="block",l.style.display="block")}}function d(e,t){var a=o.height*(1-i.firstChild.dataset.scale)/2,r=o.width*(1-i.firstChild.dataset.scale)/2;o.overlayJson.overlay.fillScreen?window.innerHeight<i.firstChild.dataset.scale*o.height?(e.style.right="0px",e.style.top=o.height*i.firstChild.dataset.scale-parseFloat(e.style.height)+"px"):(e.style.left=o.width*i.firstChild.dataset.scale-parseFloat(e.style.width)+r+"px",e.style.top=o.height*i.firstChild.dataset.scale-parseFloat(e.style.height)+a+"px"):("bottom"===o.overlayJson.position.tiles[t].vertical?e.style.bottom=o.height*i.firstChild.dataset.scale+a+"px":e.style.bottom=-parseFloat(e.style.height)+a+"px","left"===o.overlayJson.position.tiles[t].horizontal?e.style.left=15+r+"px":e.style.left=o.width*i.firstChild.dataset.scale-n.BrandingWidth*i.firstChild.dataset.scale-15+r+"px")}}},void 0===Aiva)Aiva={};if(Aiva.Projects=function(){var e=Aiva.Constants,t=new Aiva.Parameters,a=new Aiva.BrowserData,r=new Aiva.Writer,n=new Aiva.Events,i=new Aiva.Viable,s=new Aiva.Video,o=new Aiva.Tiles,c=new Aiva.Converter;Aiva.Projects.Data=null,this.getViableProjects=async function(){var e=[],n=null,s=null;if(void 0===Aiva.ExportData)r.printError("Aiva.Projects::getViableProjects - Export data does not exist.");else{"number"!=typeof Aiva.ExportData.projects.length&&(Aiva.ExportData.projects=Object.values(Aiva.ExportData.projects));for(var o=0;o<Aiva.ExportData.projects.length;o++)if(n={},(!Aiva.ExportData.isPreview||Aiva.ExportData.projects[o].id==Aiva.ExportData.previewId)&&($matchingClient=!1,c.parseUrl(Aiva.ExportData.projects[o].domain)==t.getParameter("hostname")&&($matchingClient=!0),$previewCampaign=!1,Aiva.ExportData.isPreview&&Aiva.ExportData.projects[o].id==Aiva.ExportData.previewId&&($previewCampaign=!0),$matchingClient||$previewCampaign)){n.projectIndex=o,n.pageIndex=0,a.isMobile()||"sm"==Aiva.ExportData.previewType?n.variantType="mobile":n.variantType="desktop",s=Aiva.ExportData.projects[n.projectIndex].pages[n.pageIndex].variants[n.variantType];for(var l=0;l<s.length;l++){n.variantIndex=l;try{var d=await i.all(n);s[l].viable=!!Aiva.ExportData.isPreview||d}catch(e){console.log(e),s[l].viable=!!Aiva.ExportData.isPreview}}var u=this.determineVariantId(s);if(null!==u){n.variantIndex=u,e.push(n);var g=t.getParameter("loadedCampaigns");g[Aiva.ExportData.projects[o].id]=n,t.setParameter("loadedCampaigns",g)}}}return t.setParameter("numberOfOverlays",e.length),Aiva.Constants.DebugMode&&(r.printInfo("viableProjects:"),r.printInfo(e)),e},this.getAllProjectNames=function(){var e=[];if(void 0===Aiva.ExportData)r.printError("Aiva.Projects::getViableProjects - Export data does not exist.");else{"number"!=typeof Aiva.ExportData.projects.length&&(Aiva.ExportData.projects=Object.values(Aiva.ExportData.projects));for(var t=0;t<Aiva.ExportData.projects.length;t++)e.push(Aiva.ExportData.projects[t].name)}return e},this.addResources=function(a){var r=t.getIdentityString(a),n=t.getVariant(a),i=t.getPage(a),s=document.createTextNode("");s.textContent="#"+e.BackgroundClassPrefix+r+" {display: none; position: fixed; top: -10%; left: -10%; width: 150%; height: 150%; background-color: #000; opacity: 0; z-index: "+(e.MaxZIndex-t.getParameter("numberOfOverlays"))+";}#"+e.OverlayClassPrefix+r+" {display: none; position: fixed; background-color: transparent; width: "+n.width+"px; height: "+n.height+"px; font-size: 15px; pointer-events: none; z-index: "+(e.MaxZIndex-t.getParameter("numberOfAddedOverlays"))+";}",t.setParameter("numberOfAddedOverlays",t.getParameter("numberOfAddedOverlays")+1),0===this.findAivaCss().length&&(s.textContent=s.textContent+Aiva.ExportData.baseCss,this.addFonts(i)),s.textContent+=i.css;var o=document.createElement("style");o.type="text/css",o.id="aiva_css",o.appendChild(s),document.head.appendChild(o)},this.addOverlay=function(e){var r=t.getPage(e),n=(a.isMobile()||"sm"==Aiva.ExportData.previewType?r.variants.mobile:r.variants.desktop)[e.variantIndex];o.setupTiles(e,n)},this.loadEvents=function(e){!function(e){e.locationLoaded=t.getParameter("fullUrl");var a=t.getVariant(e);switch(a.overlayJson.timing.action){case"time":n.createTimeTrigger(e,a);break;case"exitIntent":n.createExitIntentTrigger(e,a);break;case"adblock":n.createAdblockTrigger(e,a);break;case"scroll":n.createScrollTrigger(e,a);break;case"click":n.createClickTrigger(e,a);break;case"mouseover":n.createMouseoverTrigger(e,a);break;case"cart":n.createCartUpdateTrigger(e,a)}n.load(e,a)}(e)},this.addFonts=function(e){for(var t=e.fonts.split(","),a=0;a<t.length;a++)if(""!==t[a]){var r=document.createElement("link");r.href=t[a],r.type="text/css",r.rel="stylesheet",r.id="aiva_font",document.head.appendChild(r)}},this.addScripts=function(e){var a=t.getParameter("fontawesomeResourceFound"),r=t.getParameter("youtubeApiFound");if(null===a&&null===r){var n=this.scriptsExists();a=n.fontAwesome,t.setParameter("fontawesomeResourceFound",a),r=n.youtube,t.setParameter("youtubeApiFound",r)}if(!1===a){var i=document.createElement("script");i.id="aiva_vendor_css",i.src=t.getParameter("protocol")+"//use.fontawesome.com/7c48d6f13d.js",document.head.appendChild(i),t.setParameter("fontawesomeResourceFound",!0)}if(s.getVideoJson(e).length>0)if(!1===r){var o=document.createElement("script");o.id="aiva_youtube_api",o.src=t.getParameter("protocol")+"//www.youtube.com/iframe_api",document.head.appendChild(o),t.setParameter("youtubeApiFound",!0)}else!0===r&&setTimeout(function(){t.getParameter("onYouTubeIframeAPIReadyCalled")||window.onYouTubeIframeAPIReady()},100)},this.findAivaCss=function(){for(var e=document.getElementsByTagName("style"),t=[],a=0;a<e.length;a++)"aiva_css"===e[a].id&&t.push(e[a]);return t},this.determineVariantId=function(e){for(var t,r=0,n=0,i=0,s=0,o=0,c=0;c<e.length;c++)"0"!==e[c].active&&0!==e[c].active&&e[c].viable&&0!==e[c].ratio&&(r+=parseInt(e[c].ratio),o++),(a.isMobile()&&e[c].overlayJson.overlay.hide.mobile||!a.isMobile()&&e[c].overlayJson.overlay.hide.desktop)&&s++;if(t=Math.ceil(Math.random()*r),s===e.length||0===o)return null;for(c=0;c<e.length;c++)if("1"===e[c].active&&!0===e[c].viable){if(i+=parseInt(e[c].ratio),t>n&&t<=i)return c;n=i}return 0},this.scriptsExists=function(){for(var e=document.getElementsByTagName("script"),t=!1,a=!1,r=0;r<e.length;r++)-1!==e[r].src.indexOf("fontawesome.com/7c48d6f13d")?t=!0:-1===e[r].src.indexOf("youtube.com/iframe_api")&&-1===e[r].src.indexOf("youtube.com/player_api")||(a=!0);return{fontAwesome:t,youtube:a}}},void 0===Aiva)Aiva={};if(void 0===aivaController)var aivaController={cookieManager:{}};if(Aiva.CookieManager=function(){var e=new Aiva.Parameters;this.create=function(e,t,a){var r=this.getName(e),n="";if(a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3),n="; expires="+i.toGMTString()}document.cookie=r+"="+JSON.stringify(t)+n+"; path=/"},this.cookieCreate=function(e,t){var a={};a.created=new Date,a.sessionStarted=new Date,a.numberOfVisits=1,a.numberOfDisplays=t?0:1,this.create(e,a,Aiva.Constants.defaultCookieExpiry)},this.update=function(t,a,r,n){var i=e.getCookieData(t),s=this.getValue(t);void 0!==n&&""!==n?s.variantShown=n:void 0!==r&&!0===r?s.success=!0:a&&!i.visitsIncremented?(i.visitsIncremented=!0,s.numberOfVisits++):a||i.displaysIncremented||(i.displaysIncremented=!0,s.numberOfDisplays++),e.setCookieData(t,i),this.erase(t),this.create(t,s,Aiva.Constants.defaultCookieExpiry)},this.resetSession=function(e){var t=this.getValue(e);t.numberOfDisplays=0,t.sessionStarted=new Date,this.erase(e),this.create(e,t,Aiva.Constants.defaultCookieExpiry)},this.find=function(e){for(var t=e.name+"=",a=document.cookie.split(";"),r=0;r<a.length;r++){for(var n=a[r];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t)&&((n=n.split("="))[1]===e.value||""===e.value))return!0}return!1},this.anyAivaCookies=function(){return document.cookie.includes("aivaController_shown")},this.get=function(e){for(var t=e+"=",a=document.cookie.split(";"),r=null,n=0;n<a.length;n++){for(r=a[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return!0}return!1},this.getName=function(t){return e.getProject(t).name.replace(/ /g,"_")+"_aivaController_shown"},this.getValue=function(e){for(var t=this.getName(e)+"=",a=document.cookie.split(";"),r=0;r<a.length;r++){for(var n=a[r];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n=n.split("="),JSON.parse(n[1])}return!1},this.getValueByCookieName=function(e){for(var t=e+"=",a=document.cookie.split(";"),r=0;r<a.length;r++){for(var n=a[r];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n=n.split("="),JSON.parse(n[1])}return!1},this.setValueByCookieName=function(e,t,a){var r="";if(a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3),r="; expires="+n.toGMTString()}document.cookie=e+"="+JSON.stringify(t)+r+"; path=/"},this.erase=function(e){this.create(e,"",-1)},Aiva.CookieManager.get=function(e){return(new Aiva.CookieManager).get(e)},aivaController.cookieManager.get=function(e){return(new Aiva.CookieManager).get(e)}},void 0===Aiva)Aiva={};if(Aiva.Reset=function(){var e=new Aiva.Parameters,t=new Aiva.WebSocket,a=new Aiva.BrowserData,r=new Aiva.Converter;this.reinitialize=function(){var r=e.getParameter("geoLocation");Aiva.Parameters.Data={},e.generateParameters(),e.setParameter("geoLocation",r),a.isBot()||Aiva.ExportData.isPreview||(this.urlChecker(),t.socketComplete())},this.restart=function(){for(var e in Aiva.Parameters.Data.backgroundElements)document.body.removeChild(Aiva.Parameters.Data.backgroundElements[e]);for(var e in Aiva.Parameters.Data.overlayElements)for(document.body.removeChild(Aiva.Parameters.Data.overlayElements[e]);null!==document.getElementById(Aiva.Constants.AnimationCssIdPrefix+e);)document.head.removeChild(document.getElementById(Aiva.Constants.AnimationCssIdPrefix+e));for(;null!==document.getElementById("aiva_vendor_css");)document.head.removeChild(document.getElementById("aiva_vendor_css"));for(;null!==document.getElementById("aiva_font");)document.head.removeChild(document.getElementById("aiva_font"));for(;null!==document.getElementById("aiva_css");)document.head.removeChild(document.getElementById("aiva_css"));this.reinitialize()},this.urlChecker=function(){var a=this,n=setInterval(function(){r.parseUrl(e.getParameter("fullUrl"))!==r.parseUrl(window.location.href)&&(t.newPage(),clearInterval(n),a.restart())},100)},this.stop=function(){0===aivaController.dataSent&&(aivaController.dataSent=1,aivaController.returnAnalytics())}},void 0===Aiva)Aiva={};Aiva.Shopify=function(){new Aiva.Writer;var e=new Aiva.Parameters,t=!1,a=[],r=[];this.initCartJS=async function(){if(!t){var a=e.getParameter("protocol"),r=e.getParameter("hostname"),n=await fetch(a+"//"+r+"/cart.js"),i=await n.json();return jQuery(function(){CartJS.init(i)}),t=!0,i}return!0},this.isCartInitialized=function(){return t},this.getCurrentCart=async function(){var t=e.getParameter("protocol"),a=e.getParameter("hostname"),r=await fetch(t+"//"+a+"/cart.js");return await r.json()},this.checkCartTargetting=function(t,a){var r=e.getVariant(t),n=[];n.push([]);for(var i=0;i<r.overlayJson.target.productRules.length;i++){"OR"==(o=r.overlayJson.target.productRules[i].comparisonCase)&&n.push([])}var s=0;for(i=0;i<r.overlayJson.target.cartRules.length;i++){var o=r.overlayJson.target.cartRules[i].comparisonCase,c=r.overlayJson.target.cartRules[i].comparisonItem,l=r.overlayJson.target.cartRules[i].comparisonType,d=r.overlayJson.target.cartRules[i].comparisonOperator,u=r.overlayJson.target.cartRules[i].comparisonNumber;if("OR"==o&&(s+=1),"cart"==c)"value"==l?"greater"==d?a.total_price>=100*u?n[s].push(!0):n[s].push(!1):a.total_price<=100*u?n[s].push(!0):n[s].push(!1):"greater"==d?a.item_count>=u?n[s].push(!0):n[s].push(!1):a.item_count<=u?n[s].push(!0):n[s].push(!1);else if("value"==l){var g=!1;g="greater"==d?a.total_price>=100*u:a.total_price<=100*u;var m=[];a.items.forEach(function(e){m.push(e.variant_id.toString())});var v=[];r.overlayJson.shopify.productSets[c].products.forEach(function(e){v.push(e.id.toString())});var p=v.some(function(e){return m.indexOf(e)>=0});g&&p?n[s].push(!0):n[s].push(!1)}else{var f=!1;f="greater"==d?a.item_count>=u:a.item_count<=u;m=[];a.items.forEach(function(e){m.push(e.variant_id.toString())});v=[];r.overlayJson.shopify.productSets[c].products.forEach(function(e){v.push(e.id.toString())});p=v.some(function(e){return m.indexOf(e)>=0});f&&p?n[s].push(!0):n[s].push(!1)}}var h=[];return n.forEach(function(e){var t=!0;e.forEach(function(e){0==e&&(t=!1)}),h.push(t)}),!(h.length>0)||!!h.includes(!0)},this.checkProductValueTargetting=async function(t,a){var r=await this.getProductDetails(a),n=e.getVariant(t),i=[];i.push([]);for(var s=0;s<n.overlayJson.target.productRules.length;s++){"OR"==(c=n.overlayJson.target.productRules[s].comparisonCase)&&i.push([])}var o=0;for(s=0;s<n.overlayJson.target.productRules.length;s++){var c=n.overlayJson.target.productRules[s].comparisonCase,l=n.overlayJson.target.productRules[s].comparisonItem,d=n.overlayJson.target.productRules[s].comparisonOperator,u=n.overlayJson.target.productRules[s].comparisonNumber;if("OR"==c&&(o+=1),"allproducts"==l)"greater"==d?r.price>=100*u?"NOT"==c||"IF NOT"==c?i[o].push(!1):i[o].push(!0):"NOT"==c||"IF NOT"==c?i[o].push(!0):i[o].push(!1):r.price<=100*u?"NOT"==c||"IF NOT"==c?i[o].push(!1):i[o].push(!0):"NOT"==c||"IF NOT"==c?i[o].push(!0):i[o].push(!1);else{var g=!1;n.overlayJson.shopify.productSets[l].products.forEach(function(e){a==e.handle&&(g=!0)}),g?"greater"==d?r.price>=100*u?"NOT"==c||"IF NOT"==c?i[o].push(!1):i[o].push(!0):"NOT"==c||"IF NOT"==c?i[o].push(!0):i[o].push(!1):r.price<=100*u?"NOT"==c||"IF NOT"==c?i[o].push(!1):i[o].push(!0):"NOT"==c||"IF NOT"==c?i[o].push(!0):i[o].push(!1):g||"IF NOT"!=c&&"NOT"!=c?i[o].push(!1):i[o].push(!0)}}var m=[];return i.forEach(function(e){var t=!0;e.forEach(function(e){0==e&&(t=!1)}),m.push(t)}),!(m.length>0)||!!m.includes(!0)},this.addItemToCart=function(e,t){var r={quantity:t,id:e};a.push({type:"add-cart",data:r}),this.processRequestQueue()},this.addItemsToCartv2=function(e,t,a,r){return new Promise(function(n,i){for(var s=[],o=0;o<e.length&&!(a&&o+1>a);o++){var c;r&&0==r[o]||(e[o].variant_id&&(c=e[o].variant_id),e[o].id&&(c=e[o].id),e[o].variantDetails&&(c=e[o].variantDetails.id),s.push(new Promise(function(e,a){CartJS.addItem(c,t,{},{success:function(t,a,r){e(t)},error:function(e,t,r){a(r)}})})))}Promise.all(s.map(e=>e.catch(e=>e))).then(e=>n(e)).catch(e=>i(e))})},this.removeItemsFromCartv2=function(e,t,a,r){return new Promise(function(t,a){for(var r={},n=0;n<e.length;n++){var i;e[n].variant_id&&(i=e[n].variant_id),e[n].id&&(i=e[n].id),e[n].variantDetails&&(i=e[n].variantDetails.id),r[i]=0}CartJS.updateItemQuantitiesById(r).success(function(e){t(e)}).error(function(e){a(e)})})},this.addItemToCartFromProductSet=function(e,t,a,n){var i=this;return new Promise(function(s,o){try{if(void 0===r[e]){var c=i.getShopifyDataFromProjectIdentity(a);if(void 0!==c.status)throw new Error(c.data);var l=c.productSets[e];if(1==l.variantGrouping){const e=[],t=new Map;for(const a of l.products)t.has(a.handle)||(t.set(a.handle,!0),e.push({id:a.id,handle:a.handle}));l.products=e}"random"==l.order&&i.generateRandomOrderOfProducts(l.products),i.addItemsToCartv2(l.products,t,l.numOfItems,n).then(function(e){s(e)})}else i.addItemsToCartv2(r[e],t,null,n).then(function(e){s(e)})}catch(e){console.error(e),o(e)}})},this.removeItemsFromCartFromProductSet=function(e,t,a,r){var n=this;return new Promise(function(t,r){try{var i=n.getShopifyDataFromProjectIdentity(a);if(void 0!==i.status)throw new Error(i.data);var s=i.productSets[e];if(1==s.variantGrouping){const e=[],t=new Map;for(const a of s.products)t.has(a.handle)||(t.set(a.handle,!0),e.push({id:a.id,handle:a.handle}));s.products=e}n.removeItemsFromCartv2(s.products,null,null,null).then(function(e){t(e)})}catch(e){console.error(e),r(e)}})},this.processRequestQueue=function(){if(!a.length)return!0;var t=a.shift(),r=this,n=e.getParameter("protocol"),i=e.getParameter("hostname");"add-cart"==t.type&&fetch(n+"//"+i+"/cart/add.js",{method:"POST",body:JSON.stringify(t.data),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return r.processRequestQueue(),!0}).catch(function(e){return console.error("Error:"+e),!1})},this.getShopifyDataFromProjectIdentity=function(t){var a=e.getVariant(t);return null==typeof a.overlayJson.shopify?{status:"error",data:"No Shopify Overlay JSON Data"}:null==typeof a.overlayJson.shopify.productSets?{status:"error",data:"No Shopify Products Available"}:Object.keys(a.overlayJson.shopify.productSets).length?a.overlayJson.shopify:{status:"error",data:"No Shopify Product Sets Available"}},this.findAndUpdateShopifyDynamicOverlayElements=function(e,t){var a=t.children[0].children[0].children;0===a.length&&(a=t.children[0].children);for(var n={},i=0;i<a.length;i++)if(a[i].classList.contains("shopify")&&a[i].dataset.inventoryProductInstance){var s=a[i].dataset.inventoryProductInstance;a[i].dataset.inventoryProductSetIdentifier&&(void 0===n[s]&&(n[s]={}),void 0===n[s].elements&&(n[s].elements=[]),n[s].elements.push(a[i]),n[s].inventorySetID=a[i].dataset.inventoryProductSetIdentifier,void 0===n[s].attributes&&(n[s].attributes=[]),a[i].dataset.inventoryProductTitle&&n[s].attributes.push("inventoryProductTitle"),a[i].dataset.inventoryProductDescription&&n[s].attributes.push("inventoryProductDescription"),a[i].dataset.inventoryVariantTitle&&n[s].attributes.push("inventoryVariantTitle"),a[i].dataset.inventoryVariantPrice&&n[s].attributes.push("inventoryVariantPrice"),a[i].dataset.inventoryVariantImage&&n[s].attributes.push("inventoryVariantImage"))}for(var o in allProductSetIDs=[],n)allProductSetIDs.push(n[o].inventorySetID);frequencyOfSetIDs={};for(i=0;i<allProductSetIDs.length;++i)frequencyOfSetIDs[allProductSetIDs[i]]||(frequencyOfSetIDs[allProductSetIDs[i]]=0),++frequencyOfSetIDs[allProductSetIDs[i]];for(var c in frequencyOfSetIDs){var l=frequencyOfSetIDs[c];this.getInStockProductDetails(e,c,l,15e3).then(function(e){for(var t in r[c]=e,n)n[t].elements.forEach(function(a){a.dataset.inventoryProductTitle&&(a.innerHTML=e[parseInt(t)-1].productDetails.title),a.dataset.inventoryProductDescription&&(a.innerHTML=e[parseInt(t)-1].productDetails.description),a.dataset.inventoryVariantTitle&&(a.innerHTML=e[parseInt(t)-1].variantDetails.public_title),a.dataset.inventoryVariantPrice&&(a.innerHTML=e[parseInt(t)-1].variantDetails.price/100),a.dataset.inventoryVariantImage&&(e[parseInt(t)-1].variantDetails.featured_image?a.src=e[parseInt(t)-1].variantDetails.featured_image.src:Array.isArray(e[parseInt(t)-1].productDetails.images)?a.src=e[parseInt(t)-1].productDetails.images[0]:a.src=e[parseInt(t)-1].productDetails.images)})}).catch(function(){console.log("Aiva - Shopify did not return Inventory Information.")})}},this.getProductDetails=async function(t){try{var a=e.getParameter("protocol"),r=e.getParameter("hostname"),n=await fetch(a+"//"+r+"/products/"+t+".js",{method:"GET"});return await n.json()}catch(e){return{status:"error",data:e}}},this.getInStockProductDetails=function(t,a,r,n){var i=this;return new Promise(function(s,o){(isNaN(r)||0==r)&&(r=1);var c=i.getShopifyDataFromProjectIdentity(t);if(void 0!==c.status)throw new Error(c.data);var l=c.productSets[a];if(1==l.variantGrouping){const e=[],t=new Map;for(const a of l.products)t.has(a.handle)||(t.set(a.handle,!0),e.push({id:a.id,handle:a.handle}));l.products=e}r>l.length&&o("Number of Products Requested More Than Product Set Length"),"random"==l.order&&i.generateRandomOrderOfProducts(l.products);for(var d=[],u=0;u<l.products.length&&!(d.length>=r);u++){var g=l.products[u],m=e.getParameter("protocol"),v=e.getParameter("hostname");fetch(m+"//"+v+"/products/"+g.handle+".js",{method:"GET"}).then(function(e){return e.json()}).then(function(e){var t=e.variants.find(function(e){for(var t=0;t<l.products.length;t++){var a=l.products[t];if(e.id==a.id)return!0}});return!0===t.available&&d.length<r&&d.push({productDetails:e,variantDetails:t}),!0}).catch(function(e){return console.error("Error:"+e),!1})}(null==typeof n||isNaN(n))&&(n=1e4);setTimeout(function(){d.length<r&&o("Gathering Shopify Product Details Timedout (10 seconds)")},n);var p=setInterval(function(){d.length>=r&&(clearInterval(p),s(d))},10)})},this.generateRandomOrderOfProducts=function(e){return this.shuffler(e)},this.objectToArray=function(e){return Object.keys(e).map(function(t){var a={};return a[Number(t)]=e[t],a})},this.shuffler=function(e){for(var t=0;t<e.length-1;t++){var a=t+Math.floor(Math.random()*(e.length-t)),r=e[a];e[a]=e[t],e[t]=r}return e}},function(){var e=new Aiva.LifeCycle,t=new Aiva.WebSocket,a=new Aiva.Reset,r=new Aiva.Parameters,n=new Aiva.BrowserData,i=new Aiva.GoogleAnalytics;e.attachOnDomLoaded("default",function(){null===Aiva.Parameters.Data&&(Aiva.Parameters.Data={},r.generateParameters()),n.isBot()||Aiva.ExportData.isPreview?t.socketComplete():(a.urlChecker(),t.add(),i.isIntegrated()&&(i.isInstantiated()?i.createGA():i.createGA(!0)))})}();if (window.location.hostname !== "proxy.aivalabs.com" && window.location.hostname !== "localhost"){Aiva.ExportData = {"projects":[],"baseCss":".aiva-overlay *{position:absolute!important;box-shadow:none;text-shadow:none;text-align:initial;margin:0;text-decoration:inherit;border-width:3px;text-transform:none;letter-spacing:normal;font-weight:400;background-color:transparent}.aiva-overlay .link{bottom:inherit!important}.aiva-overlay form{width:100%;height:0;overflow:visible;display:block!important}.aiva-overlay{background:#fff;padding:0}.aiva-overlay .aiva-elem{pointer-events:auto}.aiva-overlay .aiva-elem.countdown{overflow:visible!important}.aiva-overlay button{font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,sans-serif;font-weight:400;font-size:15px;min-width:12px;max-width:none;min-height:12px;border:1px solid;position:absolute;padding:1px;line-height:1.4;text-align:center;color:#333!important;border-color:#ccc!important;border-width:1px;cursor:pointer;text-decoration:none;box-sizing:border-box}.aiva-overlay button.btn-edged{color:#333;background:#fff;border-color:#ccc;border-radius:0}.aiva-overlay button.btn-edged:hover{color:#333;background:#e6e6e6;border-color:#adadad;border-radius:0}.aiva-overlay button.btn-success{color:#fff;background:#00b588;border-color:#009675}.aiva-overlay button.btn-success:hover{color:#fff;background:#008261;border-color:#009b75}.aiva-overlay button.btn-warning{color:#fff;background:#f0ad4e;border-color:#eea236}.aiva-overlay button.btn-warning:hover{color:#fff;background:#ec971f;border-color:#d58532}.aiva-overlay button.btn-danger{color:#fff;background:#c03926;border-color:#ab3326}.aiva-overlay button.btn-danger:hover{color:#fff;background:#962d22;border-color:#79241b}.aiva-overlay button.btn-default{color:#333;background:#fff;border-color:#ccc;border-radius:4px}.aiva-overlay button.btn-default:hover{color:#333;background:#e6e6e6;border-color:#adadad;border-radius:4px}.aiva-overlay button.btn-rounded{color:#333;background:#fff;border-color:#ccc;border-radius:10px}.aiva-overlay button.btn-rounded:hover{color:#333;background:#e6e6e6;border-color:#adadad;border-radius:10px}.aiva-overlay button.btn-circle{color:#333;background:#fff;border-color:#ccc;border-radius:100px}.aiva-overlay button.btn-circle:hover{color:#333;background:#e6e6e6;border-color:#adadad;border-radius:100px}.aiva-overlay button.disabled,.aiva-overlay button[disabled]{cursor:not-allowed;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none;opacity:.65}.aiva-overlay button::after{outline:0!important}.aiva-overlay img{max-width:none}.aiva-overlay input{max-width:inherit;min-width:auto;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,sans-serif;font-size:15px;color:#969696;background-color:#fff!important;border:1px solid #ccc!important;padding:5px!important;box-sizing:border-box!important;text-transform:none}.aiva-overlay input[type]{color:#969696!important;font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,sans-serif;font-size:15px;outline:0;border-radius:0}.aiva-overlay input[type]::-webkit-input-placeholder{color:#969696!important;font-family:inherit!important;font-size:15px}.aiva-overlay input[type]:-moz-placeholder{color:#969696!important;font-family:inherit!important;font-size:15px}.aiva-overlay input[type]::-moz-placeholder{color:#969696!important;font-family:inherit!important;font-size:15px;opacity:1}.aiva-overlay input[type]:-ms-input-placeholder{color:#969696!important;font-family:inherit!important;font-size:15px}.aiva-overlay a{font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,sans-serif;font-size:15px;line-height:1.4;border-style:none;overflow:visible!important;text-decoration:none;cursor:pointer}.aiva-overlay .errorAnimation{animation:aiva-error-glow ease-in-out 1.5s infinite,wobble linear .5s 1;-webkit-animation:aiva-error-glow ease-in-out 1.5s infinite,wobble linear .5s 1;-moz-animation:aiva-error-glow ease-in-out 1.5s infinite,wobble linear .5s 1;-o-animation:aiva-error-glow ease-in-out 1.5s infinite,wobble linear .5s 1;-ms-animation:aiva-error-glow ease-in-out 1.5s infinite,wobble linear .5s 1}@keyframes aiva-error-glow{0%,100%{box-shadow:0 0 20px 3px rgba(255,0,0,.4);-webkit-box-shadow:0 0 20px 3px rgba(255,0,0,.4);-moz-box-shadow:0 0 20px 3px rgba(255,0,0,.4)}50%{box-shadow:0 0 10px 3px rgba(255,0,0,.2);-webkit-box-shadow:0 0 10px 3px rgba(255,0,0,.2);-moz-box-shadow:0 0 10px 3px rgba(255,0,0,.2)}}@keyframes wobble{from,to{transform:translate3d(0,0,0)}10%,30%,50%,70%,90%{transform:translate3d(-3px,0,0)}20%,40%,60%,80%{transform:translate3d(3px,0,0)}}.aiva-elem.checkbox-round,.aiva-elem.checkbox-round .checkbox-mask:before{border-radius:100%}.aiva-overlay .checkbox-wrapper{pointer-events:none}.aiva-overlay .checkbox-wrapper .checkbox-input{pointer-events:all;position:absolute!important;width:100%;height:100%;margin:0;padding:0;filter:alpha(opacity=0);-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";opacity:0}.aiva-overlay .checkbox-wrapper .checkbox-input.checked+.checkbox-mask:before,.aiva-overlay .checkbox-wrapper .checkbox-input:checked+.checkbox-mask:before{background:url(data:image\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iQ2FwYV8xIgogICB4PSIwcHgiCiAgIHk9IjBweCIKICAgd2lkdGg9IjQ0Mi41MzNweCIKICAgaGVpZ2h0PSI0NDIuNTMzcHgiCiAgIHZpZXdCb3g9IjAgMCA0NDIuNTMzIDQ0Mi41MzMiCiAgIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ0Mi41MzMgNDQyLjUzMzsiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuNDguNSByMTAwNDAiCiAgIHNvZGlwb2RpOmRvY25hbWU9ImNoZWNrbWFyay5zdmciCiAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iL2hvbWUvZGpvcmRqZS9EZXNrdG9wL2NoZWNrbWFyay5wbmciCiAgIGlua3NjYXBlOmV4cG9ydC14ZHBpPSI5MCIKICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjkwIj48bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE0MSI+PHJkZjpSREY+PGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPjxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PjxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz48L2NjOldvcms+PC9yZGY6UkRGPjwvbWV0YWRhdGE+PGRlZnMKICAgICBpZD0iZGVmczM5IiAvPjxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwIgogICAgIGd1aWRldG9sZXJhbmNlPSIxMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iNjQwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjQ4MCIKICAgICBpZD0ibmFtZWR2aWV3MzciCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjAuNTMzMjkzNTciCiAgICAgaW5rc2NhcGU6Y3g9IjIyMS4yNjY0OSIKICAgICBpbmtzY2FwZTpjeT0iMjA2LjI2NTM4IgogICAgIGlua3NjYXBlOndpbmRvdy14PSI1OTYiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjI2NyIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIwIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImczIiAvPjxnCiAgICAgaWQ9ImczIj48cGF0aAogICAgICAgZD0iTTQzNC41MzksOTguNDk5bC0zOC44MjgtMzguODI4Yy01LjMyNC01LjMyOC0xMS43OTktNy45OTMtMTkuNDEtNy45OTNjLTcuNjE4LDAtMTQuMDkzLDIuNjY1LTE5LjQxNyw3Ljk5M0wxNjkuNTksMjQ3LjI0OCAgIGwtODMuOTM5LTg0LjIyNWMtNS4zMy01LjMzLTExLjgwMS03Ljk5Mi0xOS40MTItNy45OTJjLTcuNjE2LDAtMTQuMDg3LDIuNjYyLTE5LjQxNyw3Ljk5Mkw3Ljk5NCwyMDEuODUyICAgQzIuNjY0LDIwNy4xODEsMCwyMTMuNjU0LDAsMjIxLjI2OWMwLDcuNjA5LDIuNjY0LDE0LjA4OCw3Ljk5NCwxOS40MTZsMTAzLjM1MSwxMDMuMzQ5bDM4LjgzMSwzOC44MjggICBjNS4zMjcsNS4zMzIsMTEuOCw3Ljk5NCwxOS40MTQsNy45OTRjNy42MTEsMCwxNC4wODQtMi42NjksMTkuNDE0LTcuOTk0bDM4LjgzLTM4LjgyOEw0MzQuNTM5LDEzNy4zMyAgIGM1LjMyNS01LjMzLDcuOTk0LTExLjgwMiw3Ljk5NC0xOS40MTdDNDQyLjUzNywxMTAuMzAyLDQzOS44NjQsMTAzLjgyOSw0MzQuNTM5LDk4LjQ5OXoiCiAgICAgICBpZD0icGF0aDUiCiAgICAgICBzdHlsZT0iZmlsbDojMmUzNDM2IiAvPjwvZz48ZwogICAgIGlkPSJnNyIgLz48ZwogICAgIGlkPSJnOSIgLz48ZwogICAgIGlkPSJnMTEiIC8+PGcKICAgICBpZD0iZzEzIiAvPjxnCiAgICAgaWQ9ImcxNSIgLz48ZwogICAgIGlkPSJnMTciIC8+PGcKICAgICBpZD0iZzE5IiAvPjxnCiAgICAgaWQ9ImcyMSIgLz48ZwogICAgIGlkPSJnMjMiIC8+PGcKICAgICBpZD0iZzI1IiAvPjxnCiAgICAgaWQ9ImcyNyIgLz48ZwogICAgIGlkPSJnMjkiIC8+PGcKICAgICBpZD0iZzMxIiAvPjxnCiAgICAgaWQ9ImczMyIgLz48ZwogICAgIGlkPSJnMzUiIC8+PC9zdmc+) center center no-repeat #e9e9e9;background-size:80% 80%}.aiva-overlay .checkbox-wrapper .checkbox-mask{position:absolute!important;width:100%;height:100%;margin:0;padding:0;border:none}.aiva-overlay .checkbox-wrapper .checkbox-mask:before{background:#e9e9e9;display:block;width:100%;height:100%;margin:0;border:1px solid #a8a8a8;content:' '}.aiva-overlay .checkbox-wrapper .checkbox-mask:after{display:none}.aiva-overlay .container{min-height:50px}.aiva-overlay .container:empty{border:1px dashed #3c3c3c;min-height:200px}.aiva-overlay .row{min-height:50px}.aiva-overlay .row:empty{border:1px dashed #3c3c3c;min-height:150px;width:100%;min-width:500px}.aiva-overlay img.helper{width:40%!important}.aiva-overlay [class^=col-]:empty{min-height:150px;border:1px dashed #3c3c3c}.aiva-overlay .center-preview{display:block!important;margin:0 auto!important;text-align:center}.aiva-overlay .rectangle{box-sizing:border-box;width:0;height:0;background:#fff;fill:#fff;border-width:1px;border-style:solid;border-color:#ccc}.aiva-overlay .aiva-elem.circle,.aiva-overlay .ellipse{box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ccc;background:#fff;-moz-border-radius:1000px;-webkit-border-radius:1000px;border-radius:1000px}div.aiva-elem.triangle-bottom-left,div.aiva-elem.triangle-bottom-right,div.aiva-elem.triangle-down,div.aiva-elem.triangle-left,div.aiva-elem.triangle-right,div.aiva-elem.triangle-top-left,div.aiva-elem.triangle-top-right,div.aiva-elem.triangle-up{fill:#fff;stroke-width:1px;stroke:#ccc}.aiva-overlay .textBox{font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,sans-serif;color:#000;line-height:1.4;overflow-wrap:break-word;padding:0!important}.aiva-overlay .shape{z-index:auto;padding:0!important}.aiva-overlay img{padding:0!important}.aiva-overlay div.video-container{width:450px;height:310px;padding:0!important}.aiva-overlay div.video-container video{width:100%;height:100%;padding:0!important}.aiva-overlay iframe{pointer-events:auto;padding:0!important}.aiva-overlay .icon{color:#222;overflow:visible!important;padding:0!important}.aiva-overlay .social-elm{padding:0!important;max-width:inherit;border:none;width:auto}.aiva-overlay .social-signup{cursor:pointer}.aiva-overlay .textBox span,.aiva-overlay b,.aiva-overlay i,.aiva-overlay u{color:inherit;position:static!important;position:initial!important;font-weight:inherit}.aiva-overlay b{font-weight:600!important}.aiva-overlay u{text-decoration:underline}.aiva-overlay .textBox div{position:static!important;position:initial!important;text-align:inherit;font:inherit}.aiva-overlay .aiva-block-elem div,.aiva-overlay .aiva-block-elem th,.aiva-overlay .aiva-block-elem tr,.aiva-overlay .section-description{position:static!important;position:initial!important;border:0}.aiva-overlay .aiva-block-elem span{position:static!important;position:initial!important}.aiva-overlay .time-section{background:#fff}.aiva-overlay .aiva-block-elem th{padding:0}.aiva-overlay .aiva-tooltip-toggle{cursor:pointer;position:relative}.aiva-overlay .aiva-tooltip-toggle::before{font-size:12px;position:absolute;z-index:1;bottom:105%;left:0;right:0;margin:0 auto;background-color:#2B222A;border-radius:5px;content:attr(data-label);padding:.65rem;text-transform:none;transition:all .5s ease;width:fit-content}.aiva-overlay .aiva-tooltip-toggle::after{position:absolute;top:-5%;left:0;right:0;margin:0 auto;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #1f1f1f;content:\" \";font-size:0;line-height:0;transition:all .5s ease;width:fit-content}.aiva-overlay .aiva-tooltip-toggle::after,.aiva-overlay .aiva-tooltip-toggle::before{color:#efefef;opacity:0;pointer-events:none;text-align:center}.aiva-overlay .aiva-tooltip-toggle:focus::after,.aiva-overlay .aiva-tooltip-toggle:focus::before,.aiva-overlay .aiva-tooltip-toggle:hover::after,.aiva-overlay .aiva-tooltip-toggle:hover::before{opacity:1;transition:all .75s ease}","clientEmail":"communications@ahduni.edu.in","persistCode":"NK4TBaGOgpu4isjCpkFJY.7p6fvimnbZsdlSw0LeC7nfxjolvUmfi","isPreview":false,"previewType":"none","GoogleTrackers":"{\"properties\":[{\"ahduni.edu.in\":\"UA-50082125-4\"}]}","plan":"Free","timezone":null};}